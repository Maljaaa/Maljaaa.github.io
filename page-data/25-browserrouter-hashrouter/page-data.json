{"componentChunkName":"component---src-templates-post-template-index-tsx","path":"/25-browserrouter-hashrouter/","result":{"data":{"cur":{"id":"da8f0537-38c7-5029-815a-f2a7e1fafc96","html":"<p>CRAë¡œ ë¦¬ì•¡íŠ¸ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ë©´, ê¸°ë³¸ì ìœ¼ë¡œ react-router-domì„ ì‚¬ìš©í•˜ê²Œ ë©ë‹ˆë‹¤. ì´ react-router-domì€ ë‘ ê°€ì§€ ë¼ìš°í„°ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ë°”ë¡œ BrowserRouterì™€ HashRouterì£ .</p>\n<p>ì´ ë‘ ê°œë…ì€ react-router-domì—ë§Œ í•´ë‹¹ë˜ëŠ” ì´ì•¼ê¸°ëŠ” ì•„ë‹™ë‹ˆë‹¤. BrowserRouterëŠ” HTML5ì˜ history APIë¥¼ ì‚¬ìš©í•œ ë°©ì‹ì´ê³ , HashRouterëŠ” URLì˜ hashë¥¼ ì‚¬ìš©í•œ ë°©ì‹ì…ë‹ˆë‹¤. ë¦¬ì•¡íŠ¸ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì§ì ‘ ë¼ìš°í„°ë¥¼ ì§ì ‘ êµ¬í˜„í•œë‹¤ í•˜ë”ë¼ë„, ìš°ë¦¬ëŠ” ì´ ë°©ì‹ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>Â </p>\n<h2 id=\"react-router\" style=\"position:relative;\"><a href=\"#react-router\" aria-label=\"react router permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>react-router</h2>\n<p>ìš°ì„ ì€ ë¦¬ì•¡íŠ¸ ë¼ìš°í„°ì— ëŒ€í•´ ì ê¹ ì‚´í´ë´…ì‹œë‹¤. SPAê°€ ë“±ì¥í•˜ê¸° ì „ì—ëŠ” ì–´ë–»ê²Œ í˜ì´ì§€ë¥¼ ì´ë™ì‹œì¼°ì„ê¹Œìš”? <code class=\"language-text\">&lt;a href=\"\">&lt;/a></code>ë¥¼ ì‚¬ìš©í•´ì„œ ì§ì ‘ urlì„ ë³€ê²½ì‹œì¼°ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ë ‡ê²Œ í•˜ë©´ ëª¨ë“  í˜ì´ì§€ë¥¼ reloadí•˜ê²Œ ë˜ë¯€ë¡œ ì†ë„ê°€ ëŠë ¤ì§ˆ ìˆ˜ë°–ì— ì—†ìŠµë‹ˆë‹¤. ë¦¬ì•¡íŠ¸ì—ì„œëŠ” SPAë¼ëŠ” íŠ¹ì„±ì„ í™œìš©í•˜ì—¬ ë¼ìš°í„°ë¥¼ ì´ìš©í•˜ì—¬ ë³€ê²½ëœ ì†ŒìŠ¤ë§Œ ë°”ë€Œë„ë¡ í•©ë‹ˆë‹¤.</p>\n<p>Â </p>\n<h2 id=\"browserrotuer\" style=\"position:relative;\"><a href=\"#browserrotuer\" aria-label=\"browserrotuer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>BrowserRotuer</h2>\n<ul>\n<li>HTML5ì˜ history APIë¥¼ í™œìš©í•œ ë¼ìš°í„°ì…ë‹ˆë‹¤.</li>\n<li>SSRì— ì í•©í•©ë‹ˆë‹¤.</li>\n<li>ìƒˆë¡œê³ ì¹¨í•˜ê±°ë‚˜ urlë¡œ ì§ì ‘ ì ‘ê·¼í•  ê²½ìš° ê²½ë¡œë¥¼ ì°¾ì§€ ëª»í•´ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤.</li>\n<li>ì´ë¥¼ í•´ê²°í•˜ë ¤ë©´ ì„œë²„ì— ì¶”ê°€ì ì¸ ì„¸íŒ…ì´ í•„ìš”í•©ë‹ˆë‹¤.</li>\n<li>ë”°ë¼ì„œ ë°°í¬ê°€ ì¢€ ë” ë³µì¡í•©ë‹ˆë‹¤.</li>\n</ul>\n<p>Â </p>\n<h2 id=\"hashrouter\" style=\"position:relative;\"><a href=\"#hashrouter\" aria-label=\"hashrouter permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HashRouter</h2>\n<ul>\n<li>URLì˜ hashë¥¼ í™œìš©í•œ ë¼ìš°í„°ì…ë‹ˆë‹¤.</li>\n<li>CSRì— ì í•©í•©ë‹ˆë‹¤.</li>\n<li>ë¼ìš°í„°ì— #ê°€ ë¶™ìŠµë‹ˆë‹¤.</li>\n<li>í•´ì‹œë¥¼ ì‚¬ìš©í•˜ë©´ ì„œë²„ì— ìš”ì²­í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ìƒˆë¡œê³ ì¹¨í•˜ê±°ë‚˜ urlë¡œ ì§ì ‘ ì ‘ê·¼í•´ë„ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</li>\n<li>ë”°ë¼ì„œ ë°°í¬ê°€ ì¢€ ë” ê°„ë‹¨í•©ë‹ˆë‹¤.</li>\n<li>í•˜ì§€ë§Œ # ë•Œë¬¸ì— ê²€ìƒ‰ ì—”ì§„ì´ ì½ì§€ ëª»í•˜ì—¬ SEOê°€ ì¢‹ì§€ ì•ŠìŠµë‹ˆë‹¤.</li>\n</ul>\n<p>í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ê²Œ ë˜ë©´, ë¸Œë¼ìš°ì €ê°€ í˜„ì¬ ê²½ë¡œë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë²„ì— GET ìš”ì²­ì„ ë³´ë‚´ê²Œ ë©ë‹ˆë‹¤. #ì€ GET ìš”ì²­ì„ ë³´ë‚´ì§€ ëª»í•˜ë„ë¡í•˜ëŠ” ë° ì‚¬ìš©ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ë¡œ ì¸í•´ ë‘ ë¼ìš°í„° ì‚¬ì´ì—ëŠ” í° ì°¨ì´ê°€ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ë”°ë¡œ ì„œë²„ê°€ ì¡´ì¬í•˜ê³ , SEO ìµœì í™”ê°€ í•„ìš”í•œ ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸ì—ëŠ” BrowserRouterë¥¼, ê°œì¸ì ìœ¼ë¡œ ê°„ë‹¨í•˜ê²Œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•  ê²½ìš°ì—ëŠ” HashRouterë¥¼ ì‚¬ìš©í•˜ë©´ ì í•©í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#react-router\">react-router</a></li>\n<li><a href=\"#browserrotuer\">BrowserRotuer</a></li>\n<li><a href=\"#hashrouter\">HashRouter</a></li>\n</ul>\n</div>","excerpt":"CRAë¡œ ë¦¬ì•¡íŠ¸ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ë©´, ê¸°ë³¸ì ìœ¼ë¡œ react-router-domì„ ì‚¬ìš©í•˜ê²Œ ë©ë‹ˆë‹¤. ì´ react-router-domì€ ë‘ ê°€ì§€ ë¼ìš°í„°ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ë°”ë¡œ BrowserRouterì™€ HashRouterì£ . ì´ ë‘ ê°œë…ì€ react-router-domì—ë§Œ í•´ë‹¹ë˜ëŠ” ì´ì•¼ê¸°ëŠ” ì•„ë‹™ë‹ˆë‹¤. BrowserRouterëŠ” HTML5ì˜ history APIë¥¼ ì‚¬ìš©í•œ ë°©ì‹ì´ê³ , HashRouterëŠ” URLì˜ hashë¥¼ ì‚¬ìš©í•œ ë°©ì‹ì…ë‹ˆë‹¤. ë¦¬ì•¡íŠ¸ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì§ì ‘ ë¼ìš°í„°ë¥¼ ì§ì ‘ êµ¬í˜„í•œë‹¤ í•˜ë”ë¼ë„, ìš°ë¦¬ëŠ” ì´ ë°©ì‹ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Â  react-router ìš°ì„ ì€ ë¦¬ì•¡íŠ¸ ë¼ìš°í„°ì— ëŒ€í•´ ì ê¹ ì‚´í´ë´…ì‹œë‹¤. SPAê°€ ë“±ì¥í•˜ê¸° ì „ì—ëŠ” ì–´ë–»ê²Œ í˜ì´ì§€ë¥¼ ì´ë™ì‹œì¼°ì„ê¹Œìš”? ë¥¼ ì‚¬ìš©í•´ì„œ ì§ì ‘ urlì„ ë³€ê²½ì‹œì¼°ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ë ‡ê²Œ í•˜ë©´ ëª¨ë“  í˜ì´ì§€ë¥¼ reloadí•˜ê²Œ ë˜ë¯€ë¡œ ì†ë„ê°€ ëŠë ¤ì§ˆ ìˆ˜ë°–ì— ì—†ìŠµë‹ˆë‹¤. ë¦¬ì•¡íŠ¸ì—ì„œëŠ” SPAë¼ëŠ” íŠ¹ì„±ì„ í™œìš©í•˜ì—¬ ë¼ìš°í„°ë¥¼ ì´ìš©í•˜ì—¬ ë³€ê²½ëœ ì†ŒìŠ¤ë§Œ ë°”ë€Œë„ë¡ â€¦","frontmatter":{"date":"2022.05.14","title":"BrowserRouterì™€ HashRouter, ë­ê°€ ë‹¤ë¥¼ê¹Œ? (feat. React Router)","categories":"Dev","emoji":"ğŸšª"},"fields":{"slug":"/25-browserrouter-hashrouter/"}},"next":{"id":"ed442853-bbac-5b7f-bae7-fb21c9b5e9b4","html":"<p>ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ì™€ ìœ ì‚¬í•œ êµ¬ì¡°ë¥¼ classë¡œ ë§Œë“¤ì–´ ë´…ì‹œë‹¤!</p>\n<p>Â </p>\n<h2 id=\"1-component-êµ¬ì¡°\" style=\"position:relative;\"><a href=\"#1-component-%EA%B5%AC%EC%A1%B0\" aria-label=\"1 component êµ¬ì¡° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Component êµ¬ì¡°</h2>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">PropsType</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">StateType</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Component<span class=\"token operator\">&lt;</span><span class=\"token constant\">P</span> <span class=\"token keyword\">extends</span> PropsType<span class=\"token punctuation\">,</span> <span class=\"token constant\">S</span> <span class=\"token keyword\">extends</span> StateType<span class=\"token operator\">></span></span> <span class=\"token punctuation\">{</span>\n  target<span class=\"token operator\">:</span> Element<span class=\"token punctuation\">;</span>\n  props<span class=\"token operator\">:</span> <span class=\"token constant\">P</span><span class=\"token punctuation\">;</span>\n  state<span class=\"token operator\">:</span> <span class=\"token constant\">S</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span> <span class=\"token comment\">// ìƒì„±ì</span>\n  \n  <span class=\"token function\">setup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>       <span class=\"token comment\">// ê¸°ë³¸ì ì¸ ì„ ì–¸ ë° í• ë‹¹</span>\n  <span class=\"token function\">template</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>     <span class=\"token comment\">// element ë°˜í™˜</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"\"</span>\n  <span class=\"token punctuation\">}</span>    \n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// ìƒëª…ì£¼ê¸° ë©”ì„œë“œ</span>\n  <span class=\"token function\">didMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token function\">didUpdate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  \n  <span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>    <span class=\"token comment\">// state ì—…ë°ì´íŠ¸</span>\n  \n  <span class=\"token comment\">// event ë“±ë¡</span>\n  <span class=\"token function\">setEvent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>    \n  <span class=\"token function\">addEvent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>targetìœ¼ë¡œëŠ” í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ê°€ ë“¤ì–´ê°ˆ Elementë¥¼ ë°›ê²Œ ë©ë‹ˆë‹¤. ì»´í¬ë„ŒíŠ¸ëŠ” ë¶€ëª¨ë¡œë¶€í„° ë°›ì€ propsì™€ ìŠ¤ìŠ¤ë¡œ ê´€ë¦¬í•˜ëŠ” stateë¥¼ ê°€ì§‘ë‹ˆë‹¤. ì»´í¬ë„ŒíŠ¸ ìƒëª…ì£¼ê¸°ì™€ ê´€ë ¨ëœ ë©”ì„œë“œ, ì²« ë Œë”ë§ê³¼ ì´í›„ ìƒíƒœê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œì˜ ë¦¬ë Œë”ë§ì„ ìœ„í•œ ë©”ì„œë“œ, ìƒíƒœ ì—…ë°ì´íŠ¸ì™€ ì´ë²¤íŠ¸ ë“±ë¡ê³¼ ê´€ë ¨ëœ ë©”ì„œë“œë¥¼ ì ì–´ì£¼ì—ˆìŠµë‹ˆë‹¤. template ë©”ì„œë“œì—ì„œëŠ” ì‹¤ì œ ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ê·¸ë¦¬ê²Œ ë©ë‹ˆë‹¤. ê¸°ë³¸ê°’ìœ¼ë¡œëŠ” ë¹ˆ ìŠ¤íŠ¸ë§ì„ ë°˜í™˜í•˜ë„ë¡ í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.</p>\n<p>Â </p>\n<h2 id=\"2-class-ì´ˆê¸°í™”\" style=\"position:relative;\"><a href=\"#2-class-%EC%B4%88%EA%B8%B0%ED%99%94\" aria-label=\"2 class ì´ˆê¸°í™” permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. \bClass ì´ˆê¸°í™”</h2>\n<p>ìš°ì„ , ì»´í¬ë„ŒíŠ¸ ê°ì²´ê°€ ì¸ìŠ¤í„´ìŠ¤í™”ë  ë•Œì˜ ì„¤ì •ì„ ìƒì„±ìì—ì„œ í•´ì£¼ì–´ì•¼ê² ì£ .</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>target<span class=\"token operator\">:</span> Element<span class=\"token punctuation\">,</span> props<span class=\"token operator\">:</span> <span class=\"token constant\">P</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>target <span class=\"token operator\">=</span> target<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props <span class=\"token operator\">=</span> props<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span> <span class=\"token keyword\">as</span> <span class=\"token constant\">S</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setEvent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì»´í¬ë„ŒíŠ¸ê°€ ë“¤ì–´ê°ˆ Elementë¥¼ ë°›ì•„ ë“±ë¡í•˜ê³ , propsë„ ë°›ì•„ì„œ ë“±ë¡í•´ì¤ë‹ˆë‹¤. stateëŠ” ë¹ˆ ê°ì²´ë¥¼ í• ë‹¹í•©ë‹ˆë‹¤. setup ë©”ì„œë“œì—ì„œëŠ” state ì´ˆê¹ƒê°’ ì„ ì–¸, api í˜¸ì¶œ ë“± ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë˜ê¸° ì „ì— ì¼ì–´ë‚˜ì•¼ í•  ì¼ë“¤ì„ ì²˜ë¦¬í•˜ëŠ” ìš©ë„ì…ë‹ˆë‹¤. ê·¸ í›„ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§ˆìš´íŠ¸í•˜ê³ , ì´ë²¤íŠ¸ë¥¼ í• ë‹¹í•´ì£¼ê²Œ ë©ë‹ˆë‹¤.</p>\n<p>Â </p>\n<h2 id=\"3-ìƒëª…ì£¼ê¸°\" style=\"position:relative;\"><a href=\"#3-%EC%83%9D%EB%AA%85%EC%A3%BC%EA%B8%B0\" aria-label=\"3 ìƒëª…ì£¼ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. ìƒëª…ì£¼ê¸°</h2>\n<p>ë¦¬ì•¡íŠ¸ì˜ ìƒëª…ì£¼ê¸°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p>\n<h3 id=\"ë§ˆìš´íŠ¸-ì‹œ\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%9A%B4%ED%8A%B8-%EC%8B%9C\" aria-label=\"ë§ˆìš´íŠ¸ ì‹œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆìš´íŠ¸ ì‹œ</h3>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">static</span> <span class=\"token function\">getDerivedStateFromProps</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">componentDidMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ê°€ ìˆœì„œëŒ€ë¡œ í˜¸ì¶œë©ë‹ˆë‹¤.</p>\n<h3 id=\"ì—…ë°ì´íŠ¸-ì‹œ\" style=\"position:relative;\"><a href=\"#%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8-%EC%8B%9C\" aria-label=\"ì—…ë°ì´íŠ¸ ì‹œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì—…ë°ì´íŠ¸ ì‹œ</h3>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">static</span> <span class=\"token function\">getDerivedStateFromProps</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">shoudComponentUpdate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">componentDidUpdate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ê°€ ìˆœì„œëŒ€ë¡œ í˜¸ì¶œë©ë‹ˆë‹¤.</p>\n<p>ë§ˆìš´íŠ¸ì— í•´ë‹¹í•˜ëŠ” ë©”ì„œë“œë¥¼ mount(), ì—…ë°ì´íŠ¸ì— í•´ë‹¹í•˜ëŠ” ë©”ì„œë“œë¥¼ update()ë¡œ ë‘ì—ˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> template <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">template</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>template<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> template<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">didMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">didUpdate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>renderì—ì„œ innerHTMLì— ì‘ì„±í•œ í…œí”Œë¦¿ì„ ë„£ì–´ì£¼ê³ , mount ë‚´ì—ì„œëŠ” render í˜¸ì¶œ í›„ didMount í˜¸ì¶œì„, update ë‚´ì—ì„œëŠ” render í˜¸ì¶œ í›„ didUpdate í˜¸ì¶œì„ í•˜ê²Œ ë©ë‹ˆë‹¤.</p>\n<p>Â </p>\n<h2 id=\"4-ìƒíƒœ-ì—…ë°ì´íŠ¸\" style=\"position:relative;\"><a href=\"#4-%EC%83%81%ED%83%9C-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8\" aria-label=\"4 ìƒíƒœ ì—…ë°ì´íŠ¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. ìƒíƒœ ì—…ë°ì´íŠ¸</h2>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span>newState<span class=\"token operator\">:</span> Partial<span class=\"token operator\">&lt;</span><span class=\"token constant\">S</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> nextState <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>newState <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>nextState<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> nextState<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì»´í¬ë„ŒíŠ¸ ë‚´ ìƒíƒœëŠ” ê°ì²´ë¡œ ê´€ë¦¬í•˜ê²Œ ë©ë‹ˆë‹¤. ë³€í•œ ìš”ì†Œë§Œ ì—…ë°ì´íŠ¸í•˜ê³  ë‹¤ë¥¸ ìš”ì†Œë“¤ì€ ê·¸ëŒ€ë¡œ ê°€ì ¸ê°ˆ ìˆ˜ ìˆê²Œë” nextStateë¥¼ ì„ ì–¸í•´ì¤ì‹œë‹¤. ê·¸ í›„ ìƒíƒœê°€ ì •ë§ë¡œ ë°”ë€Œì—ˆë‹¤ë©´ stateë¥¼ ë°”ê¿”ì£¼ê³ , updateë¥¼ í˜¸ì¶œí•˜ê²Œ ë©ë‹ˆë‹¤.</p>\n<p>Â </p>\n<h2 id=\"5-ì´ë²¤íŠ¸-ë“±ë¡\" style=\"position:relative;\"><a href=\"#5-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%93%B1%EB%A1%9D\" aria-label=\"5 ì´ë²¤íŠ¸ ë“±ë¡ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. ì´ë²¤íŠ¸ ë“±ë¡</h2>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token function\">addEvent</span><span class=\"token punctuation\">(</span>eventType<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> selector<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> callback<span class=\"token operator\">:</span> <span class=\"token builtin\">Function</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> children<span class=\"token operator\">:</span> Element<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span>selector<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">isTarget</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>target<span class=\"token operator\">:</span> Element<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n    children<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> target<span class=\"token punctuation\">.</span><span class=\"token function\">closest</span><span class=\"token punctuation\">(</span>selector<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span>eventType<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>event<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">isTarget</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">callback</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ë²¤íŠ¸ íƒ€ì…(click, scroll ë“±)ê³¼ ì—˜ë¦¬ë¨¼íŠ¸ ìš”ì†Œ, ì½œë°±ì„ ë°›ìŠµë‹ˆë‹¤. ì´ë²¤íŠ¸ì˜ íƒ€ê²Ÿì´ ìš”ì†Œì™€ ì¼ì¹˜í•˜ê²Œ ë˜ë©´ ì½œë°±ì„ ì‹¤í–‰í•˜ê²Œ ë©ë‹ˆë‹¤.</p>\n<p>Â </p>\n<h2 id=\"ì „ì²´-ì½”ë“œ\" style=\"position:relative;\"><a href=\"#%EC%A0%84%EC%B2%B4-%EC%BD%94%EB%93%9C\" aria-label=\"ì „ì²´ ì½”ë“œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì „ì²´ ì½”ë“œ</h2>\n<p><code class=\"language-text\">/src/core/Component.ts</code></p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">PropsType</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">StateType</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Component<span class=\"token operator\">&lt;</span><span class=\"token constant\">P</span> <span class=\"token keyword\">extends</span> PropsType<span class=\"token punctuation\">,</span> <span class=\"token constant\">S</span> <span class=\"token keyword\">extends</span> StateType<span class=\"token operator\">></span></span> <span class=\"token punctuation\">{</span>\n  target<span class=\"token operator\">:</span> Element<span class=\"token punctuation\">;</span>\n  props<span class=\"token operator\">:</span> <span class=\"token constant\">P</span><span class=\"token punctuation\">;</span>\n  state<span class=\"token operator\">:</span> <span class=\"token constant\">S</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>target<span class=\"token operator\">:</span> Element<span class=\"token punctuation\">,</span> props<span class=\"token operator\">:</span> <span class=\"token constant\">P</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>target <span class=\"token operator\">=</span> target<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props <span class=\"token operator\">=</span> props<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span> <span class=\"token keyword\">as</span> <span class=\"token constant\">S</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setEvent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">setup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token function\">template</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> template <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">template</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>template<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> template<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">didMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">didUpdate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">didMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token function\">didUpdate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">setState</span><span class=\"token punctuation\">(</span>newState<span class=\"token operator\">:</span> Partial<span class=\"token operator\">&lt;</span><span class=\"token constant\">S</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> nextState <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>newState <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>nextState<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> nextState<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">setEvent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token function\">addEvent</span><span class=\"token punctuation\">(</span>eventType<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> selector<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> callback<span class=\"token operator\">:</span> <span class=\"token builtin\">Function</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> children<span class=\"token operator\">:</span> Element<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span>selector<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">isTarget</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>target<span class=\"token operator\">:</span> Element<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n      children<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> target<span class=\"token punctuation\">.</span><span class=\"token function\">closest</span><span class=\"token punctuation\">(</span>selector<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span>eventType<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>event<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">isTarget</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">callback</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#1-component-%EA%B5%AC%EC%A1%B0\">1. Component êµ¬ì¡°</a></p>\n</li>\n<li>\n<p><a href=\"#2-class-%EC%B4%88%EA%B8%B0%ED%99%94\">2. \bClass ì´ˆê¸°í™”</a></p>\n</li>\n<li>\n<p><a href=\"#3-%EC%83%9D%EB%AA%85%EC%A3%BC%EA%B8%B0\">3. ìƒëª…ì£¼ê¸°</a></p>\n<ul>\n<li><a href=\"#%EB%A7%88%EC%9A%B4%ED%8A%B8-%EC%8B%9C\">ë§ˆìš´íŠ¸ ì‹œ</a></li>\n<li><a href=\"#%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8-%EC%8B%9C\">ì—…ë°ì´íŠ¸ ì‹œ</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#4-%EC%83%81%ED%83%9C-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8\">4. ìƒíƒœ ì—…ë°ì´íŠ¸</a></p>\n</li>\n<li>\n<p><a href=\"#5-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%93%B1%EB%A1%9D\">5. ì´ë²¤íŠ¸ ë“±ë¡</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%A0%84%EC%B2%B4-%EC%BD%94%EB%93%9C\">ì „ì²´ ì½”ë“œ</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"2022.04.12","title":"ë°”ë‹ë¼JS(TS)ë¡œ ë¦¬ì•¡íŠ¸ SPA êµ¬í˜„í•˜ê¸° | (2) í´ë˜ìŠ¤ë¡œ ì»´í¬ë„ŒíŠ¸ êµ¬í˜„","categories":"Dev Reactë§Œë“¤ì–´ë³´ê¸°","emoji":"ğŸ¦"},"fields":{"slug":"/24-vanilla-spa-2/"}},"prev":{"id":"011e807a-68da-52c3-8bae-111e2004310e","html":"<p>ë¼ìš°í„°ë¥¼ êµ¬í˜„í•˜ëŠ” ëŒ€í‘œì ì¸ ë°©ë²•ì—ëŠ” ë‘ ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤. ë°”ë¡œ BrowserRouterì™€ HashRouterì¸ë°ìš”, ì´ ë‘˜ì˜ ì°¨ì´ì— ëŒ€í•´ ì˜ ëª¨ë¥´ì‹ ë‹¤ë©´ ì•„ë˜ì˜ ê¸€ì„ ë¨¼ì € ì½ì–´ì£¼ì„¸ìš”!<br>\n[BrowserRouterì™€ HashRouter, ë­ê°€ ë‹¤ë¥¼ê¹Œ? (feat. React Router)]</p>\n<p>HashRouterì™€ BrowserRouterë¥¼ ëª¨ë‘ êµ¬í˜„í•´ ë³¼ í…ë°ìš”, ì´ë²ˆ ê¸€ì—ì„œëŠ” HashRouterì— ëŒ€í•´ ë¨¼ì € ë‹¤ë£¨ì–´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>\n<p>Â </p>\n<h2 id=\"1-route-íƒ€ì…-ì •ì˜\" style=\"position:relative;\"><a href=\"#1-route-%ED%83%80%EC%9E%85-%EC%A0%95%EC%9D%98\" aria-label=\"1 route íƒ€ì… ì •ì˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Route íƒ€ì… ì •ì˜</h2>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">Route</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  page<span class=\"token operator\">:</span> <span class=\"token keyword\">typeof</span> Component<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ë¼ìš°íŠ¸ëŠ” pathì™€ í•´ë‹¹ pathì— í•´ë‹¹í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì§€ëŠ” ê°ì²´ì…ë‹ˆë‹¤.</p>\n<p>Â </p>\n<h2 id=\"2-router-êµ¬ì¡°\" style=\"position:relative;\"><a href=\"#2-router-%EA%B5%AC%EC%A1%B0\" aria-label=\"2 router êµ¬ì¡° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Router êµ¬ì¡°</h2>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Router</span> <span class=\"token punctuation\">{</span>\n  $app<span class=\"token operator\">:</span> HTMLElement<span class=\"token punctuation\">;</span>\n  routes<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">[</span>key<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token keyword\">typeof</span> Component<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  fallback<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>         <span class=\"token comment\">// ìƒì„±ì</span>\n\n  <span class=\"token function\">initEvent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>           <span class=\"token comment\">// hashê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œì˜ ì´ë²¤íŠ¸ init</span>\n  \n  <span class=\"token function\">onHashChangeHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span> <span class=\"token comment\">// hashê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œì˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬</span>\n\n  <span class=\"token function\">hasRoute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>            <span class=\"token comment\">// ì˜¬ë°”ë¥¸ ë¼ìš°íŠ¸ì¸ì§€ ê²€ì¦</span>\n\n  <span class=\"token function\">getRoute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>            <span class=\"token comment\">// í•´ë‹¹ ë¼ìš°íŠ¸ ê°€ì ¸ì˜¤ê¸°</span>\n\n  <span class=\"token function\">renderPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>          <span class=\"token comment\">// í˜ì´ì§€ ë Œë”ë§</span>\n\n  <span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>                <span class=\"token comment\">// ë¼ìš°í„° push</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>SPAì˜ ìµœìƒë‹¨ ì—˜ë¦¬ë¨¼íŠ¸ ê°ì²´ì™€ ì •ì˜ëœ ë¼ìš°íŠ¸ë“¤ì„ í•„ìˆ˜ì ìœ¼ë¡œ ë°›ê²Œ ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì´ë²¤íŠ¸ì™€ ë¼ìš°íŠ¸ë¥¼ ë‹¤ë£¨ëŠ” ì—¬ëŸ¬ ë©”ì„œë“œë¥¼ í†µí•´ ë¼ìš°íŒ…ì„ í•˜ê²Œ ë©ë‹ˆë‹¤.</p>\n<p>Â </p>\n<h2 id=\"3-class-ì´ˆê¸°í™”\" style=\"position:relative;\"><a href=\"#3-class-%EC%B4%88%EA%B8%B0%ED%99%94\" aria-label=\"3 class ì´ˆê¸°í™” permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Class ì´ˆê¸°í™”</h2>\n<p>ìš°ì„ , ë¼ìš°í„° ê°ì²´ê°€ ì¸ìŠ¤í„´ìŠ¤í™”ë  ë•Œì˜ ì„¤ì •ì„ ìƒì„±ìì—ì„œ í•´ì£¼ì–´ì•¼ê² ì£ .</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  $app<span class=\"token punctuation\">,</span>\n  routes<span class=\"token punctuation\">,</span>\n  fallback <span class=\"token operator\">=</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  $app<span class=\"token operator\">:</span> HTMLElement<span class=\"token punctuation\">;</span>\n  routes<span class=\"token operator\">:</span> Route<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  fallback<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$app <span class=\"token operator\">=</span> $app<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fallback <span class=\"token operator\">=</span> fallback<span class=\"token punctuation\">;</span>\n\n  routes<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>route<span class=\"token operator\">:</span> Route<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>routes<span class=\"token punctuation\">[</span>route<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> route<span class=\"token punctuation\">.</span>page<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">initEvent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ìµœìƒë‹¨ ì—˜ë¦¬ë¨¼íŠ¸ ê°ì²´, fallback url, ë¼ìš°íŠ¸ë“¤ì„ ì´ˆê¸°í™”í•´ì£¼ê³ , <code class=\"language-text\">initEvent</code>ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.</p>\n<p>Â </p>\n<h2 id=\"4-hashê°€-ë³€ê²½ë -ë•Œì˜-ì´ë²¤íŠ¸-ì²˜ë¦¬\" style=\"position:relative;\"><a href=\"#4-hash%EA%B0%80-%EB%B3%80%EA%B2%BD%EB%90%A0-%EB%95%8C%EC%9D%98-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%B2%98%EB%A6%AC\" aria-label=\"4 hashê°€ ë³€ê²½ë  ë•Œì˜ ì´ë²¤íŠ¸ ì²˜ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. hashê°€ ë³€ê²½ë  ë•Œì˜ ì´ë²¤íŠ¸ ì²˜ë¦¬</h2>\n<p><code class=\"language-text\">initEvent</code>ì—ì„œ window ê°ì²´ì˜ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆì— í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•´ì¤ì‹œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token function\">initEvent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hashchange\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">onHashChangeHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n  \n<span class=\"token function\">onHashChangeHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$app<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> hash <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>hash<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> path <span class=\"token operator\">=</span> hash<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">renderComponent</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">onHashChangeHandler</code>ì—ì„œëŠ” appì„ ë¹ˆ ìŠ¤íŠ¸ë§ìœ¼ë¡œ ì´ˆê¸°í™”í•´ì£¼ê³ , hashê°’ì„ íŒŒì‹±í•˜ì—¬ í•´ë‹¹í•˜ëŠ” í˜ì´ì§€ë¥¼ ë Œë”ë§í•˜ê²Œ ë©ë‹ˆë‹¤.</p>\n<p>Â </p>\n<h2 id=\"5-í•´ë‹¹í•˜ëŠ”-í˜ì´ì§€-ë Œë”ë§\" style=\"position:relative;\"><a href=\"#5-%ED%95%B4%EB%8B%B9%ED%95%98%EB%8A%94-%ED%8E%98%EC%9D%B4%EC%A7%80-%EB%A0%8C%EB%8D%94%EB%A7%81\" aria-label=\"5 í•´ë‹¹í•˜ëŠ” í˜ì´ì§€ ë Œë”ë§ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. í•´ë‹¹í•˜ëŠ” í˜ì´ì§€ ë Œë”ë§</h2>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token function\">hasRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">typeof</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>routes<span class=\"token punctuation\">[</span>path<span class=\"token punctuation\">]</span> <span class=\"token operator\">!==</span> <span class=\"token string\">\"undefined\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">getRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>routes<span class=\"token punctuation\">[</span>path<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">renderPage</span><span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> route<span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">/* ë™ì  ë¼ìš°íŒ… ì²˜ë¦¬ */</span>\n  <span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\w{1,}$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ë™ì  ë¼ìš°íŒ…ìœ¼ë¡œ ì „ë‹¬ë˜ëŠ” :id ëŠ” ëª¨ë‘ [ë¬¸ìì—´ + ìˆ«ì] ì¡°í•©ìœ¼ë¡œ ê°„ì£¼</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">hasRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    route <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ì£¼ì†Œê°€ ì—†ëŠ” ê²½ìš°ë¥¼ ë™ì  ë¼ìš°íŒ…ìœ¼ë¡œ ê°„ì£¼í•˜ê³  ì´ë¥¼ :id ë¡œ ì¹˜í™˜</span>\n    route <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">,</span> <span class=\"token string\">\":id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ê·¸ ì™¸ ì…ë ¥ë˜ì§€ ì•Šì€ ëª¨ë“  ì£¼ì†Œì— ëŒ€í•´ì„œëŠ” fallback ì‹¤í–‰</span>\n    route <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRoute</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fallback<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">new</span> <span class=\"token class-name\">route</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$app<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">push</span><span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>hash <span class=\"token operator\">=</span> path<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì¡´ì¬í•˜ëŠ” ë¼ìš°í„°ì¸ì§€ ê²€ì¦í•˜ê³ , ì•„ë‹ ê²½ìš° fallbackì´ ë Œë”ë§ë˜ë„ë¡ í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.</p>\n<p>ë™ì  ë¼ìš°íŒ…ë„ ì²˜ë¦¬í•´ì£¼ì–´ì•¼ê² ì£ ? ë™ì  ë¼ìš°íŒ…ì˜ ê²½ìš° hasRouteë¥¼ í†µê³¼í•˜ì§€ ëª»í•  ê²ƒì…ë‹ˆë‹¤. ì´ì— ëŒ€í•´ ì •ê·œì‹ìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ ë™ì  ë¼ìš°íŒ…ì„ ì²˜ë¦¬í•´ì¤ì‹œë‹¤.</p>\n<p>Â </p>\n<h2 id=\"6-ë¼ìš°í„°-export\" style=\"position:relative;\"><a href=\"#6-%EB%9D%BC%EC%9A%B0%ED%84%B0-export\" aria-label=\"6 ë¼ìš°í„° export permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. ë¼ìš°í„° export</h2>\n<p>push ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ routerë¥¼ export í•´ì£¼ê³ , index.tsì—ì„œ ë¼ìš°í„°ë¥¼ ì´ˆê¸°í™”í•  ìˆ˜ ìˆë„ë¡ <code class=\"language-text\">initRouter</code>ë¥¼ export í•´ì¤ì‹œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">let</span> router<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function-variable function\">push</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">initRouter</span><span class=\"token punctuation\">(</span>options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> $app<span class=\"token operator\">:</span> HTMLElement<span class=\"token punctuation\">;</span> routes<span class=\"token operator\">:</span> Route<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> routerObj <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Router</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  router <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">push</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> routerObj<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  routerObj<span class=\"token punctuation\">.</span><span class=\"token function\">onHashChangeHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Â </p>\n<h2 id=\"ì „ì²´-ì½”ë“œ\" style=\"position:relative;\"><a href=\"#%EC%A0%84%EC%B2%B4-%EC%BD%94%EB%93%9C\" aria-label=\"ì „ì²´ ì½”ë“œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì „ì²´ ì½”ë“œ</h2>\n<p><code class=\"language-text\">/src/core/HashRouter.ts</code></p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> Component <span class=\"token keyword\">from</span> <span class=\"token string\">\"./Component\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Route</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  page<span class=\"token operator\">:</span> <span class=\"token keyword\">typeof</span> Component<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Router</span> <span class=\"token punctuation\">{</span>\n  $app<span class=\"token operator\">:</span> HTMLElement<span class=\"token punctuation\">;</span>\n  routes<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">[</span>key<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token keyword\">typeof</span> Component<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  fallback<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    $app<span class=\"token punctuation\">,</span>\n    routes<span class=\"token punctuation\">,</span>\n    fallback <span class=\"token operator\">=</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    $app<span class=\"token operator\">:</span> HTMLElement<span class=\"token punctuation\">;</span>\n    routes<span class=\"token operator\">:</span> Route<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    fallback<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$app <span class=\"token operator\">=</span> $app<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fallback <span class=\"token operator\">=</span> fallback<span class=\"token punctuation\">;</span>\n\n    routes<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>route<span class=\"token operator\">:</span> Route<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>routes<span class=\"token punctuation\">[</span>route<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> route<span class=\"token punctuation\">.</span>page<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">initEvent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">initEvent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hashchange\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">onHashChangeHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">onHashChangeHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$app<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> hash <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>hash<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> path <span class=\"token operator\">=</span> hash<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">renderPage</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">hasRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">typeof</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>routes<span class=\"token punctuation\">[</span>path<span class=\"token punctuation\">]</span> <span class=\"token operator\">!==</span> <span class=\"token string\">\"undefined\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">getRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>routes<span class=\"token punctuation\">[</span>path<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">renderPage</span><span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> route<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">/* ë™ì  ë¼ìš°íŒ… ì²˜ë¦¬ */</span>\n    <span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\w{1,}$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ë™ì  ë¼ìš°íŒ…ìœ¼ë¡œ ì „ë‹¬ë˜ëŠ” :id ëŠ” ëª¨ë‘ [ë¬¸ìì—´ + ìˆ«ì] ì¡°í•©ìœ¼ë¡œ ê°„ì£¼</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">hasRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      route <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// ì£¼ì†Œê°€ ì—†ëŠ” ê²½ìš°ë¥¼ ë™ì  ë¼ìš°íŒ…ìœ¼ë¡œ ê°„ì£¼í•˜ê³  ì´ë¥¼ :id ë¡œ ì¹˜í™˜</span>\n      route <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">,</span> <span class=\"token string\">\":id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// ê·¸ ì™¸ ì…ë ¥ë˜ì§€ ì•Šì€ ëª¨ë“  ì£¼ì†Œì— ëŒ€í•´ì„œëŠ” fallback ì‹¤í–‰</span>\n      route <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRoute</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fallback<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">new</span> <span class=\"token class-name\">route</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$app<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">push</span><span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>hash <span class=\"token operator\">=</span> path<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">let</span> router<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function-variable function\">push</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">initRouter</span><span class=\"token punctuation\">(</span>options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> $app<span class=\"token operator\">:</span> HTMLElement<span class=\"token punctuation\">;</span> routes<span class=\"token operator\">:</span> Route<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> routerObj <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Router</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  router <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">push</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> routerObj<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  routerObj<span class=\"token punctuation\">.</span><span class=\"token function\">onHashChangeHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#1-route-%ED%83%80%EC%9E%85-%EC%A0%95%EC%9D%98\">1. Route íƒ€ì… ì •ì˜</a></li>\n<li><a href=\"#2-router-%EA%B5%AC%EC%A1%B0\">2. Router êµ¬ì¡°</a></li>\n<li><a href=\"#3-class-%EC%B4%88%EA%B8%B0%ED%99%94\">3. Class ì´ˆê¸°í™”</a></li>\n<li><a href=\"#4-hash%EA%B0%80-%EB%B3%80%EA%B2%BD%EB%90%A0-%EB%95%8C%EC%9D%98-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%B2%98%EB%A6%AC\">4. hashê°€ ë³€ê²½ë  ë•Œì˜ ì´ë²¤íŠ¸ ì²˜ë¦¬</a></li>\n<li><a href=\"#5-%ED%95%B4%EB%8B%B9%ED%95%98%EB%8A%94-%ED%8E%98%EC%9D%B4%EC%A7%80-%EB%A0%8C%EB%8D%94%EB%A7%81\">5. í•´ë‹¹í•˜ëŠ” í˜ì´ì§€ ë Œë”ë§</a></li>\n<li><a href=\"#6-%EB%9D%BC%EC%9A%B0%ED%84%B0-export\">6. ë¼ìš°í„° export</a></li>\n<li><a href=\"#%EC%A0%84%EC%B2%B4-%EC%BD%94%EB%93%9C\">ì „ì²´ ì½”ë“œ</a></li>\n</ul>\n</div>","frontmatter":{"date":"2022.05.15","title":"ë°”ë‹ë¼JS(TS)ë¡œ ë¦¬ì•¡íŠ¸ SPA êµ¬í˜„í•˜ê¸° | (3) í´ë˜ìŠ¤ë¡œ HashRouter êµ¬í˜„","categories":"Dev Reactë§Œë“¤ì–´ë³´ê¸°","emoji":"ğŸ¦"},"fields":{"slug":"/26-vanilla-spa-3/"}},"site":{"siteMetadata":{"siteUrl":"https://jeong-min.com","comments":{"utterances":{"repo":"danmin20/danmin-gatsby-blog"}}}}},"pageContext":{"slug":"/25-browserrouter-hashrouter/","nextSlug":"/24-vanilla-spa-2/","prevSlug":"/26-vanilla-spa-3/"}},"staticQueryHashes":["1321405810","3649515864"]}