{"componentChunkName":"component---src-templates-post-template-index-tsx","path":"/38-apps-script/","result":{"data":{"cur":{"id":"2340f145-a8d1-5c91-b0aa-7c33364e0def","html":"<p>현재 IT 동아리를 운영 중에 있는 나.</p>\n<blockquote>\n<p><a href=\"https://sipe.team/\">SIPE</a> 많관부탁드립니다 😉😉</p>\n</blockquote>\n<p>구글폼으로 서류 원서를 접수받고, 서류 결과 메일을 보내야하는 상황에 다다르는데..</p>\n<p> </p>\n<h3 id=\"이거-한-사람-한-사람-메일을-다-따로-보내야-하는-건가\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EA%B1%B0-%ED%95%9C-%EC%82%AC%EB%9E%8C-%ED%95%9C-%EC%82%AC%EB%9E%8C-%EB%A9%94%EC%9D%BC%EC%9D%84-%EB%8B%A4-%EB%94%B0%EB%A1%9C-%EB%B3%B4%EB%82%B4%EC%95%BC-%ED%95%98%EB%8A%94-%EA%B1%B4%EA%B0%80\" aria-label=\"이거 한 사람 한 사람 메일을 다 따로 보내야 하는 건가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이거, 한 사람 한 사람 메일을 다 따로 보내야 하는 건가?</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 512px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/webp;base64,UklGRpAAAABXRUJQVlA4IIQAAABQAwCdASoUAA8APtFUo0uoJKMhsAgBABoJZACdAAMWUWyKYADOMXc1psWfBjmHvXYkNBSKvF15O1kD0zhwsyPO8JZ2/gjyV6TyrbmnaTMXuXYgDCYstXtzmCvu7/8lw0YSjgvhh8iXCnYO146JXr1SwXTaocWQf8BTeHt6HdbMorQTgAA='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"0\"\n        title=\"0\"\n        src=\"/static/a64e459ec59b589c3341207be15e52f1/bd5dd/0.webp\"\n        srcset=\"/static/a64e459ec59b589c3341207be15e52f1/59d6e/0.webp 180w,\n/static/a64e459ec59b589c3341207be15e52f1/a3012/0.webp 360w,\n/static/a64e459ec59b589c3341207be15e52f1/bd5dd/0.webp 512w\"\n        sizes=\"(max-width: 512px) 100vw, 512px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p> </p>\n<p>하지만 개발자로서 그런 노가다를 하는 것은 용납할 수 없는 일.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 410px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 91.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEy0lEQVQ4yyXS22+TBRjH8fcPMMYbFQ8XRKMIUYQYTgXGgLXdgfXt+759D21Xt7G2a3dou7brTuzAaOnadd0KyjZGGEYOakAUiIBsbAgowwMxHoKaGGI8BOWgXhjFi69xXHxvPxfP7xH6567RN/cJvXNXSV/9gr6PPqOkPki8PUqoK0FLTzc9h16n9Z0zBHeP4k3upK63Hz0ap6q2imhXjN6B7axe/QKveSsQ5F19dF2YZcfcpzSfOkhR0zK8nrXsTdXSH7WhG6VIL3uQZTuSWIHDbkOVpPlcLgNvvY+O7naWLX+WPX4bwpPSQhY1l+M5tI/W0RAH+1ZwbaKK6wfr+e6NAB9P+gl5NeyKgu7U0Iz7qbqKZqg0NAYJhRspKdvIUL0d4QlxAY+oS3nGb+VYzmCuIPP98Xb+vFjgxzM7+fvyMLOTrSgOGcNw4nQaqJoDhyqjGQ4ikRArTat5YvFzDNWUIzy28UkeND3FixXPMzNsZzYv8cO7ndydyfHTmR38eDrJzXMpIn4nisOYBzVdxaEp9LfVEm9twbSpGOGBBxDdpQilTWWs8hQT2Obg4ojE+SE7N95p58+ZIW5OZfn82HauH+8h6FewySKKZkeSRRy6yoFsA6OZKKlUnAcffpQl5U8jaDtWIfWbCO7czOyIxNxkkFvn0tydznJ7OsOdmUFuz6SZHN6KpdKMLIuIog1RkXn71TDXDsc5ORqmZquHF9YtQ3CPmnCPmXDlV/J6soSv3ojz+0yOO1OZefS3qQwfHIhxejxGpU3EaRjomoqlrJxDuSZunOxhdjJOazxMfSCIsNlnojywgfVuE51xg1tTA9yeynBnOnsfnM7y8+kkBzIBbJKC06nPD7JFtNMRqebWdJq5wwlCTUEaQ00IQ7k0+VyGsT0FGiNBTow08O+HBW6eHeDX9wf4+WyaP2aztDW5EGUF3VBRFAlJlqn2qPxyboALExF6ayrZH9ER8oWdDOaTTOwrsN5aQqDKzL0rI9y7lOefS8P8dTHLmzkflZKIU9cwdB1NdbBFlEiEq/njQo4v39rGRKPIey0SwnBhgGw+SW1XjEXr1rDwpeXUtdSQ7q5mPBtkW9xJpb+GzV4vm3QFu64iSSIVlXZGk0HuXSnw7dFujoZsnE+oCLt2Z6jriFGWiLO0zMpTi5dQqhnoXj8rijew3lrGWk1Dq/MS7+5mZXExpVYL5sotnBpv5d/Lw3xzrId82MmeJgdCtLcNS6iZykSCFbrKy9U1JOJRdhUKbNy8if379mEuKWEwk+HE8eO43G7cNbWEE1GuHOmcP83Xb/fh9dVidzgQHK0xrOEwtrYEG+pqSabTrNlYTCQaxaY6SKXTrNhQRHpggPGxMXxNjZgNF68OJrl+tIt/Lo9w+bUEsmLHaTgRSsJhrOFmxP9BXx3bUymKrBbaOtrRqtxYzGbWFRXR1dnFxN69eKqrMTzVvDK4nRsn+uCT3RzJN2CTZNwuF8K2VBhzqBlbIk55PIbd72Pl6lVYdJXG7m4Un48iXaW0PoDi92IpLaGivBxHnYd0KsF4LkEsEqA+UI/rf/DEZDuWUARbaxyxvQ1zY4CHHl+AyWlgjcWwtkQQO9qwdXawpSGAIkvIsoSkyPgCgfnfVDUDw7jff2Z0TO5dEJuEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"1\"\n        title=\"1\"\n        src=\"/static/3024d1b09a5294f611c9c1f0d5f6611e/d68e4/1.png\"\n        srcset=\"/static/3024d1b09a5294f611c9c1f0d5f6611e/e9ff0/1.png 180w,\n/static/3024d1b09a5294f611c9c1f0d5f6611e/f21e7/1.png 360w,\n/static/3024d1b09a5294f611c9c1f0d5f6611e/d68e4/1.png 410w\"\n        sizes=\"(max-width: 410px) 100vw, 410px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>결국 <a href=\"https://developers.google.com/apps-script/reference/mail/mail-app\">구글에서 제공하는 API</a>를 발견해내고야 말았다. 링크를 들어가보면 메일 말고도 다양한 API를 제공하는 것을 볼 수 있다.</p>\n<p> </p>\n<h3 id=\"1-구글폼-상단의-code-classlanguage-textview-in-sheetscode를-클릭하면-응답을-스프레드시트로-확인할-수-있다\" style=\"position:relative;\"><a href=\"#1-%EA%B5%AC%EA%B8%80%ED%8F%BC-%EC%83%81%EB%8B%A8%EC%9D%98-code-classlanguage-textview-in-sheetscode%EB%A5%BC-%ED%81%B4%EB%A6%AD%ED%95%98%EB%A9%B4-%EC%9D%91%EB%8B%B5%EC%9D%84-%EC%8A%A4%ED%94%84%EB%A0%88%EB%93%9C%EC%8B%9C%ED%8A%B8%EB%A1%9C-%ED%99%95%EC%9D%B8%ED%95%A0-%EC%88%98-%EC%9E%88%EB%8B%A4\" aria-label=\"1 구글폼 상단의 code classlanguage textview in sheetscode를 클릭하면 응답을 스프레드시트로 확인할 수 있다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 구글폼 상단의 <code class=\"language-text\">View in Sheets</code>를 클릭하면 응답을 스프레드시트로 확인할 수 있다.</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 15.555555555555555%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAjklEQVQI14WM2wqDMBQE/f9PtPGlUot4qbl4khiTKbGFPnZgYBeWbShQSiGXTM4fa08pMS8LbndMdmLYnvRrj940uwiVa19+VprVv9ijEFIgnpFwRnwKSBTMbtFirrP72l9acVjv8MkTvtYsh2eRhWaSiXEcUV1H295QSmGM4R+dHpndweoK/sicZ+JhB96AYOg+9g8yzgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2\"\n        title=\"2\"\n        src=\"/static/385a8628299e6604eca1e491069c8431/37523/2.png\"\n        srcset=\"/static/385a8628299e6604eca1e491069c8431/e9ff0/2.png 180w,\n/static/385a8628299e6604eca1e491069c8431/f21e7/2.png 360w,\n/static/385a8628299e6604eca1e491069c8431/37523/2.png 720w,\n/static/385a8628299e6604eca1e491069c8431/302a4/2.png 1080w,\n/static/385a8628299e6604eca1e491069c8431/07a9c/2.png 1440w,\n/static/385a8628299e6604eca1e491069c8431/169e3/2.png 1682w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p> </p>\n<h3 id=\"2-스프레드시트-메뉴의-code-classlanguage-textextensions--apps-scriptcode를-클릭하자\" style=\"position:relative;\"><a href=\"#2-%EC%8A%A4%ED%94%84%EB%A0%88%EB%93%9C%EC%8B%9C%ED%8A%B8-%EB%A9%94%EB%89%B4%EC%9D%98-code-classlanguage-textextensions--apps-scriptcode%EB%A5%BC-%ED%81%B4%EB%A6%AD%ED%95%98%EC%9E%90\" aria-label=\"2 스프레드시트 메뉴의 code classlanguage textextensions  apps scriptcode를 클릭하자 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 스프레드시트 메뉴의 <code class=\"language-text\">Extensions > Apps Script</code>를 클릭하자.</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 45.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABj0lEQVQoz42Sy27aQBSGjcSOd+AVQezYIiHMZcdbVKpQk+BGKqhZNOsKJQtULm7AdhMbGzD2GHz7Irtp0yht1CN9mpn//Gd0NGek8f1XJqtvqMs75ksVy3ZyHqwNBz/AE0c2zh7L3rFzfYJTxDGMfxPGCVGcEuYkSKu9w9Iw+a49o9073OnW81n/wXqtsXdd4iQhSVOSJCWL3d5Df9himDtMx0cKRJgnEv4dznbLar3G8zyiKOYUhoRP+CJ4US9tbJvLy48MBgNGo08oioKiDBmPR5ydfeDq6jO2vcETAb4QZH1lPDWIpusMh0Our79wcXGOZFkWpVIJSZL+SrFY5N37c25ubplMJsznc2azGdPpFNM0abVaua9cLv+sycS3LnyLQqHwWj8cDvT7fWS5RbfXpdt9TbvdRpZlOp0OjUaDarVKvV6nUqlQq9Vyrdls0uv1kNI0ReAR4vK/4bouURRhGAa2bb/ISdk3CHSNk6ETHo+5MZver/XPfRzH+L6Pqqo4jpO/5WKxyKcvhMh9j0RzPMxchSBmAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"3\"\n        title=\"3\"\n        src=\"/static/3f58058c6f3fabdb892d0c243cb0ac04/37523/3.png\"\n        srcset=\"/static/3f58058c6f3fabdb892d0c243cb0ac04/e9ff0/3.png 180w,\n/static/3f58058c6f3fabdb892d0c243cb0ac04/f21e7/3.png 360w,\n/static/3f58058c6f3fabdb892d0c243cb0ac04/37523/3.png 720w,\n/static/3f58058c6f3fabdb892d0c243cb0ac04/302a4/3.png 1080w,\n/static/3f58058c6f3fabdb892d0c243cb0ac04/07a9c/3.png 1440w,\n/static/3f58058c6f3fabdb892d0c243cb0ac04/56caf/3.png 1712w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p> </p>\n<h3 id=\"3-코드를-작성하자\" style=\"position:relative;\"><a href=\"#3-%EC%BD%94%EB%93%9C%EB%A5%BC-%EC%9E%91%EC%84%B1%ED%95%98%EC%9E%90\" aria-label=\"3 코드를 작성하자 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 코드를 작성하자!</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">SendMail</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 현재 활성화된 스프레드시트 가져오기</span>\n    <span class=\"token keyword\">const</span> activeSS <span class=\"token operator\">=</span> SpreadsheetApp<span class=\"token punctuation\">.</span><span class=\"token function\">getActiveSpreadsheet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// 현재 선택된 시트 가져오기</span>\n    <span class=\"token keyword\">const</span> activeSheet <span class=\"token operator\">=</span> activeSS<span class=\"token punctuation\">.</span><span class=\"token function\">getActiveSheet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> index <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span> index <span class=\"token operator\">&lt;</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span> index<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> name <span class=\"token operator\">=</span> activeSheet<span class=\"token punctuation\">.</span><span class=\"token function\">getRange</span><span class=\"token punctuation\">(</span><span class=\"token string\">'H'</span> <span class=\"token operator\">+</span> index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 이름</span>\n      <span class=\"token keyword\">const</span> email <span class=\"token operator\">=</span> activeSheet<span class=\"token punctuation\">.</span><span class=\"token function\">getRange</span><span class=\"token punctuation\">(</span><span class=\"token string\">'F'</span> <span class=\"token operator\">+</span> index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 이메일</span>\n      <span class=\"token keyword\">const</span> pass <span class=\"token operator\">=</span> activeSheet<span class=\"token punctuation\">.</span><span class=\"token function\">getRange</span><span class=\"token punctuation\">(</span><span class=\"token string\">'A'</span> <span class=\"token operator\">+</span> index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 합격여부</span>\n      <span class=\"token keyword\">const</span> date <span class=\"token operator\">=</span> activeSheet<span class=\"token punctuation\">.</span><span class=\"token function\">getRange</span><span class=\"token punctuation\">(</span><span class=\"token string\">'G'</span> <span class=\"token operator\">+</span> index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 면접일자</span>\n\n      <span class=\"token keyword\">const</span> subject <span class=\"token operator\">=</span> <span class=\"token string\">'[SIPE] 1기 서류 결과를 안내드립니다.'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 메일 제목</span>\n      <span class=\"token keyword\">let</span> body<span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>email <span class=\"token operator\">!==</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>pass <span class=\"token operator\">===</span> <span class=\"token string\">'합격'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token comment\">// 합격자</span>\n          body <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token comment\">// 불합격자</span>\n          body <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        MailApp<span class=\"token punctuation\">.</span><span class=\"token function\">sendEmail</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'SIPE'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">to</span><span class=\"token operator\">:</span> email<span class=\"token punctuation\">,</span>\n          subject<span class=\"token punctuation\">,</span>\n          body<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> email<span class=\"token punctuation\">,</span> pass<span class=\"token punctuation\">,</span> <span class=\"token string\">'메일 전송 완료'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'F'</span> <span class=\"token operator\">+</span> index <span class=\"token operator\">+</span> <span class=\"token string\">'에 메일 주소 없음. 발송 중단 처리'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 셀에 있는 내용을 다 발송하여 루프 중단</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'발송 실패 - '</span> <span class=\"token operator\">+</span> err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 468px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.22222222222223%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABrUlEQVQoz12Q3U8TQRTF91/zwcRnEwkNSD+g4h9EhH6aEAJiW9u0lgdjfDcFDAUrCFJN2xUJLdGG3ZnZ2f7MzLbEeJOTO+fcmXvPXCcMQ7QOMXkymdisw4j/j5lu7pk3EfQUUc1RKrCHQGs837fZXAiCAKUUUkqbDY90jef590NMcxMzY05/4Frh7s7jR6/P7z9jZkNarX3a7WOazT0ODz8hhWDgunzufOH84hut/QPaxyecnn21b4ajEY6ZPIswnPBvmJpxIIRASXWvy+nZmDM/uLkZoqY/cEyPj60D1tYzbOQKEbJ5yzO5AuvZPNl8kUyuGPFMjmzhJZl8kbUXG1xcdm1zzxf4QuIYkisUmYstEE8t8yS2QCr9jMdz8yRXnxNbSrC0kubp8gqxeJLFRJLFeIJUepUHDx/x7v2HaGWejy8Ujg4ntI5O2dx5w065watyne1SnUrtLbXdKtXXNSqbJSpbZaq7VUqlBtulJpXaHrV6g777k0CH1p11KKSke+Vx5koufykGI02nJxj7oLu3yPMRonONf3RF+P2WoavpXcPYi/apgqiZkMriL52RNJ/K3DuRAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"4\"\n        title=\"4\"\n        src=\"/static/967af870d7a23e35b8828e5022f5ffca/90372/4.png\"\n        srcset=\"/static/967af870d7a23e35b8828e5022f5ffca/e9ff0/4.png 180w,\n/static/967af870d7a23e35b8828e5022f5ffca/f21e7/4.png 360w,\n/static/967af870d7a23e35b8828e5022f5ffca/90372/4.png 468w\"\n        sizes=\"(max-width: 468px) 100vw, 468px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>이제 상단의 Run만 누르면 메일이 발송되는데, 정말 배포도 아닌 코드 실행이 이렇게 긴장되는 건 처음이었다. 이렇게 많은 수의 사람들에게 동시에 메일을 보내는 것도 처음인데다, 누군가에게는 불합격 소식을 전할 수밖에 없었기에 너무 죄송스러운 마음이 들기도 했다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 457px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.22222222222223%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABAAF/8QAFAEBAAAAAAAAAAAAAAAAAAAAA//aAAwDAQACEAMQAAABUFohXLqU/wD/xAAYEAACAwAAAAAAAAAAAAAAAAAAAwQyM//aAAgBAQABBQJ1G5EikrI//8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQMBAT8BZ//EABURAQEAAAAAAAAAAAAAAAAAAAIQ/9oACAECAQE/ATP/xAAaEAACAgMAAAAAAAAAAAAAAAAAAgEQMWGB/9oACAEBAAY/ApGxqui1/8QAHBAAAQQDAQAAAAAAAAAAAAAAAQAQESExQXGx/9oACAEBAAE/Ia9kOSRpmTn1QEA23//aAAwDAQACAAMAAAAQAx//xAAVEQEBAAAAAAAAAAAAAAAAAAAQMf/aAAgBAwEBPxCD/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAh/9oACAECAQE/EAq//8QAGxABAAMBAAMAAAAAAAAAAAAAAQARIXExgZH/2gAIAQEAAT8QflA1q+wLGLRNN0GW1isVZDj9pKqJdc5D1P/Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"5\"\n        title=\"5\"\n        src=\"/static/a60973962f01372670c7fb80995c6a68/78c04/5.jpg\"\n        srcset=\"/static/a60973962f01372670c7fb80995c6a68/4ec73/5.jpg 180w,\n/static/a60973962f01372670c7fb80995c6a68/158ba/5.jpg 360w,\n/static/a60973962f01372670c7fb80995c6a68/78c04/5.jpg 457w\"\n        sizes=\"(max-width: 457px) 100vw, 457px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p> </p>\n<p>여튼 무사히 한 고비를 넘겼고, 이제 시작인 우리 SIPE 팀.. 성공적인 하반기가 될 수 있길 기도해본다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 427px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 116.1111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAXABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAIEBQP/xAAWAQEBAQAAAAAAAAAAAAAAAAACAQD/2gAMAwEAAhADEAAAAc6UNM3EXV1vuBWw7//EABsQAAEFAQEAAAAAAAAAAAAAAAIAAQMSIREU/9oACAEBAAEFAr1cgIY+qm6UXkdMKAtZf//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/AQhP/8QAFREBAQAAAAAAAAAAAAAAAAAAEEH/2gAIAQIBAT8BKf/EABwQAAEEAwEAAAAAAAAAAAAAAAEAAhAhERJBgf/aAAgBAQAGPwJNJnUtVnHkVyP/xAAdEAEAAgICAwAAAAAAAAAAAAABABEhMUFhUXGB/9oACAEBAAE/Ifhps7mqdKIm2yJ7j5YNruK9zK3K+EwIa8sqzNNE/9oADAMBAAIAAwAAABAk+IL/xAAZEQEAAgMAAAAAAAAAAAAAAAABABARITH/2gAIAQMBAT8QRNzDOa//xAAXEQEBAQEAAAAAAAAAAAAAAAARAAEx/9oACAECAQE/EE0yGeLOX//EAB0QAQEBAQACAwEAAAAAAAAAAAERIQBBUTFhoXH/2gAIAQEAAT8QIJU7E0fs5OWMVsJ+djl35nNCJTaS+M89tSEJUUxPXUmiIK/YnIwB5dw2aL65KbT+d//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"6\"\n        title=\"6\"\n        src=\"/static/75f1d8aae665f37408cf08f1fe0dec11/141dd/6.jpg\"\n        srcset=\"/static/75f1d8aae665f37408cf08f1fe0dec11/4ec73/6.jpg 180w,\n/static/75f1d8aae665f37408cf08f1fe0dec11/158ba/6.jpg 360w,\n/static/75f1d8aae665f37408cf08f1fe0dec11/141dd/6.jpg 427w\"\n        sizes=\"(max-width: 427px) 100vw, 427px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EC%9D%B4%EA%B1%B0-%ED%95%9C-%EC%82%AC%EB%9E%8C-%ED%95%9C-%EC%82%AC%EB%9E%8C-%EB%A9%94%EC%9D%BC%EC%9D%84-%EB%8B%A4-%EB%94%B0%EB%A1%9C-%EB%B3%B4%EB%82%B4%EC%95%BC-%ED%95%98%EB%8A%94-%EA%B1%B4%EA%B0%80\">이거, 한 사람 한 사람 메일을 다 따로 보내야 하는 건가?</a></li>\n<li><a href=\"#1-%EA%B5%AC%EA%B8%80%ED%8F%BC-%EC%83%81%EB%8B%A8%EC%9D%98-view-in-sheets%EB%A5%BC-%ED%81%B4%EB%A6%AD%ED%95%98%EB%A9%B4-%EC%9D%91%EB%8B%B5%EC%9D%84-%EC%8A%A4%ED%94%84%EB%A0%88%EB%93%9C%EC%8B%9C%ED%8A%B8%EB%A1%9C-%ED%99%95%EC%9D%B8%ED%95%A0-%EC%88%98-%EC%9E%88%EB%8B%A4\">1. 구글폼 상단의 <code class=\"language-text\">View in Sheets</code>를 클릭하면 응답을 스프레드시트로 확인할 수 있다.</a></li>\n<li><a href=\"#2-%EC%8A%A4%ED%94%84%EB%A0%88%EB%93%9C%EC%8B%9C%ED%8A%B8-%EB%A9%94%EB%89%B4%EC%9D%98-extensions--apps-script%EB%A5%BC-%ED%81%B4%EB%A6%AD%ED%95%98%EC%9E%90\">2. 스프레드시트 메뉴의 <code class=\"language-text\">Extensions > Apps Script</code>를 클릭하자.</a></li>\n<li><a href=\"#3-%EC%BD%94%EB%93%9C%EB%A5%BC-%EC%9E%91%EC%84%B1%ED%95%98%EC%9E%90\">3. 코드를 작성하자!</a></li>\n</ul>\n</div>","excerpt":"현재 IT 동아리를 운영 중에 있는 나. SIPE 많관부탁드립니다 😉😉 구글폼으로 서류 원서를 접수받고, 서류 결과 메일을 보내야하는 상황에 다다르는데..   이거, 한 사람 한 사람 메일을 다 따로 보내야 하는 건가?    하지만 개발자로서 그런 노가다를 하는 것은 용납할 수 없는 일.  결국 구글에서 제공하는 API를 발견해내고야 말았다. 링크를 들어가보면 메일 말고도 다양한 API를 제공하는 것을 볼 수 있다.   1. 구글폼 상단의 를 클릭하면 응답을 스프레드시트로 확인할 수 있다.    2. 스프레드시트 메뉴의 를 클릭하자.    3. 코드를 작성하자!  이제 상단의 Run만 누르면 메일이 발송되는데, 정말 배포도 아닌 코드 실행이 이렇게 긴장되는 건 처음이었다. 이렇게 많은 수의 사람들에게 동시에 메일을 보내는 것도 처음인데다, 누군가에게는 불합격 소식을 전할 수밖에 없었기에 너무 죄송스러운 마음이 들기도 했다.    여튼 무사히 한 고비를 넘겼고, 이제 시작인 우리 S…","frontmatter":{"date":"2023.06.11","title":"구글 스프레드시트 메일 자동화: Apps Script","categories":"Dev","emoji":"💌"},"fields":{"slug":"/38-apps-script/"}},"next":{"id":"6c58fad4-81f2-5ffc-803c-3bc78b5ff894","html":"<p><a href=\"https://www.jeong-min.com/36-RAF/\">지난 글</a>에서 <code class=\"language-text\">requestAnimationFrame</code>에 대해 알아보았다. 어떤 독자는 해당 글을 읽으면서 한 궁금증이 떠올랐을지도 모른다.</p>\n<p>‘왜 <code class=\"language-text\">setTimeout</code>은 타이머 주기를 보장하지 않는 거지?’\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 97.22222222222223%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAATABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAUEAQL/xAAXAQADAQAAAAAAAAAAAAAAAAAAAgQF/9oADAMBAAIQAxAAAAGpzJnFrgaH4NCe+M+j/8QAGxABAAIDAQEAAAAAAAAAAAAAAQIDAAQREDP/2gAIAQEAAQUCUAnF82J8lSjZmz96QlbwM//EABYRAQEBAAAAAAAAAAAAAAAAABARQv/aAAgBAwEBPwGmj//EABkRAAEFAAAAAAAAAAAAAAAAABACEUNRgf/aAAgBAgEBPwFlUI8H/8QAGRABAQADAQAAAAAAAAAAAAAAAQAQESGB/9oACAEBAAY/AtrccBuD3DA3L//EABsQAAMAAwEBAAAAAAAAAAAAAAABESExUUFh/9oACAEBAAE/IcaC6NYlvworFHsotYugtdMPhBZlVErEiP/aAAwDAQACAAMAAAAQF8/A/8QAFxEAAwEAAAAAAAAAAAAAAAAAARARsf/aAAgBAwEBPxCbEdL/xAAYEQEAAwEAAAAAAAAAAAAAAAABEBEhUf/aAAgBAgEBPxC9xV2oA3D/xAAeEAEAAwACAgMAAAAAAAAAAAABABEhMUFRYXGBof/aAAgBAQABPxDNLyx+e533EbuQHt+paIA1ThvJjAVha/Ir8qeIilY6TiNSLinrJcadF1BBA4Dqf//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"0\"\n        title=\"0\"\n        src=\"/static/06ab4f5805de86c054a7bf5913b42278/066f9/0.jpg\"\n        srcset=\"/static/06ab4f5805de86c054a7bf5913b42278/4ec73/0.jpg 180w,\n/static/06ab4f5805de86c054a7bf5913b42278/158ba/0.jpg 360w,\n/static/06ab4f5805de86c054a7bf5913b42278/066f9/0.jpg 400w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>이를 알기 위해서는 이벤트 루프에 대해 알아야 하는데, 우선 자바스크립트가 어떻게 동작하는지부터 알아보자.</p>\n<p> </p>\n<h2 id=\"자바스크립트의-동작\" style=\"position:relative;\"><a href=\"#%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EC%9D%98-%EB%8F%99%EC%9E%91\" aria-label=\"자바스크립트의 동작 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>자바스크립트의 동작</h2>\n<p>자바스크립트 엔진은 하나의 콜 스택을 가지는 싱글 스레드 모델로 동작한다. 하지만 현실에서 자바스크립트는 웹 브라우저나 노드js와 같은 멀티스레드 환경에 임베디드되어 실행되기 때문에 자바스크립트와 웹api, 이벤트 루프 등을 분리하여 말하기는 어렵다. 따라서 자바스크립트를 작동시킬 때는 싱글 스레드와 멀티 스레드의 타이밍이 따로 존재한다고 말할 수 있다. 일반적으로 프로그램은 코드를 위에서 아래로 순차적으로 실행하지만, 이벤트 루프를 통해 이벤트가 발생할 때마다 해당 이벤트에 대한 작업을 처리할 수 있다. 이를 통해 비동기 작업을 효율적으로 처리할 수 있고, 블로킹되는 작업 없이 다른 작업을 계속 수행할 수 있게 된다.</p>\n<p> </p>\n<h2 id=\"자바스크립트의-이벤트-루프\" style=\"position:relative;\"><a href=\"#%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EC%9D%98-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84\" aria-label=\"자바스크립트의 이벤트 루프 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>자바스크립트의 이벤트 루프</h2>\n<p>즉, 이벤트 루프는 싱글 스레드 환경에서 비동기 작업을 처리하기 위한 메커니즘이다.</p>\n<blockquote>\n<p>스레드는 프로세스 내의 실행 단위이며, 프로세스는 메모리 상에서 실행중인 작업을 말한다.</p>\n</blockquote>\n<p>자바스크립트는 이벤트 기반의 비동기 프로그래밍을 위해 이벤트 루프를 사용한다. 웹 페이지에서 사용자의 클릭, 키보드 입력, 마우스 움직임 등의 이벤트가 발생하면 이를 브라우저의 이벤트 루프가 감지하고 처리한다. 이벤트 루프는 이벤트를 순차적으로 처리하며, 이벤트 핸들러 함수를 호출하여 해당 이벤트에 대한 작업을 수행한다. 이를 통해 웹 페이지는 사용자와의 상호작용에 따라 동적으로 동작할 수 있다.</p>\n<p> </p>\n<h2 id=\"자바스크립트-런타임\" style=\"position:relative;\"><a href=\"#%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EB%9F%B0%ED%83%80%EC%9E%84\" aria-label=\"자바스크립트 런타임 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>자바스크립트 런타임</h2>\n<p>자바스크립트 런타임은</p>\n<ul>\n<li>자바스크립트 엔진 (메모리 힙 + 콜 스택)</li>\n<li>웹api</li>\n<li>이벤트 루프</li>\n<li>콜백 큐</li>\n</ul>\n<p>로 구성된다.</p>\n<ul>\n<li>메모리 힙: 메모리 할당이 이루어지는 곳으로 선언한 변수와 함수들이 들어간다.</li>\n<li>콜 스택: 실제 실행되는 코드를 순서대로 실행하는 곳이다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/webp;base64,UklGRpIAAABXRUJQVlA4IIYAAADwAwCdASoUAA8APtFUo0uoJKMhsAgBABoJYwAAW+3l2K3hRCJg5fuIAP7yXGImf0Bm8HlE3us8RwYYeN6Ez4YGvJv5XB1zcUbjju4ifDN4Tv0xAZI7oRVR4XbUTf3o2C9F5typ9vi9mWmbSTiSZmJ9JJZ5UR+xPRYVkTTHzQhJ9F53zcAAAA=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"1\"\n        title=\"1\"\n        src=\"/static/129ea5fd03df416c5bec13017c449194/bc514/1.webp\"\n        srcset=\"/static/129ea5fd03df416c5bec13017c449194/59d6e/1.webp 180w,\n/static/129ea5fd03df416c5bec13017c449194/a3012/1.webp 360w,\n/static/129ea5fd03df416c5bec13017c449194/bc514/1.webp 720w,\n/static/129ea5fd03df416c5bec13017c449194/a9a89/1.webp 1024w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>콜 스택에서 비동기 함수가 실행되면, 브라우저에서 제공하는 웹 api를 호출하게 되고, 웹 api는 콜백함수를 콜백 큐에 추가한다. 그렇게 선입선출로 콜 스택으로 넘어가 실행된다. 이렇게 콜 스택이 비어있을 때 콜백 큐의 첫번째 콜백을 넘겨주도록 콜 스택을 체크해주는 역할을 하는 것이 이벤트 루프다. 만일 스택이 할당된 공간보다 많은 공간을 차지하게 되면 스택오버플로우 에러가 발생한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 525px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 84.44444444444446%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAARABQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAMEBQEG/8QAFQEBAQAAAAAAAAAAAAAAAAAAAQD/2gAMAwEAAhADEAAAAbncaMfSKhIZAdAR/8QAHRAAAQQCAwAAAAAAAAAAAAAAAwABAjEEFBIhIv/aAAgBAQABBQLbHy3BIeREjSdmUe0AfktwuFf/xAAVEQEBAAAAAAAAAAAAAAAAAAARIP/aAAgBAwEBPwEj/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAHhAAAQMEAwAAAAAAAAAAAAAAAgABIRARIqExMpH/2gAIAQEABj8C5LxdtK4vpM5IcYRWiaDT/8QAGxAAAgIDAQAAAAAAAAAAAAAAAREAITFBcRD/2gAIAQEAAT8hJtDuWNwFs4SsAFZS9LtCEzsNpOKQQ1CSoTD4MnZ//9oADAMBAAIAAwAAABBUHz//xAAXEQEBAQEAAAAAAAAAAAAAAAABABEx/9oACAEDAQE/EEFk9m//xAAYEQADAQEAAAAAAAAAAAAAAAAAAREQQf/aAAgBAgEBPxBOlOZ//8QAIBABAAICAQQDAAAAAAAAAAAAAQARIWExQVFxoYGR8P/aAAgBAQABPxCjBcqoa+pYhkVYnzLM+tQzQ9fMbOi5dPl1KMhDqV3jcJAPPZBxep6TPUJ+TRP/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2\"\n        title=\"2\"\n        src=\"/static/3b3359898d6ac4cf2e969ba35c2601d5/7349d/2.jpg\"\n        srcset=\"/static/3b3359898d6ac4cf2e969ba35c2601d5/4ec73/2.jpg 180w,\n/static/3b3359898d6ac4cf2e969ba35c2601d5/158ba/2.jpg 360w,\n/static/3b3359898d6ac4cf2e969ba35c2601d5/7349d/2.jpg 525w\"\n        sizes=\"(max-width: 525px) 100vw, 525px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<blockquote>\n<p>웹 브라우저에서 자바스크립트를 실행시키는 경우, 엔진 워크단계에서 브라우저 엔진은 렌더링 등의 작업들은 백그라운드에서 멀티 스레드로 처리하고 js코드나 메모리에 영향을 끼치는 작업을 수행할 때에는 싱글 스레드로 처리한다. 모던 브라우저의 구조를 살펴보자면, concurrency를 위한 싱글스레드 부분과 parallelism을 위한 멀티스레드 부분이 있다.</p>\n</blockquote>\n<blockquote>\n<p>concurrency한 부분을 보자면, 체크 큐에서 콜백 큐에 실행시켜야 할 명령어가 있는지 검사하고, 있다면 꺼내서 런 시키고 존재하지 않는다면 다시 엔진워크 단계로 돌아간다. parallel한 부분을 보자면, 웹 api 스레드는 각자 해야할 일을 수행 후 콜백 큐에 콜백 함수를 적재시키는데, 이 콜백 큐에 대한 서브 스레드로 네트워크, 타이머, 메세지, 돔이벤트의 네 가지의 스레드가 존재한다.</p>\n</blockquote>\n<p>자바스크립트는 싱글 스레드 기반으로 동작하는 스크립트 언어지만, 이렇게 비동기적인 처리를 지원하기 때문에 빠르게 동작할 수 있다.</p>\n<p> </p>\n<h2 id=\"settimeout-예시\" style=\"position:relative;\"><a href=\"#settimeout-%EC%98%88%EC%8B%9C\" aria-label=\"settimeout 예시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>setTimeout 예시</h2>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span>log<span class=\"token punctuation\">,</span> <span class=\"token number\">5000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>의 동작을 살펴보자.</p>\n<ol>\n<li><code class=\"language-text\">console.log(1)</code>이 수행되면 콜 스택에 추가 되고, 실행되어 출력된 후, 콜 스택에서 제거된다.</li>\n<li><code class=\"language-text\">setTimeout</code>이 수행되면 콜 스택에 추가 되고, 실행되어 web API의 timer 스레드에 작업이 넘겨진다.</li>\n</ol>\n<p>즉, 5초 간 기다리는 작업을 timer 스레드라는 서브 스레드에서 수행하는 것이다. 덕분에 메인 스레드에서는 5초 간의 블로킹이 일어나지 않고 다음 코드를 수행할 수 있다. 자바스크립트가 호출 스택이 하나인 싱글 스레드임에도 여러 가지 일을 동시에 처리하는 것처럼 동작할 수 있는 이유이다. 이를 concurrency라고 한다.</p>\n<ol start=\"3\">\n<li>그리고 나서 <code class=\"language-text\">console.log(3)</code>이 적재되고 실행된 후 제거된다.</li>\n<li>5초 후 timer 스레드에서는 콜백 큐로 <code class=\"language-text\">console.log(2)</code>를 옮긴다.</li>\n<li>이벤트 루프가 콜백 큐에 있던 <code class=\"language-text\">console.log(2)</code>를 콜 스택에 추가하고, 실행된 후 제거된다.</li>\n</ol>\n<p>이벤트 루프는 항상 루프를 돌면서 콜 스택과 콜백 큐를 확인한다. 그러다 콜 스택이 빈 상태가 되면, 콜백 큐에 있는 함수를 하나씩 콜 스택으로 올려준다.</p>\n<p> </p>\n<h2 id=\"settimeout은-타이머-시간을-보장하지-않는다\" style=\"position:relative;\"><a href=\"#settimeout%EC%9D%80-%ED%83%80%EC%9D%B4%EB%A8%B8-%EC%8B%9C%EA%B0%84%EC%9D%84-%EB%B3%B4%EC%9E%A5%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94%EB%8B%A4\" aria-label=\"settimeout은 타이머 시간을 보장하지 않는다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>setTimeout은 타이머 시간을 보장하지 않는다</h2>\n<p>위의 예시에서 봤듯이, 이벤트 루프는 큐에 들어온 작업을 스택으로 이동시켜 실행하고, <code class=\"language-text\">setTimeout</code> 함수는 정해진 시간이 지나면 해당 콜백 함수를 큐에 추가한다. 그러나 이때 타이머의 정확한 시간은 보장되지 않는다.</p>\n<p><code class=\"language-text\">setTimeout</code> 함수가 정확한 타이머를 보장하지 않는 이유는 여러 가지 요소들이 상호작용하기 때문이다.</p>\n<ol>\n<li><strong>이벤트 루프의 처리 시간</strong><br>\n위에서 설명한 호출 스택에 이미 다른 작업이 존재하거나 이벤트 루프의 다른 처리가 있을 경우, <code class=\"language-text\">setTimeout</code>의 정확한 타이머를 보장할 수 없다.</li>\n<li><strong>시스템 리소스 및 환경 요인</strong><br>\n운영 체제나 실행 환경에 따라 타이머 정확성이 영향을 받을 수 있다. 자바스크립트 엔진은 시스템의 다른 프로세스나 작업과 리소스를 공유하므로, 이에 따라 <code class=\"language-text\">setTimeout</code>의 실행 시간이 다소 차이가 생길 수 있다.</li>\n<li><strong>브라우저의 최소 지연 시간</strong><br>\n대부분의 브라우저는 <code class=\"language-text\">setTimeout</code>의 최소 지연 시간을 가지고 있다. (일반적으로 4ms에서 10ms 사이의 값이 최소 지연 시간으로 사용된다.) 따라서 <code class=\"language-text\">setTimeout</code>의 지연 시간을 0으로 설정하더라도 실제로는 최소 지연 시간 이상의 시간이 지난 후에 콜백 함수가 실행될 수 있다.</li>\n</ol>\n<p>이러한 요소들로 인해 <code class=\"language-text\">setTimeout</code>의 정확한 타이머 보장이 어려울 수 있다. 만약 정확한 타이밍이 필요한 경우에는 <code class=\"language-text\">requestAnimationFrame</code>을 사용하는 것이 더 적합할 수 있다. <code class=\"language-text\">requestAnimationFrame</code>은 브라우저의 리플로우 주기에 맞춰 실행되므로, 애니메이션 및 시각적인 업데이트와 같은 작업에 더 적합하다.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EC%9D%98-%EB%8F%99%EC%9E%91\">자바스크립트의 동작</a></li>\n<li><a href=\"#%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EC%9D%98-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84\">자바스크립트의 이벤트 루프</a></li>\n<li><a href=\"#%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EB%9F%B0%ED%83%80%EC%9E%84\">자바스크립트 런타임</a></li>\n<li><a href=\"#settimeout-%EC%98%88%EC%8B%9C\">setTimeout 예시</a></li>\n<li><a href=\"#settimeout%EC%9D%80-%ED%83%80%EC%9D%B4%EB%A8%B8-%EC%8B%9C%EA%B0%84%EC%9D%84-%EB%B3%B4%EC%9E%A5%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94%EB%8B%A4\">setTimeout은 타이머 시간을 보장하지 않는다</a></li>\n</ul>\n</div>","frontmatter":{"date":"2023.06.10","title":"이딴 게.. 타이머? 자바스크립트의 런타임과 Event Loop","categories":"Dev","emoji":"⏱"},"fields":{"slug":"/37-event-loop/"}},"prev":{"id":"48929e83-7b5b-5b7d-96a0-8a6070810d0e","html":"<blockquote>\n<p><del>침착맨 라이트노벨 제목 월드컵 편을 보고 재밌어서 써본 제목입니다</del></p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 74.44444444444443%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABQAB/8QAFQEBAQAAAAAAAAAAAAAAAAAAAQD/2gAMAwEAAhADEAAAAWB8pdgZP//EABoQAAMBAAMAAAAAAAAAAAAAAAECAwQAETL/2gAIAQEAAQUCbygade+aqkuzBs66DMf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAcEAACAgIDAAAAAAAAAAAAAAABEQACEiEQQWH/2gAIAQEABj8CKlSLa7Z4xBKU9cxtuf/EABsQAQACAwEBAAAAAAAAAAAAAAEAIRFBYTGB/9oACAEBAAE/IU67iW0bb0hWGBhpuVTNR9xB/QPJ/9oADAMBAAIAAwAAABCc3//EABURAQEAAAAAAAAAAAAAAAAAACEQ/9oACAEDAQE/EBn/xAAWEQEBAQAAAAAAAAAAAAAAAAAAEVH/2gAIAQIBAT8QyI//xAAcEAEAAgMAAwAAAAAAAAAAAAABABEhMUFRcYH/2gAIAQEAAT8QBQFSJxrcpcCru849TCau+y6MxslmHu/Y3l3439j4OILiCif/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"0\"\n        title=\"0\"\n        src=\"/static/cdd7388ade9a9288320dd6e88843d287/066f9/0.jpg\"\n        srcset=\"/static/cdd7388ade9a9288320dd6e88843d287/4ec73/0.jpg 180w,\n/static/cdd7388ade9a9288320dd6e88843d287/158ba/0.jpg 360w,\n/static/cdd7388ade9a9288320dd6e88843d287/066f9/0.jpg 400w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p> </p>\n<p>파일을 다루는 일이 생길 때마다 구글링을 하게 되는 것 같다. <del>나만 그런 거 아니겠지?</del></p>\n<p><img src=\"/87600b5ea0a55b36b55ab65b6aa0cf21/1.gif\" alt=\"\"></p>\n<p>여튼 그래서 들고와 본 주제!</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC80lEQVQoz01S3U8cVRyd/0EfjEZCTHxTTGuaNPSBFxMJMTGRvvSl9cFY06QvtBrigwli1ARYhLKw4DaVfpGURlDXJQrR+MHXLrDCyu5s52tn78y9M3Pv3Jm7dz+BZM1dadLzfs7v/M450r/ZbD6f01SVEOwKOK7rAgDsp7AsCwAASiXTNA1DV1WlIOcPD7MHBxkpl8sZur67uzc4+OnnQ8PJlV82NrcIIRBCpw2EEIQQtlVKpVKxaOia8qSQz+WykizLrufNz999/rkXOl5+pef8uf53ev/ZzwY08DwPY4w97HltSw6C0BYKpqHrqqLIkmYYQJdvXr3SfeGti+/1T35yeXniZuLRvWqtjjH2T0EIIRh7rosQEnxT8BUJWJacO7jxwaUvhr/Ky/L0Z9e37wwpe3+E5Zrv+5TSIKBBEFBKfd/HGLuug6ANgOBLENpyXt78+68woKxcWU0mIzfez+9tHB23KrzOeTUUCJ7he46DbBsAYEqlkmkBj9KK42DqV2xI4vHvUqlMq9Wq145r1eNatcl5lTEeBKHw7/uugxwHWhaQXNdVVZuFDV5u2LZnGJDzZrN50miecN4gmBIS8nKjXG4wVmPlGob2kz+T+fS6ZQMpkVhK/pxYW1vNZDKE+AW5oOvQ96uVyhFjdRoEwnQY+oQSTD0cAE3Z/+n+ZuIRdKA0OjI8OfH12Ojw48cPOeeU0sNDBaGwUm2ysMZYhZVZICTEzyJzghGCyEGWVZKSyR920tuxmfF7d79Np7c0TTEMU1GsMKy3Wi0IPQgRY+y0MVGXeNhu70XSNHVl5cfYzPjc7MTMdOR2PLq4+CCVyjSbrY317b6+dwcGPuact3sWRYuliL2apqlL8Xg0Fvtmbm5yOjo2G5uYjo4vLMxHxkY++vDaG11nOztfvdDdU5BlKkIWW4UiZjGyoqFJv//2q2kWd9Lb0anI1K1IZOzLVGpj6fvll17seP21M11db/a+3be8tGgB0N6nbf9/tqgbuvofptWpN/lDgmwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2\"\n        title=\"2\"\n        src=\"/static/8fbe653cb4e64f42cc4cc77c828fc445/0b533/2.png\"\n        srcset=\"/static/8fbe653cb4e64f42cc4cc77c828fc445/e9ff0/2.png 180w,\n/static/8fbe653cb4e64f42cc4cc77c828fc445/f21e7/2.png 360w,\n/static/8fbe653cb4e64f42cc4cc77c828fc445/0b533/2.png 500w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p> </p>\n<h2 id=\"blob-file-그리고-url\" style=\"position:relative;\"><a href=\"#blob-file-%EA%B7%B8%EB%A6%AC%EA%B3%A0-url\" aria-label=\"blob file 그리고 url permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Blob, File, 그리고 URL</h2>\n<p>File, Blob, 그리고 URL은 웹 애플리케이션에서 파일과 데이터를 표현하고 다루는 데 사용되는 개념들이다.</p>\n<h3 id=\"blob\" style=\"position:relative;\"><a href=\"#blob\" aria-label=\"blob permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Blob</h3>\n<p>Blob은 일련의 데이터를 나타내는 객체다. Blob은 Binary Large Object의 약자로, 텍스트나 이미지, 오디오, 비디오 등과 같은 다양한 종류의 데이터를 처리할 수 있다. File 객체는 Blob 객체의 하위 클래스로 볼 수 있다.</p>\n<h3 id=\"file\" style=\"position:relative;\"><a href=\"#file\" aria-label=\"file permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>File</h3>\n<p>File은 사용자의 로컬 파일 시스템에서 선택한 파일을 나타내는 객체다. 일반적으로 파일 업로드나 파일 조작을 위해 사용된다. File 객체는 Blob 객체를 상속하며, 파일의 이름, 크기, 타입 등의 추가적인 정보를 가지고 있다.</p>\n<h3 id=\"url\" style=\"position:relative;\"><a href=\"#url\" aria-label=\"url permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>URL</h3>\n<p>URL은 웹 리소스의 주소를 나타내는 문자열이다. URL은 <code class=\"language-text\">createObjectURL()</code>을 사용하여 Blob 또는 File 객체를 URL로 변환할 수 있다. 변환된 URL은 해당 Blob 또는 File 객체를 가리키는 유효한 주소로 사용될 수 있다.</p>\n<h3 id=\"arraybuffer\" style=\"position:relative;\"><a href=\"#arraybuffer\" aria-label=\"arraybuffer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ArrayBuffer</h3>\n<p>ArrayBuffer는 일련의 바이너리 데이터를 나타내는 고정 크기 버퍼다. ArrayBuffer는 일반적으로 바이너리 데이터를 처리하고 다루는 데 사용된다. 주로 TypedArray 및 DataView와 함께 사용되며, 데이터를 다양한 형식으로 읽고 쓸 수 있는 메모리 버퍼로 동작한다.</p>\n<p> </p>\n<p>문제는 이 넷들을 서로 변환해야 하는 일이 생긴다는 것..!</p>\n<p> </p>\n<h2 id=\"file-blob-url-arraybuffer-간-변환-방법\" style=\"position:relative;\"><a href=\"#file-blob-url-arraybuffer-%EA%B0%84-%EB%B3%80%ED%99%98-%EB%B0%A9%EB%B2%95\" aria-label=\"file blob url arraybuffer 간 변환 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>File, Blob, URL, ArrayBuffer 간 변환 방법</h2>\n<h3 id=\"1-file--blob\" style=\"position:relative;\"><a href=\"#1-file--blob\" aria-label=\"1 file  blob permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. File 👉 Blob</h3>\n<p>이 경우엔 별도의 과정이 필요없다. File 객체가 Blob 객체를 상속하기 때문에 바로 Blob으로 사용할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// File to Blob</span>\n<span class=\"token keyword\">const</span> file<span class=\"token operator\">:</span> File <span class=\"token operator\">=</span> <span class=\"token comment\">/* 로컬 파일 선택 등을 통해 얻은 File 객체 */</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> blob<span class=\"token operator\">:</span> Blob <span class=\"token operator\">=</span> file<span class=\"token punctuation\">;</span></code></pre></div>\n<p> </p>\n<h3 id=\"2-blob--file\" style=\"position:relative;\"><a href=\"#2-blob--file\" aria-label=\"2 blob  file permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Blob 👉 File</h3>\n<p><code class=\"language-text\">new File()</code>을 사용하여 Blob 객체를 감싸면 된다. File 생성자의 첫 번째 매개변수로 Blob 객체 또는 Blob 배열을 전달하고, 파일 이름과 MIME 타입을 지정한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// Blob to File</span>\n<span class=\"token keyword\">const</span> blob<span class=\"token operator\">:</span> Blob <span class=\"token operator\">=</span> <span class=\"token comment\">/* 데이터 등을 통해 얻은 Blob 객체 */</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> fileName<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token string\">'example.txt'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> fileType<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token string\">'text/plain'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> convertedFile<span class=\"token operator\">:</span> File <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">File</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>blob<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> fileName<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> fileType <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p> </p>\n<h3 id=\"3-fileblob--url\" style=\"position:relative;\"><a href=\"#3-fileblob--url\" aria-label=\"3 fileblob  url permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. File/Blob 👉 URL</h3>\n<p><code class=\"language-text\">URL.createObjectURL()</code>을 사용하면 된다. 이 메서드는 Blob 또는 File 객체를 매개변수로 받아서 해당 객체를 가리키는 URL을 생성한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// File/Blob to URL</span>\n<span class=\"token keyword\">const</span> blob<span class=\"token operator\">:</span> Blob <span class=\"token operator\">=</span> <span class=\"token comment\">/* 데이터 등을 통해 얻은 Blob 객체 */</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> url<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token constant\">URL</span><span class=\"token punctuation\">.</span><span class=\"token function\">createObjectURL</span><span class=\"token punctuation\">(</span>blob<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p> </p>\n<h3 id=\"4-url--blob\" style=\"position:relative;\"><a href=\"#4-url--blob\" aria-label=\"4 url  blob permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. URL 👉 Blob</h3>\n<p><code class=\"language-text\">fetch()</code>를 사용하여 URL로부터 데이터를 가져온 다음, <code class=\"language-text\">response.blob()</code>을 호출하여 Blob 객체로 변환하면 된다. 이를 통해 URL로부터 파일의 데이터를 비동기적으로 가져올 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// URL to Blob</span>\n<span class=\"token keyword\">const</span> url<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token comment\">/* URL */</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> blob <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">blob</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p> </p>\n<h3 id=\"5-arraybuffer--blob\" style=\"position:relative;\"><a href=\"#5-arraybuffer--blob\" aria-label=\"5 arraybuffer  blob permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. ArrayBuffer 👉 Blob</h3>\n<p>ArrayBuffer를 사용하여 데이터를 생성한 후, Blob 객체로 변환할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// ArrayBuffer to Blob</span>\n<span class=\"token keyword\">const</span> arrayBuffer<span class=\"token operator\">:</span> ArrayBuffer <span class=\"token operator\">=</span> <span class=\"token comment\">/* 데이터 등을 통해 얻은 ArrayBuffer */</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> blob <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Blob</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>arrayBuffer<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p> </p>\n<h3 id=\"6-fileblob--arraybuffer\" style=\"position:relative;\"><a href=\"#6-fileblob--arraybuffer\" aria-label=\"6 fileblob  arraybuffer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. File/Blob 👉 ArrayBuffer</h3>\n<p>Blob 또는 Blob을 ArrayBuffer로 변환하기 위해서는 FileReader를 사용하여 비동기적으로 데이터를 읽어와야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// File/Blob to ArrayBuffer</span>\n<span class=\"token keyword\">const</span> blob<span class=\"token operator\">:</span> Blob <span class=\"token operator\">=</span> <span class=\"token comment\">/* 데이터 등을 통해 얻은 Blob 객체 */</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> fileReader <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FileReader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nfileReader<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> arrayBuffer <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>result<span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// ArrayBuffer를 사용한 데이터 처리 로직</span>\n  <span class=\"token comment\">// 이미지 데이터의 픽셀 값을 읽거나, 오디오 데이터를 재생하거나, 파일 형식을 파싱하는 등..</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nfileReader<span class=\"token punctuation\">.</span><span class=\"token function\">readAsArrayBuffer</span><span class=\"token punctuation\">(</span>blob<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p> </p>\n<h3 id=\"7-url--arraybuffer\" style=\"position:relative;\"><a href=\"#7-url--arraybuffer\" aria-label=\"7 url  arraybuffer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7. URL 👉 ArrayBuffer</h3>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// URL to ArrayBuffer</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">urlToBuffer</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>response<span class=\"token punctuation\">.</span>ok<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Network response was not ok'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">const</span> arrayBuffer <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">arrayBuffer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> arrayBuffer<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 에러 처리</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Error:'</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> url<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token comment\">/* URL */</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> arrayBuffer <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">urlToBuffer</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>arrayBuffer<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ArrayBuffer를 사용한 데이터 처리 로직</span>\n  <span class=\"token comment\">// 이미지 데이터의 픽셀 값을 읽거나, 오디오 데이터를 재생하거나, 파일 형식을 파싱하는 등..</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이미지 업로드 미리보기 구현은 2탄에서 작성해보도록 하겠다!</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/webp;base64,UklGRpYAAABXRUJQVlA4IIoAAAAwBACdASoUAA4APtFUo0uoJKMhsAgBABoJbACdMoMYAElhr5ZwPHVWyoIA+GADlNb+W0R+u1RU3jhigB2+yppMRFx7wh16VffOQQr64NHiO3OK9oD+3m1gBXpE92zgMeyDuCShzJlr3813JPxvgPbdAvVomSddvR7HZP44yhR9lDmd0xsggXwAAAA='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"3\"\n        title=\"3\"\n        src=\"/static/e7cad1153c53ba62d4898aec04c24e95/e88ff/3.webp\"\n        srcset=\"/static/e7cad1153c53ba62d4898aec04c24e95/59d6e/3.webp 180w,\n/static/e7cad1153c53ba62d4898aec04c24e95/a3012/3.webp 360w,\n/static/e7cad1153c53ba62d4898aec04c24e95/e88ff/3.webp 600w\"\n        sizes=\"(max-width: 600px) 100vw, 600px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#blob-file-%EA%B7%B8%EB%A6%AC%EA%B3%A0-url\">Blob, File, 그리고 URL</a></p>\n<ul>\n<li><a href=\"#blob\">Blob</a></li>\n<li><a href=\"#file\">File</a></li>\n<li><a href=\"#url\">URL</a></li>\n<li><a href=\"#arraybuffer\">ArrayBuffer</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#file-blob-url-arraybuffer-%EA%B0%84-%EB%B3%80%ED%99%98-%EB%B0%A9%EB%B2%95\">File, Blob, URL, ArrayBuffer 간 변환 방법</a></p>\n<ul>\n<li><a href=\"#1-file--blob\">1. File 👉 Blob</a></li>\n<li><a href=\"#2-blob--file\">2. Blob 👉 File</a></li>\n<li><a href=\"#3-fileblob--url\">3. File/Blob 👉 URL</a></li>\n<li><a href=\"#4-url--blob\">4. URL 👉 Blob</a></li>\n<li><a href=\"#5-arraybuffer--blob\">5. ArrayBuffer 👉 Blob</a></li>\n<li><a href=\"#6-fileblob--arraybuffer\">6. File/Blob 👉 ArrayBuffer</a></li>\n<li><a href=\"#7-url--arraybuffer\">7. URL 👉 ArrayBuffer</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"2023.06.18","title":"<Blob File URL ArrayBuffer> 그들의 사각관계?! ~이미지 업로드 미리보기를 구현하고 싶습니다~ : 1탄","categories":"Dev","emoji":"⚠️"},"fields":{"slug":"/39-file-blob-url-arraybuffer/"}},"site":{"siteMetadata":{"siteUrl":"https://jeong-min.com","comments":{"utterances":{"repo":"danmin20/danmin-gatsby-blog"}}}}},"pageContext":{"slug":"/38-apps-script/","nextSlug":"/37-event-loop/","prevSlug":"/39-file-blob-url-arraybuffer/"}},"staticQueryHashes":["1321405810","3649515864"]}