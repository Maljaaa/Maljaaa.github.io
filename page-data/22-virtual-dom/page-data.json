{"componentChunkName":"component---src-templates-post-template-index-tsx","path":"/22-virtual-dom/","result":{"data":{"cur":{"id":"e461cca8-06c0-573c-a2c4-a4c184e8fa05","html":"<h2 id=\"dom이란\" style=\"position:relative;\"><a href=\"#dom%EC%9D%B4%EB%9E%80\" aria-label=\"dom이란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DOM이란?</h2>\n<p>DOM(Document Object Model)이란, 웹 페이지를 이루는 태그들을 브라우저가 트리 구조로 만든 객체 모델입니다. HTML과 자바스크립트를 이어주는 역할로 볼 수 있습니다. 자바스크립트로는 Document라는 전역 객체를 통해 HTML 태그들을 조종할 수 있습니다.</p>\n<p>기존의 웹 애플리케이션은 자바스크립트로 직접 DOM을 제어했습니다. 이렇게 돔을 직접 제어하는 방식이 아닌, 리얼 돔을 추상화한 자바스크립트 객체를 구성하여 사용하는 방식이 가상 돔의 개념입니다.</p>\n<p> </p>\n<h2 id=\"spa의-등장\" style=\"position:relative;\"><a href=\"#spa%EC%9D%98-%EB%93%B1%EC%9E%A5\" aria-label=\"spa의 등장 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SPA의 등장</h2>\n<p>전통적인 웹 사이트는 인터렉션이 발생할 때마다 완전히 새로운 페이지를 서버에서 전송해 주었습니다. 그러나 점차 웹 사이트가 고도화됨에 따라 한 페이지에 해당하는 페이지 용량이 커져갔고, 매번 새로운 페이지를 전달하는 게 점점 버거워지게 되었습니다. 또한 기존의 웹 애플리케이션은 돔 전체를 직접 접근하여 조작해서 브라우저에 화면을 나타내는 방식이었고, 웹 어플리케이션의 규모가 커질수록, 돔에 직접 접근하여 변화를 주다 보니 성능 이슈가 발생했습니다.</p>\n<p>돔 자체를 읽고 쓰는 것은 빠릅니다. 다만 돔에 변화가 일어나 브라우저에서 매번 리플로우/리페인트 되는 과정에서 성능이 저하되는 것입니다. <a href=\"https://www.jeong-min.com/21-rendering/\">(리플로우/리페인트란?)</a></p>\n<p>그렇게 등장한 것이 SPA(Single Page Application)입니다. 웹 사이트의 전체 페이지를 하나의 페이지에 담아 동적으로 화면을 바꿔가는 방식입니다.</p>\n<p>SPA를 리얼 돔에 접근하는 방식(ex. 자바스크립트 + 제이쿼리)으로 구현할 경우, 돔 조작이 매우 빈번하게 일어날 것이고 브라우저의 성능 저하는 여전할 것입니다. 그래서 뷰의 변형이 아닌, 기존 뷰를 날리고 새로 렌더링 하는 방법이 나오게 되었습니다.</p>\n<p>돔 조작이 빈번한 SPA에서 성능을 향상하는 방법이 바로 이렇게 Virtual DOM을 사용하는 것입니다. 리액트와 뷰와 같은 SPA 라이브러리의 경우, Virtual DOM이라는 패턴을 사용해 SPA를 구현합니다.</p>\n<p>리얼 돔을 추상화한 가상의 객체 트리로 HTML 정보를 저장하고 있다가, 이 트리에 변경이 발생하면 모든 변화를 모아 리얼 돔과 비교하여 변경된 부분을 한 번에 빠르게 일괄 업데이트합니다. 따라서 리플로우가 적게 발생하게 됩니다. 작은 규모의 리플로우가 여러 번 발생하는 것보다 큰 규모의 리플로우가 한번 발생하는 것이 성능상으로 훨씬 뛰어납니다.</p>\n<p> </p>\n<h2 id=\"리액트의-reconciliation-diffing-알고리즘\" style=\"position:relative;\"><a href=\"#%EB%A6%AC%EC%95%A1%ED%8A%B8%EC%9D%98-reconciliation-diffing-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98\" aria-label=\"리액트의 reconciliation diffing 알고리즘 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>리액트의 Reconciliation, Diffing 알고리즘</h2>\n<p>리액트는 Virtual DOM, 즉 React Element라고 불리는 객체 형태를 사용합니다. <code class=\"language-text\">ReactDOM.render()</code>를 통해 실제 브라우저에 DOM 형태로 렌더링 됩니다.</p>\n<p>컴포넌트에서 리턴하는 JSX는 React Element를 리턴합니다. 즉, 자바스크립트 객체로 구성되어 있습니다. 해당 객체에는 리액트의 가상 돔임을 증명하는 Symbol 값과, 각각의 엘리먼트를 고유하게 구분하는 key값이 있습니다. 리액트는 이렇게 구성된 가상 돔과 리얼 돔을 디핑 알고리즘을 통해 비교하여 효율적으로 리렌더링합니다.</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABa0lEQVQoz3VS206DQBTk433y2QcfffAzTIxao7b2ZhOo5VrochMI4dayFsbstlBq20kIm3OZM2dyBHRQ1zXOoRs/V9ONCf+DaZpC0zRYlgXbtpFlWZtvaoqigK7riKIIVVUd9QvNo/nHcQxZljmpqihIsvSEkFLK84qi4Lcsj/JCl6yZxiBJElKmrqSo1uuT1QzDgB+Gu3hVockcFFK6WycMoek6SkqxZAoHn4ypbWBDmR1xkmA1/0Y4GB4rrPfFdbEG3j+gvPSgWBYvYo2yqrYqGGzPw3Qy4e9QlDC7uW0mHVau9j4sR2M4vVcQWYFFCCRR5H5GQcDzwVsf31fX+MkzLHUdC1WFbJpY7QW0Chm2/QHmoojFcIjccbCyCb6mUziO03qrPzxi9vSMNM/h+z5XahoGNptNh5CzbVGMxiCaBuJ5SLIMnuvCdV3eyFDmOcy7e25DGEUIggCEEP51T0/oGn4Jlw7+3GH/Aeje/7RFST03AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"0\"\n        title=\"0\"\n        src=\"/static/31efb51c52bb1da8d9d68e810e797c06/37523/0.png\"\n        srcset=\"/static/31efb51c52bb1da8d9d68e810e797c06/e9ff0/0.png 180w,\n/static/31efb51c52bb1da8d9d68e810e797c06/f21e7/0.png 360w,\n/static/31efb51c52bb1da8d9d68e810e797c06/37523/0.png 720w,\n/static/31efb51c52bb1da8d9d68e810e797c06/75609/0.png 994w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></td>\n<td><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAByklEQVQoz4WSS2/TUBBG80P5BWxYIrGBNRESEoiyRGLBElYFpDYKUeMG5MZRk4jYrZIQO4nt6zwd13nYPsivNJTXSFfW1YzPfN/cKQBEUUT+3Ww25BHf89xh3Z8izxXu/thqtZBlGU3TfoGGYZjch8Mh1Wo1yUuSlNTGJxdSOFQXnyAIcBwHd7kkyiCHDbfbbZIXQmAYBqZpYdv23xUKx0GqSiz8mxSWQe9ajhUOBj9+s12I8sIowrIsDF1PktdnEotm+xaa2IYgCNF1HccRDHQD7dpmt0soGTBTsAZqtRoTIVLg23e0XxylrcOAMEzVWabOxUU9UxRw7/4Zm802LQuj1LLb7dF+8JDJdEqn02Exn6P2uqj9PpZp7i29Px5SqlzR62osly412aZUvuTjaX/fMAHOhUAuPk9eKh7weDymoSgI22Y6m5KP8XFRoXI+wlsJZhODpy/rVKQuxVcavp+qLOzWaxqPnqBqGt81LYEqipIMXVXVvbovksVJWeX1myYj84aTisXn0hXPji5xVweW4/1aNJp4sxmut0rWxnVdfN/H87y9lXNZUJYEHz4NsWyPr3WHb8qE49MRwvFvX5n/RrSH/rMq28OfWkI/g15GYnIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"1\"\n        title=\"1\"\n        src=\"/static/57fa7a05c310a99d29e385c44d110a35/37523/1.png\"\n        srcset=\"/static/57fa7a05c310a99d29e385c44d110a35/e9ff0/1.png 180w,\n/static/57fa7a05c310a99d29e385c44d110a35/f21e7/1.png 360w,\n/static/57fa7a05c310a99d29e385c44d110a35/37523/1.png 720w,\n/static/57fa7a05c310a99d29e385c44d110a35/f0551/1.png 862w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></td>\n</tr>\n</tbody>\n</table>\n<p>리액트 컴포넌트 내 상태가 변경될 경우, 리액트는 해당 컴포넌트를 dirty 체크하고 batch에 추가합니다. 그리고 리액트 엘리먼트와 리얼 돔 엘리먼트를 비교/순회하며 dirty 체크된 엘리먼트들을 처리합니다. 속성 값만 변한 경우에는 속성 값만 업데이트하고, 해당 엘리먼트의 태그 혹은 컴포넌트가 변경된 경우라면 해당 노드를 포함한 하위의 모든 노드를 언마운트(제거)한 뒤에 새로운 엘리먼트로 대체합니다. 이런 식으로 batch에 쌓인 모든 변경사항들을 처리한 후, 딱 한 번 리얼돔에 이 결과를 업데이트합니다.</p>\n<p>두 임의의 트리 사이의 최소한의 수정 횟수를 찾는 것은 O(n^3)의 복잡도를 가집니다. 1000개의 엘리먼트를 그리기 위해 10억 번의 비교 연산을 수행해야 하는 것입니다. 그러나 리액트는 단순하면서도 강력한 휴리스틱을 사용하여 O(n) 복잡도의 휴리스틱 알고리즘을 구현합니다. 휴리스틱 알고리즘은 다음의 두 가지 가정을 기반으로 합니다.</p>\n<ol>\n<li>서로 다른 타입의 두 엘리먼트는 서로 다른 트리를 만들어낸다.</li>\n<li>개발자가 key prop을 통해, 여러 렌더링 사이에서 어떤 자식 엘리먼트가 변경되지 않아야 할지 표시해 줄 수 있다.</li>\n</ol>\n<p> </p>\n<h2 id=\"휴리스틱이란\" style=\"position:relative;\"><a href=\"#%ED%9C%B4%EB%A6%AC%EC%8A%A4%ED%8B%B1%EC%9D%B4%EB%9E%80\" aria-label=\"휴리스틱이란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>휴리스틱이란?</h2>\n<p>모든 것을 순회하는 것은 비용이 너무 크니까 덜 중요한 것들은 제외하고 중요한 것들만 고려해서 최선의 값을 찾아내는 방법입니다. 리액트는 비슷한 컴포넌트는 트리 내에 동일한 계층에 위치할 것이라고 전제하고, 트리를 같은 계층끼리 비교합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 377px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.77777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB9ElEQVQoz0VQaW+bUBDk//+aqpGbSnGC08bxfWCDMQQwYHNjg585HsfbrajTdLQfdlYazexwiNg0zXD4xvMv6/XKti1EBMA7AJCxjtR1xb88S5Lo+x7+A4eILQNhI0s7ba/YimrCl/RT39EkzdaCLIqqoppfx07sBiy64Mm7mXYaJSjKbXaDvIAsgygGPwDHZZrJkivTD2kQs6PL/jsHZyR5I2w2o7dpcqa2jySDIIL4AlkBDYPoypwQDVMb/P7lh2mYfHpzLGGRTIePljwmuxF561nBtkSKUCN2wyBvqyMs+GDe99Rp/vrdshaUJQiIXOvgsi9Ki909yYeylXoyHrH2GD0B9RlzUH92F+/LpmgQ8Wgb68GMmm0X+zQRlB9jrT8h0mm/pzyvPz1qOqnJvTWalt5B7Y3Fh9d0ZZhmO5y4D9+2GyVPEbn1bFjRm6Ip0vT151wSROVD/5hsZavotJVvTgZPfuC7nrN4H4wEbTHd2Aebny3NrOViYw8XN9cF4lrbONtfciEsdv7lnJfIahbb0W5GT2rt6qEq7KN05YTbOJtboUehaxubCkMDSYi3qEgjxY+QREACJAFcw4acS88ob2kFWAG2gEaJ9O9THAC7Fw9tBTVldeVmlVmwA8UDRYvisUKnBKfCU9ktRs7sErArG/8AKtNdmUE+uKcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"3\"\n        title=\"3\"\n        src=\"/static/46cbf2c2e4dc8704114b5d228d52afb1/6146e/3.png\"\n        srcset=\"/static/46cbf2c2e4dc8704114b5d228d52afb1/e9ff0/3.png 180w,\n/static/46cbf2c2e4dc8704114b5d228d52afb1/f21e7/3.png 360w,\n/static/46cbf2c2e4dc8704114b5d228d52afb1/6146e/3.png 377w\"\n        sizes=\"(max-width: 377px) 100vw, 377px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>복잡성이 대폭 줄어들면서도, 트리의 컴포넌트가 다른 레벨로 이동하는 경우는 매우 드물기 때문에 큰 손실이 발생하지 않습니다.</p>\n<p>그다음으로 해당 계층에 존재하는 노드의 수를 비교합니다.</p>\n<p><strong>1. 노드의 수가 일치한다면?</strong></p>\n<p>수가 일치한다는 것은 추가되거나 삭제된 노드가 없다는 것이죠. 해당 노드의 상태가 변경된 컴포넌트라면 dirty 체크가 되어 있을 것이고, 해당 노드의 하위 컴포넌트의 속성 값을 업데이트하면 됩니다. 전혀 다른 엘리먼트로 대체되었을 경우, 해당 엘리먼트를 버리고 새로운 엘리먼트로 대체합니다. 이때는 자식 노드들을 탐색하지 않아도 되겠죠.</p>\n<p><strong>2. 노드의 수가 불일치한다면?</strong></p>\n<p>같은 계층의 노드들이라면 리스트와 같은 선형적인 구조로 되어있을 것입니다. 이 때 누가 추가/삭제되었는지를 쉽게 파악하기 위해, 리액트는 key를 사용합니다. 리액트에서 리스트 형태로 컴포넌트를 렌더할 때, key값을 입력하기를 강제하는 것을 확인할 수 있습니다.</p>\n<p>이 키값을 기반으로 Map 자료 구조를 이용해 쉽게 추가/삭제를 확인할 수 있게 됩니다. 같은 컴포넌트가 다른 위치에 있다면 리렌더링할 필요 없이, 위치만 바꿔주면 됩니다.</p>\n<p>이러한 휴리스틱 알고리즘을 기반으로 리액트의 Diffing 알고리즘은 돔 트리를 빠르게 순회하며 변화를 반영시킵니다. React 16부터는 새로운 reconciliation 엔진, Fiber를 사용한다고 합니다. virtual DOM의 증분 렌더링을 활성화하는 것이 목표라고 하네요. <a href=\"https://github.com/acdlite/react-fiber-architecture\">(살펴보기)</a></p>\n<p> </p>\n<h3 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h3>\n<ul>\n<li><a href=\"https://calendar.perfplanet.com/2013/diff/\">https://calendar.perfplanet.com/2013/diff/</a></li>\n<li><a href=\"https://ko.reactjs.org/docs/reconciliation.html\">https://ko.reactjs.org/docs/reconciliation.html</a></li>\n<li><a href=\"https://ko.reactjs.org/docs/faq-internals.html#what-is-react-fiber\">https://ko.reactjs.org/docs/faq-internals.html#what-is-react-fiber</a></li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#dom%EC%9D%B4%EB%9E%80\">DOM이란?</a></p>\n</li>\n<li>\n<p><a href=\"#spa%EC%9D%98-%EB%93%B1%EC%9E%A5\">SPA의 등장</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%A6%AC%EC%95%A1%ED%8A%B8%EC%9D%98-reconciliation-diffing-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98\">리액트의 Reconciliation, Diffing 알고리즘</a></p>\n</li>\n<li>\n<p><a href=\"#%ED%9C%B4%EB%A6%AC%EC%8A%A4%ED%8B%B1%EC%9D%B4%EB%9E%80\">휴리스틱이란?</a></p>\n<ul>\n<li><a href=\"#reference\">Reference</a></li>\n</ul>\n</li>\n</ul>\n</div>","excerpt":"DOM이란? DOM(Document Object Model)이란, 웹 페이지를 이루는 태그들을 브라우저가 트리 구조로 만든 객체 모델입니다. HTML과 자바스크립트를 이어주는 역할로 볼 수 있습니다. 자바스크립트로는 Document라는 전역 객체를 통해 HTML 태그들을 조종할 수 있습니다. 기존의 웹 애플리케이션은 자바스크립트로 직접 DOM을 제어했습니다. 이렇게 돔을 직접 제어하는 방식이 아닌, 리얼 돔을 추상화한 자바스크립트 객체를 구성하여 사용하는 방식이 가상 돔의 개념입니다.   SPA의 등장 전통적인 웹 사이트는 인터렉션이 발생할 때마다 완전히 새로운 페이지를 서버에서 전송해 주었습니다. 그러나 점차 웹 사이트가 고도화됨에 따라 한 페이지에 해당하는 페이지 용량이 커져갔고, 매번 새로운 페이지를 전달하는 게 점점 버거워지게 되었습니다. 또한 기존의 웹 애플리케이션은 돔 전체를 직접 접근하여 조작해서 브라우저에 화면을 나타내는 방식이었고, 웹 어플리케이션의 규모가 커질수록…","frontmatter":{"date":"2022.03.29","title":"SPA의 가상돔(virtual DOM)이란? 리액트의 휴리스틱 디핑 알고리즘","categories":"Dev","emoji":"🌲"},"fields":{"slug":"/22-virtual-dom/"}},"next":{"id":"ccdcd7db-a42f-55ad-8fc9-13b4ded55874","html":"<h2 id=\"렌더링이란\" style=\"position:relative;\"><a href=\"#%EB%A0%8C%EB%8D%94%EB%A7%81%EC%9D%B4%EB%9E%80\" aria-label=\"렌더링이란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>렌더링이란?</h2>\n<p>HTML, CSS, JS 문서가 브라우저에 출력되는 과정을 말합니다. 브라우저는 렌더링을 수행하는 렌더링 엔진을 가지고 있는데, 크롬은 블링크(Blink), 사파리는 웹킷(Webkit), 파이어폭스는 게코(Gecko)라는 렌더링 엔진을 사용합니다.</p>\n<p>렌더링 순서는 다음과 같습니다.</p>\n<ol>\n<li>HTML 파일과 CSS 파일을 파싱해서 각각 Dom Tree와 CSSOM Tree를 만든다. (Parsing)</li>\n<li>두 Tree를 결합하여 Render Tree를 만든다. (Style)</li>\n<li>Render Tree에서 각 노드의 위치와 크기를 계산한다. (Layout)</li>\n<li>계산된 값을 이용해 각 노드를 화면상의 실제 픽셀로 변환하고 레이어를 만든다. (Paint)</li>\n<li>레이어를 합성하여 실제 화면에 나타낸다. (Composite)</li>\n</ol>\n<p> </p>\n<h2 id=\"1-parsing-파싱\" style=\"position:relative;\"><a href=\"#1-parsing-%ED%8C%8C%EC%8B%B1\" aria-label=\"1 parsing 파싱 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Parsing 파싱</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAABFklEQVQY00WQy3KCQBBF+f9/yNZ14ibJwlQl2yysVMpHRHmJ4CAg8nAQZuakxDzuqrvv6a7utozRXFWcapq6GuJzFZEFE7TuhvyX2QtBWd6YPw2euUIYY7CutTJdIPw3ZAcKSA8u3scdfX9B//Q1UuH4EUGUU0o4eM8U6Xrwtfmfb1XpnNi+R7hPpLt36sIjccbI85G2hyIPybwxbStppKZuJPv1w7BEspsSuy9kB4e984hSCkt1NaorUb3EC2PCWLCdj9iGDpuwIUtsEntEcSpY2D5fjiB2X4ndCd42Zrla4kcps/mMnTjdTub2hUFJ3rCwA/xdSq80WmuM7rh0iqqWHMuW1SZg+rlC5C1KQ9sZmlahlOYbI8p6gbw0JFgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"0\"\n        title=\"0\"\n        src=\"/static/5af05fcc1aa80be4f2342c7e72361928/37523/0.png\"\n        srcset=\"/static/5af05fcc1aa80be4f2342c7e72361928/e9ff0/0.png 180w,\n/static/5af05fcc1aa80be4f2342c7e72361928/f21e7/0.png 360w,\n/static/5af05fcc1aa80be4f2342c7e72361928/37523/0.png 720w,\n/static/5af05fcc1aa80be4f2342c7e72361928/302a4/0.png 1080w,\n/static/5af05fcc1aa80be4f2342c7e72361928/07a9c/0.png 1440w,\n/static/5af05fcc1aa80be4f2342c7e72361928/6568d/0.png 1660w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>우선 HTML을 파싱하여 DOM(Documnet Object Model) Tree를 만들게 됩니다. 파싱 도중 CSS를 만나면 파싱하여 CSSOM(CSS Object Model) Tree를 만듭니다.</p>\n<p>파싱 도중 CSS를 만나는 경우로는,</p>\n<ol>\n<li>HTML 마크업 내에 inline 스타일이 선언되어 있거나,</li>\n<li>head 태그에서 외부 css 파일을 참조하거나,</li>\n<li>head 태그에 style 태그가 정의되어 있거나 등이 있겠죠.</li>\n</ol>\n<p>HTML과 CSS 파싱은 각각 다음과 같은 동일한 과정을 거칩니다.</p>\n<ol>\n<li><strong>Bytes를 Characters로 변환</strong><br>\n브라우저가 원시 바이트를 읽어와서, 개별 문자로 변환합니다.</li>\n<li><strong>Characters를 토큰화</strong><br>\n브라우저가 문자열을 W3C 표준에 지정된 고유 토큰으로 변환합니다.</li>\n<li><strong>토큰을 노드로 렉싱</strong><br>\n토큰은 속성 및 규칙을 정의하는 객체로 변환됩니다.</li>\n<li><strong>노드로 DOM 생성</strong><br>\n마크업에 정의된 여러 태그 간의 관계를 해석해서 트리 구조로 연결이 됩니다.</li>\n</ol>\n<p> </p>\n<h2 id=\"2-style-스타일\" style=\"position:relative;\"><a href=\"#2-style-%EC%8A%A4%ED%83%80%EC%9D%BC\" aria-label=\"2 style 스타일 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Style 스타일</h2>\n<p><img src=\"1.png\" alt=\"\"></p>\n<p>html과 css의 파싱이 완료되면 두 트리를 합쳐 실제로 화면에 그려질 Render Tree를 생성합니다. 렌더 트리에는 실제로 화면에 표시되는 요소들만 들어있으며, 각 노드에는 스타일이 적용되어 있습니다.</p>\n<p><code class=\"language-text\">visibility: hidden</code>의 경우 보이지는 않지만 요소가 공간을 차지하기 때문에 렌더 트리에 포함되는 반면,<br>\n<code class=\"language-text\">display: none</code>의 경우 요소가 아예 표시되지 않기 때문에 렌더 트리에 포함되지 않습니다.</p>\n<p> </p>\n<h2 id=\"3-layout-레이아웃\" style=\"position:relative;\"><a href=\"#3-layout-%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83\" aria-label=\"3 layout 레이아웃 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Layout 레이아웃</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 616px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 45.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABY0lEQVQoz62PbUvjQBSF8/9/yAqyfqwgCgut2hbWdi3SxmxGTdrJy7xm0pSi5s5ZUop2V2Rh2QMPZ+bCPNwJ4tlssKlsUisZ10qytVLMScGclKxZr5k1hnWJooiVZcmstUwXBdN5/obK89iWZRpOpxdBeDPNS14iSzjyZYYs5RC8gFMGrm7A8wLpcoWqqtA0Dbz3oO0W7WbzG9huwaPoITi7OH1M2QBL1m8Xs3O6m5zS8GZIY2ZouMioP3ui8/GcTFUTACLvd32IB1oAUMYsgl7va3I7Osbk6oi+D76A3/cw+XGN/lziOhIY/dT4dptCWde92W34AaJODCFEGCzC+yQrCqw4p1WWdY2sEBCmhjBu16WyeH55eRMe9v68E0opw6CqbLKfE/6SQ8kf83ehEOKhu7Rt+0pE7Wd47z+FiF73X54HWmuJ/xStdRowxk6ccyNjzKW19upfMMYMnHPjOI6PfgHUFqRUGp2I5gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2\"\n        title=\"2\"\n        src=\"/static/259fa1459a97316ce3a7bc834f1d6510/40040/2.png\"\n        srcset=\"/static/259fa1459a97316ce3a7bc834f1d6510/e9ff0/2.png 180w,\n/static/259fa1459a97316ce3a7bc834f1d6510/f21e7/2.png 360w,\n/static/259fa1459a97316ce3a7bc834f1d6510/40040/2.png 616w\"\n        sizes=\"(max-width: 616px) 100vw, 616px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>렌더트리 내 노드들의 위치를 잡아주는 과정이 레이아웃입니다. 루트 노드부터 순회하면서 노드의 정확한 크기와 위치를 계산하여 캡처합니다. 모든 상대적인 측정값(%, rem 등)은 화면에서 절대적인 픽셀로 변환됩니다.</p>\n<p> </p>\n<h2 id=\"4-paint-페인트\" style=\"position:relative;\"><a href=\"#4-paint-%ED%8E%98%EC%9D%B8%ED%8A%B8\" aria-label=\"4 paint 페인트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. Paint 페인트</h2>\n<p>위치가 잡힌 후, 위치를 건드리지 않는 css 속성들이 적용되는 과정이 페인트입니다. 레이아웃 단계에서 계산된 값을 이용해 각 노드를 화면상의 실제 픽셀로 변환합니다. 이때 하나의 레이어가 아닌 여러 개의 레이어로 관리됩니다. transform과 같이 별도의 레이어를 만들게 유도하는 css 속성을 만나면 레이어가 분리됩니다.</p>\n<p> </p>\n<h2 id=\"5-composite-합성\" style=\"position:relative;\"><a href=\"#5-composite-%ED%95%A9%EC%84%B1\" aria-label=\"5 composite 합성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. Composite 합성</h2>\n<p>페인트 단계에서 생성된 레이어들을 합치는 과정이 합성입니다. 화면에서 웹 페이지를 볼 수 있게 됩니다.</p>\n<p> </p>\n<h2 id=\"렌더링에서-발생하는-사이드-이펙트\" style=\"position:relative;\"><a href=\"#%EB%A0%8C%EB%8D%94%EB%A7%81%EC%97%90%EC%84%9C-%EB%B0%9C%EC%83%9D%ED%95%98%EB%8A%94-%EC%82%AC%EC%9D%B4%EB%93%9C-%EC%9D%B4%ED%8E%99%ED%8A%B8\" aria-label=\"렌더링에서 발생하는 사이드 이펙트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>렌더링에서 발생하는 사이드 이펙트?</h2>\n<p>사용자가 웹 페이지에 처음 접속하면 렌더링 과정을 거쳐서 화면에 모든 요소가 그려지게 됩니다. 하지만 이후에도 사용자 인터렉션을 통해 화면 변경이 일어날 수도 있죠.</p>\n<h3 id=\"1-리플로우-reflow\" style=\"position:relative;\"><a href=\"#1-%EB%A6%AC%ED%94%8C%EB%A1%9C%EC%9A%B0-reflow\" aria-label=\"1 리플로우 reflow permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 리플로우 Reflow</h3>\n<p>자바스크립트로 돔을 변경하거나 CSS에서 위치 값에 영향을 주는 속성들을 변경하는 등 레이아웃에 영향을 미치게 되면<br>\n<code class=\"language-text\">[ 레이아웃 -> 페인트 -> 합성 ]</code>의 과정이 재실행되는 리플로우가 발생합니다.</p>\n<p>리플로우를 발생시키는 대표적인 속성들은 다음과 같습니다.\n<code class=\"language-text\">position, width, height, margin, padding, border, border-width, font-size, font-weight, line-height, text-align, overflow</code></p>\n<h3 id=\"2-리페인트-repaint\" style=\"position:relative;\"><a href=\"#2-%EB%A6%AC%ED%8E%98%EC%9D%B8%ED%8A%B8-repaint\" aria-label=\"2 리페인트 repaint permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 리페인트 Repaint</h3>\n<p>레이아웃에 영향을 미치지 않는 속성들을 변경할 때에는<br>\n<code class=\"language-text\">[ 페인트 -> 합성 ]</code>의 과정이 재실행되는 리페인트가 발생합니다.</p>\n<p>리페인트를 발생시키는 대표적인 속성들은 다음과 같습니다.\n<code class=\"language-text\">background, color, text-decoration, border-style, border-radius</code></p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EB%A0%8C%EB%8D%94%EB%A7%81%EC%9D%B4%EB%9E%80\">렌더링이란?</a></p>\n</li>\n<li>\n<p><a href=\"#1-parsing-%ED%8C%8C%EC%8B%B1\">1. Parsing 파싱</a></p>\n</li>\n<li>\n<p><a href=\"#2-style-%EC%8A%A4%ED%83%80%EC%9D%BC\">2. Style 스타일</a></p>\n</li>\n<li>\n<p><a href=\"#3-layout-%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83\">3. Layout 레이아웃</a></p>\n</li>\n<li>\n<p><a href=\"#4-paint-%ED%8E%98%EC%9D%B8%ED%8A%B8\">4. Paint 페인트</a></p>\n</li>\n<li>\n<p><a href=\"#5-composite-%ED%95%A9%EC%84%B1\">5. Composite 합성</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%A0%8C%EB%8D%94%EB%A7%81%EC%97%90%EC%84%9C-%EB%B0%9C%EC%83%9D%ED%95%98%EB%8A%94-%EC%82%AC%EC%9D%B4%EB%93%9C-%EC%9D%B4%ED%8E%99%ED%8A%B8\">렌더링에서 발생하는 사이드 이펙트?</a></p>\n<ul>\n<li><a href=\"#1-%EB%A6%AC%ED%94%8C%EB%A1%9C%EC%9A%B0-reflow\">1. 리플로우 Reflow</a></li>\n<li><a href=\"#2-%EB%A6%AC%ED%8E%98%EC%9D%B8%ED%8A%B8-repaint\">2. 리페인트 Repaint</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"2022.03.28","title":"브라우저 렌더링 과정 및 사이드 이펙트(리플로우, 리페인트) 살펴보기","categories":"Dev","emoji":"➰"},"fields":{"slug":"/21-rendering/"}},"prev":{"id":"e6297ae9-9eda-5826-9d3a-64631054d372","html":"<h3 id=\"별도의-spa-라이브러리-없이-single-page-application을-만들어봅시다\" style=\"position:relative;\"><a href=\"#%EB%B3%84%EB%8F%84%EC%9D%98-spa-%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-%EC%97%86%EC%9D%B4-single-page-application%EC%9D%84-%EB%A7%8C%EB%93%A4%EC%96%B4%EB%B4%85%EC%8B%9C%EB%8B%A4\" aria-label=\"별도의 spa 라이브러리 없이 single page application을 만들어봅시다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>별도의 SPA 라이브러리 없이 Single page application을 만들어봅시다!</h3>\n<p>언어는 타입스크립트, 번들러는 웹팩을 사용하도록 하겠습니다. html과 css 웹팩 플러그인도 함께 설치하고, 바벨 트랜스파일러도 설치합시다. 저는 sass를 사용하기 위한 추가적인 설치를 함께 해주었습니다.</p>\n<p><strong>devDependencies</strong></p>\n<ul>\n<li>@babel/cli</li>\n<li>@babel/core</li>\n<li>@babel/preset-env</li>\n<li>@babel/preset-typescript</li>\n<li>babel-loader</li>\n<li>css-loader</li>\n<li>html-loader</li>\n<li>html-webpack-plugin</li>\n<li>mini-css-extract-plugin</li>\n<li>sass</li>\n<li>sass-loader</li>\n<li>ts-loader</li>\n<li>typescript</li>\n<li>webpack</li>\n<li>webpack-cli</li>\n<li>webpack-dev-server</li>\n</ul>\n<p> </p>\n<h2 id=\"1-webpackconfigjs\" style=\"position:relative;\"><a href=\"#1-webpackconfigjs\" aria-label=\"1 webpackconfigjs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. webpack.config.js</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/* eslint-disable @typescript-eslint/no-var-requires */</span>\n<span class=\"token comment\">/* eslint-disable no-undef */</span>\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> HtmlWebpackPlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'html-webpack-plugin'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> MiniCssExtractPlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mini-css-extract-plugin'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nmodule<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">exports</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">entry</span><span class=\"token operator\">:</span> <span class=\"token string\">'./src/index.ts'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">module</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">rules</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">test</span><span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\.(ts|js)$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">use</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">loader</span><span class=\"token operator\">:</span> <span class=\"token string\">'babel-loader'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">exclude</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'/node_modules'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">test</span><span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\.html$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">use</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token punctuation\">{</span>\n              <span class=\"token literal-property property\">loader</span><span class=\"token operator\">:</span> <span class=\"token string\">'html-loader'</span><span class=\"token punctuation\">,</span>\n              <span class=\"token literal-property property\">options</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">minimize</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">test</span><span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\.(css|scss)$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">use</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>MiniCssExtractPlugin<span class=\"token punctuation\">.</span>loader<span class=\"token punctuation\">,</span> <span class=\"token string\">'css-loader'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sass-loader'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">test</span><span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\.svg$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">use</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">loader</span><span class=\"token operator\">:</span> <span class=\"token string\">'file-loader'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token keyword\">new</span> <span class=\"token class-name\">HtmlWebpackPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">template</span><span class=\"token operator\">:</span> <span class=\"token string\">'./src/index.html'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">new</span> <span class=\"token class-name\">MiniCssExtractPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">filename</span><span class=\"token operator\">:</span> <span class=\"token string\">'[name].css'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">chunkFilename</span><span class=\"token operator\">:</span> <span class=\"token string\">'[id].css'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">optimization</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">minimize</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">resolve</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">modules</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'node_modules'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">extensions</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'.ts'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'.js'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'.json'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'.scss'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">alias</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string-property property\">'@'</span><span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'src'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">output</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'./dist/src'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">filename</span><span class=\"token operator\">:</span> <span class=\"token string\">'[name].js'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">devtool</span><span class=\"token operator\">:</span> <span class=\"token string\">'source-map'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p> </p>\n<h2 id=\"2-tsconfigjson\" style=\"position:relative;\"><a href=\"#2-tsconfigjson\" aria-label=\"2 tsconfigjson permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. tsconfig.json</h2>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"target\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"es5\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"lib\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token string\">\"dom\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"dom.iterable\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"esnext\"</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"allowJs\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"downlevelIteration\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"skipLibCheck\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"esModuleInterop\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"allowSyntheticDefaultImports\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"strict\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"forceConsistentCasingInFileNames\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"module\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"esnext\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"moduleResolution\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"node\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"resolveJsonModule\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"isolatedModules\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"noEmit\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"baseUrl\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./src\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"paths\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"@/*\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token string\">\"./*\"</span>\n      <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"exclude\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"node_modules\"</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>절대 경로를 alias를 따로 설정해주었습니다.</p>\n<p> </p>\n<h2 id=\"3-babelrc\" style=\"position:relative;\"><a href=\"#3-babelrc\" aria-label=\"3 babelrc permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. .babelrc</h2>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"presets\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">[</span>\n            <span class=\"token string\">\"@babel/preset-env\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token property\">\"targets\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token property\">\"browsers\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n                        <span class=\"token string\">\">= 1%\"</span>\n                    <span class=\"token punctuation\">]</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"@babel/preset-typescript\"</span>\n    <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p> </p>\n<h2 id=\"4-indexhtml\" style=\"position:relative;\"><a href=\"#4-indexhtml\" aria-label=\"4 indexhtml permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. index.html</h2>\n<p>기본적으로 화면을 띄우기 위한 html 파일이 필요하겠죠.\n리액트처럼 id로 app을 가지는 div를 넣어줍시다.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">http-equiv</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>X-UA-Compatible<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>IE=edge<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>viewport<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>width=device-width, initial-scale=1.0<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Vanill React<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p> </p>\n<h2 id=\"5-indexts\" style=\"position:relative;\"><a href=\"#5-indexts\" aria-label=\"5 indexts permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. index.ts</h2>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> $app <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#app\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> HTMLElement<span class=\"token punctuation\">;</span></code></pre></div>\n<p>이제 페이지를 렌더링하기 위해서는 이제 뭐가 필요할까요? 컴포넌트와 컴포넌트를 렌더링하기 위한 라우터가 필요하겠죠. 다음 글에서부터 본격적으로 컴포넌트를 작성해보도록 하겠습니다.</p>\n<p> </p>\n<h2 id=\"6-디렉토리-구조\" style=\"position:relative;\"><a href=\"#6-%EB%94%94%EB%A0%89%ED%86%A0%EB%A6%AC-%EA%B5%AC%EC%A1%B0\" aria-label=\"6 디렉토리 구조 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. 디렉토리 구조</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">└── src\n    ├── components       // 컴포넌트들\n    ├── core\n    ├── Component.ts     // 컴포넌트 클래스\n    ├── Router.ts        // 라우터 클래스\n    ├── index.html\n    ├── index.ts\n    ├── pages            // 페이지들\n    ├── scss             // 스타일 파일들\n    └── utils            // 유틸 함수들</code></pre></div>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<ul>\n<li><a href=\"#%EB%B3%84%EB%8F%84%EC%9D%98-spa-%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-%EC%97%86%EC%9D%B4-single-page-application%EC%9D%84-%EB%A7%8C%EB%93%A4%EC%96%B4%EB%B4%85%EC%8B%9C%EB%8B%A4\">별도의 SPA 라이브러리 없이 Single page application을 만들어봅시다!</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#1-webpackconfigjs\">1. webpack.config.js</a></p>\n</li>\n<li>\n<p><a href=\"#2-tsconfigjson\">2. tsconfig.json</a></p>\n</li>\n<li>\n<p><a href=\"#3-babelrc\">3. .babelrc</a></p>\n</li>\n<li>\n<p><a href=\"#4-indexhtml\">4. index.html</a></p>\n</li>\n<li>\n<p><a href=\"#5-indexts\">5. index.ts</a></p>\n</li>\n<li>\n<p><a href=\"#6-%EB%94%94%EB%A0%89%ED%86%A0%EB%A6%AC-%EA%B5%AC%EC%A1%B0\">6. 디렉토리 구조</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"2022.04.10","title":"바닐라JS(TS)로 리액트 SPA 구현하기 | (1) 기본 세팅","categories":"Dev React만들어보기","emoji":"🍦"},"fields":{"slug":"/23-vanilla-spa-1/"}},"site":{"siteMetadata":{"siteUrl":"https://jeong-min.com","comments":{"utterances":{"repo":"danmin20/danmin-gatsby-blog"}}}}},"pageContext":{"slug":"/22-virtual-dom/","nextSlug":"/21-rendering/","prevSlug":"/23-vanilla-spa-1/"}},"staticQueryHashes":["1321405810","3649515864"]}