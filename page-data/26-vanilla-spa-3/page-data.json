{"componentChunkName":"component---src-templates-post-template-index-tsx","path":"/26-vanilla-spa-3/","result":{"data":{"cur":{"id":"011e807a-68da-52c3-8bae-111e2004310e","html":"<p>ë¼ìš°í„°ë¥¼ êµ¬í˜„í•˜ëŠ” ëŒ€í‘œì ì¸ ë°©ë²•ì—ëŠ” ë‘ ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤. ë°”ë¡œ BrowserRouterì™€ HashRouterì¸ë°ìš”, ì´ ë‘˜ì˜ ì°¨ì´ì— ëŒ€í•´ ì˜ ëª¨ë¥´ì‹ ë‹¤ë©´ ì•„ë˜ì˜ ê¸€ì„ ë¨¼ì € ì½ì–´ì£¼ì„¸ìš”!<br>\n[BrowserRouterì™€ HashRouter, ë­ê°€ ë‹¤ë¥¼ê¹Œ? (feat. React Router)]</p>\n<p>HashRouterì™€ BrowserRouterë¥¼ ëª¨ë‘ êµ¬í˜„í•´ ë³¼ í…ë°ìš”, ì´ë²ˆ ê¸€ì—ì„œëŠ” HashRouterì— ëŒ€í•´ ë¨¼ì € ë‹¤ë£¨ì–´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>\n<p>Â </p>\n<h2 id=\"1-route-íƒ€ì…-ì •ì˜\" style=\"position:relative;\"><a href=\"#1-route-%ED%83%80%EC%9E%85-%EC%A0%95%EC%9D%98\" aria-label=\"1 route íƒ€ì… ì •ì˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Route íƒ€ì… ì •ì˜</h2>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">Route</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  page<span class=\"token operator\">:</span> <span class=\"token keyword\">typeof</span> Component<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ë¼ìš°íŠ¸ëŠ” pathì™€ í•´ë‹¹ pathì— í•´ë‹¹í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì§€ëŠ” ê°ì²´ì…ë‹ˆë‹¤.</p>\n<p>Â </p>\n<h2 id=\"2-router-êµ¬ì¡°\" style=\"position:relative;\"><a href=\"#2-router-%EA%B5%AC%EC%A1%B0\" aria-label=\"2 router êµ¬ì¡° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Router êµ¬ì¡°</h2>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Router</span> <span class=\"token punctuation\">{</span>\n  $app<span class=\"token operator\">:</span> HTMLElement<span class=\"token punctuation\">;</span>\n  routes<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">[</span>key<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token keyword\">typeof</span> Component<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  fallback<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>         <span class=\"token comment\">// ìƒì„±ì</span>\n\n  <span class=\"token function\">initEvent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>           <span class=\"token comment\">// hashê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œì˜ ì´ë²¤íŠ¸ init</span>\n  \n  <span class=\"token function\">onHashChangeHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span> <span class=\"token comment\">// hashê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œì˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬</span>\n\n  <span class=\"token function\">hasRoute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>            <span class=\"token comment\">// ì˜¬ë°”ë¥¸ ë¼ìš°íŠ¸ì¸ì§€ ê²€ì¦</span>\n\n  <span class=\"token function\">getRoute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>            <span class=\"token comment\">// í•´ë‹¹ ë¼ìš°íŠ¸ ê°€ì ¸ì˜¤ê¸°</span>\n\n  <span class=\"token function\">renderPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>          <span class=\"token comment\">// í˜ì´ì§€ ë Œë”ë§</span>\n\n  <span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>                <span class=\"token comment\">// ë¼ìš°í„° push</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>SPAì˜ ìµœìƒë‹¨ ì—˜ë¦¬ë¨¼íŠ¸ ê°ì²´ì™€ ì •ì˜ëœ ë¼ìš°íŠ¸ë“¤ì„ í•„ìˆ˜ì ìœ¼ë¡œ ë°›ê²Œ ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì´ë²¤íŠ¸ì™€ ë¼ìš°íŠ¸ë¥¼ ë‹¤ë£¨ëŠ” ì—¬ëŸ¬ ë©”ì„œë“œë¥¼ í†µí•´ ë¼ìš°íŒ…ì„ í•˜ê²Œ ë©ë‹ˆë‹¤.</p>\n<p>Â </p>\n<h2 id=\"3-class-ì´ˆê¸°í™”\" style=\"position:relative;\"><a href=\"#3-class-%EC%B4%88%EA%B8%B0%ED%99%94\" aria-label=\"3 class ì´ˆê¸°í™” permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Class ì´ˆê¸°í™”</h2>\n<p>ìš°ì„ , ë¼ìš°í„° ê°ì²´ê°€ ì¸ìŠ¤í„´ìŠ¤í™”ë  ë•Œì˜ ì„¤ì •ì„ ìƒì„±ìì—ì„œ í•´ì£¼ì–´ì•¼ê² ì£ .</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  $app<span class=\"token punctuation\">,</span>\n  routes<span class=\"token punctuation\">,</span>\n  fallback <span class=\"token operator\">=</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  $app<span class=\"token operator\">:</span> HTMLElement<span class=\"token punctuation\">;</span>\n  routes<span class=\"token operator\">:</span> Route<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  fallback<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$app <span class=\"token operator\">=</span> $app<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fallback <span class=\"token operator\">=</span> fallback<span class=\"token punctuation\">;</span>\n\n  routes<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>route<span class=\"token operator\">:</span> Route<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>routes<span class=\"token punctuation\">[</span>route<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> route<span class=\"token punctuation\">.</span>page<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">initEvent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ìµœìƒë‹¨ ì—˜ë¦¬ë¨¼íŠ¸ ê°ì²´, fallback url, ë¼ìš°íŠ¸ë“¤ì„ ì´ˆê¸°í™”í•´ì£¼ê³ , <code class=\"language-text\">initEvent</code>ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.</p>\n<p>Â </p>\n<h2 id=\"4-hashê°€-ë³€ê²½ë -ë•Œì˜-ì´ë²¤íŠ¸-ì²˜ë¦¬\" style=\"position:relative;\"><a href=\"#4-hash%EA%B0%80-%EB%B3%80%EA%B2%BD%EB%90%A0-%EB%95%8C%EC%9D%98-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%B2%98%EB%A6%AC\" aria-label=\"4 hashê°€ ë³€ê²½ë  ë•Œì˜ ì´ë²¤íŠ¸ ì²˜ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. hashê°€ ë³€ê²½ë  ë•Œì˜ ì´ë²¤íŠ¸ ì²˜ë¦¬</h2>\n<p><code class=\"language-text\">initEvent</code>ì—ì„œ window ê°ì²´ì˜ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆì— í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•´ì¤ì‹œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token function\">initEvent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hashchange\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">onHashChangeHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n  \n<span class=\"token function\">onHashChangeHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$app<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> hash <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>hash<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> path <span class=\"token operator\">=</span> hash<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">renderComponent</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">onHashChangeHandler</code>ì—ì„œëŠ” appì„ ë¹ˆ ìŠ¤íŠ¸ë§ìœ¼ë¡œ ì´ˆê¸°í™”í•´ì£¼ê³ , hashê°’ì„ íŒŒì‹±í•˜ì—¬ í•´ë‹¹í•˜ëŠ” í˜ì´ì§€ë¥¼ ë Œë”ë§í•˜ê²Œ ë©ë‹ˆë‹¤.</p>\n<p>Â </p>\n<h2 id=\"5-í•´ë‹¹í•˜ëŠ”-í˜ì´ì§€-ë Œë”ë§\" style=\"position:relative;\"><a href=\"#5-%ED%95%B4%EB%8B%B9%ED%95%98%EB%8A%94-%ED%8E%98%EC%9D%B4%EC%A7%80-%EB%A0%8C%EB%8D%94%EB%A7%81\" aria-label=\"5 í•´ë‹¹í•˜ëŠ” í˜ì´ì§€ ë Œë”ë§ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. í•´ë‹¹í•˜ëŠ” í˜ì´ì§€ ë Œë”ë§</h2>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token function\">hasRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">typeof</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>routes<span class=\"token punctuation\">[</span>path<span class=\"token punctuation\">]</span> <span class=\"token operator\">!==</span> <span class=\"token string\">\"undefined\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">getRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>routes<span class=\"token punctuation\">[</span>path<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">renderPage</span><span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> route<span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">/* ë™ì  ë¼ìš°íŒ… ì²˜ë¦¬ */</span>\n  <span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\w{1,}$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ë™ì  ë¼ìš°íŒ…ìœ¼ë¡œ ì „ë‹¬ë˜ëŠ” :id ëŠ” ëª¨ë‘ [ë¬¸ìì—´ + ìˆ«ì] ì¡°í•©ìœ¼ë¡œ ê°„ì£¼</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">hasRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    route <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ì£¼ì†Œê°€ ì—†ëŠ” ê²½ìš°ë¥¼ ë™ì  ë¼ìš°íŒ…ìœ¼ë¡œ ê°„ì£¼í•˜ê³  ì´ë¥¼ :id ë¡œ ì¹˜í™˜</span>\n    route <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">,</span> <span class=\"token string\">\":id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ê·¸ ì™¸ ì…ë ¥ë˜ì§€ ì•Šì€ ëª¨ë“  ì£¼ì†Œì— ëŒ€í•´ì„œëŠ” fallback ì‹¤í–‰</span>\n    route <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRoute</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fallback<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">new</span> <span class=\"token class-name\">route</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$app<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">push</span><span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>hash <span class=\"token operator\">=</span> path<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì¡´ì¬í•˜ëŠ” ë¼ìš°í„°ì¸ì§€ ê²€ì¦í•˜ê³ , ì•„ë‹ ê²½ìš° fallbackì´ ë Œë”ë§ë˜ë„ë¡ í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.</p>\n<p>ë™ì  ë¼ìš°íŒ…ë„ ì²˜ë¦¬í•´ì£¼ì–´ì•¼ê² ì£ ? ë™ì  ë¼ìš°íŒ…ì˜ ê²½ìš° hasRouteë¥¼ í†µê³¼í•˜ì§€ ëª»í•  ê²ƒì…ë‹ˆë‹¤. ì´ì— ëŒ€í•´ ì •ê·œì‹ìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ ë™ì  ë¼ìš°íŒ…ì„ ì²˜ë¦¬í•´ì¤ì‹œë‹¤.</p>\n<p>Â </p>\n<h2 id=\"6-ë¼ìš°í„°-export\" style=\"position:relative;\"><a href=\"#6-%EB%9D%BC%EC%9A%B0%ED%84%B0-export\" aria-label=\"6 ë¼ìš°í„° export permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. ë¼ìš°í„° export</h2>\n<p>push ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ routerë¥¼ export í•´ì£¼ê³ , index.tsì—ì„œ ë¼ìš°í„°ë¥¼ ì´ˆê¸°í™”í•  ìˆ˜ ìˆë„ë¡ <code class=\"language-text\">initRouter</code>ë¥¼ export í•´ì¤ì‹œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">let</span> router<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function-variable function\">push</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">initRouter</span><span class=\"token punctuation\">(</span>options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> $app<span class=\"token operator\">:</span> HTMLElement<span class=\"token punctuation\">;</span> routes<span class=\"token operator\">:</span> Route<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> routerObj <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Router</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  router <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">push</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> routerObj<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  routerObj<span class=\"token punctuation\">.</span><span class=\"token function\">onHashChangeHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Â </p>\n<h2 id=\"ì „ì²´-ì½”ë“œ\" style=\"position:relative;\"><a href=\"#%EC%A0%84%EC%B2%B4-%EC%BD%94%EB%93%9C\" aria-label=\"ì „ì²´ ì½”ë“œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì „ì²´ ì½”ë“œ</h2>\n<p><code class=\"language-text\">/src/core/HashRouter.ts</code></p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> Component <span class=\"token keyword\">from</span> <span class=\"token string\">\"./Component\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Route</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  page<span class=\"token operator\">:</span> <span class=\"token keyword\">typeof</span> Component<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Router</span> <span class=\"token punctuation\">{</span>\n  $app<span class=\"token operator\">:</span> HTMLElement<span class=\"token punctuation\">;</span>\n  routes<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">[</span>key<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token keyword\">typeof</span> Component<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  fallback<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    $app<span class=\"token punctuation\">,</span>\n    routes<span class=\"token punctuation\">,</span>\n    fallback <span class=\"token operator\">=</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    $app<span class=\"token operator\">:</span> HTMLElement<span class=\"token punctuation\">;</span>\n    routes<span class=\"token operator\">:</span> Route<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    fallback<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$app <span class=\"token operator\">=</span> $app<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fallback <span class=\"token operator\">=</span> fallback<span class=\"token punctuation\">;</span>\n\n    routes<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>route<span class=\"token operator\">:</span> Route<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>routes<span class=\"token punctuation\">[</span>route<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> route<span class=\"token punctuation\">.</span>page<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">initEvent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">initEvent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hashchange\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">onHashChangeHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">onHashChangeHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$app<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> hash <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>hash<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> path <span class=\"token operator\">=</span> hash<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">renderPage</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">hasRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">typeof</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>routes<span class=\"token punctuation\">[</span>path<span class=\"token punctuation\">]</span> <span class=\"token operator\">!==</span> <span class=\"token string\">\"undefined\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">getRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>routes<span class=\"token punctuation\">[</span>path<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">renderPage</span><span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> route<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">/* ë™ì  ë¼ìš°íŒ… ì²˜ë¦¬ */</span>\n    <span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\w{1,}$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ë™ì  ë¼ìš°íŒ…ìœ¼ë¡œ ì „ë‹¬ë˜ëŠ” :id ëŠ” ëª¨ë‘ [ë¬¸ìì—´ + ìˆ«ì] ì¡°í•©ìœ¼ë¡œ ê°„ì£¼</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">hasRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      route <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// ì£¼ì†Œê°€ ì—†ëŠ” ê²½ìš°ë¥¼ ë™ì  ë¼ìš°íŒ…ìœ¼ë¡œ ê°„ì£¼í•˜ê³  ì´ë¥¼ :id ë¡œ ì¹˜í™˜</span>\n      route <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">,</span> <span class=\"token string\">\":id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// ê·¸ ì™¸ ì…ë ¥ë˜ì§€ ì•Šì€ ëª¨ë“  ì£¼ì†Œì— ëŒ€í•´ì„œëŠ” fallback ì‹¤í–‰</span>\n      route <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRoute</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fallback<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">new</span> <span class=\"token class-name\">route</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$app<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">push</span><span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>hash <span class=\"token operator\">=</span> path<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">let</span> router<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function-variable function\">push</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">initRouter</span><span class=\"token punctuation\">(</span>options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> $app<span class=\"token operator\">:</span> HTMLElement<span class=\"token punctuation\">;</span> routes<span class=\"token operator\">:</span> Route<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> routerObj <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Router</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  router <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">push</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> routerObj<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  routerObj<span class=\"token punctuation\">.</span><span class=\"token function\">onHashChangeHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#1-route-%ED%83%80%EC%9E%85-%EC%A0%95%EC%9D%98\">1. Route íƒ€ì… ì •ì˜</a></li>\n<li><a href=\"#2-router-%EA%B5%AC%EC%A1%B0\">2. Router êµ¬ì¡°</a></li>\n<li><a href=\"#3-class-%EC%B4%88%EA%B8%B0%ED%99%94\">3. Class ì´ˆê¸°í™”</a></li>\n<li><a href=\"#4-hash%EA%B0%80-%EB%B3%80%EA%B2%BD%EB%90%A0-%EB%95%8C%EC%9D%98-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%B2%98%EB%A6%AC\">4. hashê°€ ë³€ê²½ë  ë•Œì˜ ì´ë²¤íŠ¸ ì²˜ë¦¬</a></li>\n<li><a href=\"#5-%ED%95%B4%EB%8B%B9%ED%95%98%EB%8A%94-%ED%8E%98%EC%9D%B4%EC%A7%80-%EB%A0%8C%EB%8D%94%EB%A7%81\">5. í•´ë‹¹í•˜ëŠ” í˜ì´ì§€ ë Œë”ë§</a></li>\n<li><a href=\"#6-%EB%9D%BC%EC%9A%B0%ED%84%B0-export\">6. ë¼ìš°í„° export</a></li>\n<li><a href=\"#%EC%A0%84%EC%B2%B4-%EC%BD%94%EB%93%9C\">ì „ì²´ ì½”ë“œ</a></li>\n</ul>\n</div>","excerpt":"ë¼ìš°í„°ë¥¼ êµ¬í˜„í•˜ëŠ” ëŒ€í‘œì ì¸ ë°©ë²•ì—ëŠ” ë‘ ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤. ë°”ë¡œ BrowserRouterì™€ HashRouterì¸ë°ìš”, ì´ ë‘˜ì˜ ì°¨ì´ì— ëŒ€í•´ ì˜ ëª¨ë¥´ì‹ ë‹¤ë©´ ì•„ë˜ì˜ ê¸€ì„ ë¨¼ì € ì½ì–´ì£¼ì„¸ìš”! [BrowserRouterì™€ HashRouter, ë­ê°€ ë‹¤ë¥¼ê¹Œ? (feat. React Router)] HashRouterì™€ BrowserRouterë¥¼ ëª¨ë‘ êµ¬í˜„í•´ ë³¼ í…ë°ìš”, ì´ë²ˆ ê¸€ì—ì„œëŠ” HashRouterì— ëŒ€í•´ ë¨¼ì € ë‹¤ë£¨ì–´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤. Â  1. Route íƒ€ì… ì •ì˜ ë¼ìš°íŠ¸ëŠ” pathì™€ í•´ë‹¹ pathì— í•´ë‹¹í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì§€ëŠ” ê°ì²´ì…ë‹ˆë‹¤. Â  2. Router êµ¬ì¡° SPAì˜ ìµœìƒë‹¨ ì—˜ë¦¬ë¨¼íŠ¸ ê°ì²´ì™€ ì •ì˜ëœ ë¼ìš°íŠ¸ë“¤ì„ í•„ìˆ˜ì ìœ¼ë¡œ ë°›ê²Œ ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì´ë²¤íŠ¸ì™€ ë¼ìš°íŠ¸ë¥¼ ë‹¤ë£¨ëŠ” ì—¬ëŸ¬ ë©”ì„œë“œë¥¼ í†µí•´ ë¼ìš°íŒ…ì„ í•˜ê²Œ ë©ë‹ˆë‹¤. Â  3. Class ì´ˆê¸°í™” ìš°ì„ , ë¼ìš°í„° ê°ì²´ê°€ ì¸ìŠ¤í„´ìŠ¤í™”ë  ë•Œì˜ ì„¤ì •ì„ ìƒì„±ìì—ì„œ í•´ì£¼ì–´ì•¼ê² ì£ . ìµœìƒë‹¨ ì—˜ë¦¬ë¨¼íŠ¸ ê°ì²´, fallback url, ë¼ìš°íŠ¸ë“¤ì„ ì´ˆê¸°í™”í•´ì£¼ê³ , ë¥¼ ì‹¤í–‰â€¦","frontmatter":{"date":"2022.05.15","title":"ë°”ë‹ë¼JS(TS)ë¡œ ë¦¬ì•¡íŠ¸ SPA êµ¬í˜„í•˜ê¸° | (3) í´ë˜ìŠ¤ë¡œ HashRouter êµ¬í˜„","categories":"Dev Reactë§Œë“¤ì–´ë³´ê¸°","emoji":"ğŸ¦"},"fields":{"slug":"/26-vanilla-spa-3/"}},"next":{"id":"da8f0537-38c7-5029-815a-f2a7e1fafc96","html":"<p>CRAë¡œ ë¦¬ì•¡íŠ¸ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ë©´, ê¸°ë³¸ì ìœ¼ë¡œ react-router-domì„ ì‚¬ìš©í•˜ê²Œ ë©ë‹ˆë‹¤. ì´ react-router-domì€ ë‘ ê°€ì§€ ë¼ìš°í„°ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ë°”ë¡œ BrowserRouterì™€ HashRouterì£ .</p>\n<p>ì´ ë‘ ê°œë…ì€ react-router-domì—ë§Œ í•´ë‹¹ë˜ëŠ” ì´ì•¼ê¸°ëŠ” ì•„ë‹™ë‹ˆë‹¤. BrowserRouterëŠ” HTML5ì˜ history APIë¥¼ ì‚¬ìš©í•œ ë°©ì‹ì´ê³ , HashRouterëŠ” URLì˜ hashë¥¼ ì‚¬ìš©í•œ ë°©ì‹ì…ë‹ˆë‹¤. ë¦¬ì•¡íŠ¸ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì§ì ‘ ë¼ìš°í„°ë¥¼ ì§ì ‘ êµ¬í˜„í•œë‹¤ í•˜ë”ë¼ë„, ìš°ë¦¬ëŠ” ì´ ë°©ì‹ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>Â </p>\n<h2 id=\"react-router\" style=\"position:relative;\"><a href=\"#react-router\" aria-label=\"react router permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>react-router</h2>\n<p>ìš°ì„ ì€ ë¦¬ì•¡íŠ¸ ë¼ìš°í„°ì— ëŒ€í•´ ì ê¹ ì‚´í´ë´…ì‹œë‹¤. SPAê°€ ë“±ì¥í•˜ê¸° ì „ì—ëŠ” ì–´ë–»ê²Œ í˜ì´ì§€ë¥¼ ì´ë™ì‹œì¼°ì„ê¹Œìš”? <code class=\"language-text\">&lt;a href=\"\">&lt;/a></code>ë¥¼ ì‚¬ìš©í•´ì„œ ì§ì ‘ urlì„ ë³€ê²½ì‹œì¼°ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ë ‡ê²Œ í•˜ë©´ ëª¨ë“  í˜ì´ì§€ë¥¼ reloadí•˜ê²Œ ë˜ë¯€ë¡œ ì†ë„ê°€ ëŠë ¤ì§ˆ ìˆ˜ë°–ì— ì—†ìŠµë‹ˆë‹¤. ë¦¬ì•¡íŠ¸ì—ì„œëŠ” SPAë¼ëŠ” íŠ¹ì„±ì„ í™œìš©í•˜ì—¬ ë¼ìš°í„°ë¥¼ ì´ìš©í•˜ì—¬ ë³€ê²½ëœ ì†ŒìŠ¤ë§Œ ë°”ë€Œë„ë¡ í•©ë‹ˆë‹¤.</p>\n<p>Â </p>\n<h2 id=\"browserrotuer\" style=\"position:relative;\"><a href=\"#browserrotuer\" aria-label=\"browserrotuer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>BrowserRotuer</h2>\n<ul>\n<li>HTML5ì˜ history APIë¥¼ í™œìš©í•œ ë¼ìš°í„°ì…ë‹ˆë‹¤.</li>\n<li>SSRì— ì í•©í•©ë‹ˆë‹¤.</li>\n<li>ìƒˆë¡œê³ ì¹¨í•˜ê±°ë‚˜ urlë¡œ ì§ì ‘ ì ‘ê·¼í•  ê²½ìš° ê²½ë¡œë¥¼ ì°¾ì§€ ëª»í•´ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤.</li>\n<li>ì´ë¥¼ í•´ê²°í•˜ë ¤ë©´ ì„œë²„ì— ì¶”ê°€ì ì¸ ì„¸íŒ…ì´ í•„ìš”í•©ë‹ˆë‹¤.</li>\n<li>ë”°ë¼ì„œ ë°°í¬ê°€ ì¢€ ë” ë³µì¡í•©ë‹ˆë‹¤.</li>\n</ul>\n<p>Â </p>\n<h2 id=\"hashrouter\" style=\"position:relative;\"><a href=\"#hashrouter\" aria-label=\"hashrouter permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HashRouter</h2>\n<ul>\n<li>URLì˜ hashë¥¼ í™œìš©í•œ ë¼ìš°í„°ì…ë‹ˆë‹¤.</li>\n<li>CSRì— ì í•©í•©ë‹ˆë‹¤.</li>\n<li>ë¼ìš°í„°ì— #ê°€ ë¶™ìŠµë‹ˆë‹¤.</li>\n<li>í•´ì‹œë¥¼ ì‚¬ìš©í•˜ë©´ ì„œë²„ì— ìš”ì²­í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ìƒˆë¡œê³ ì¹¨í•˜ê±°ë‚˜ urlë¡œ ì§ì ‘ ì ‘ê·¼í•´ë„ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</li>\n<li>ë”°ë¼ì„œ ë°°í¬ê°€ ì¢€ ë” ê°„ë‹¨í•©ë‹ˆë‹¤.</li>\n<li>í•˜ì§€ë§Œ # ë•Œë¬¸ì— ê²€ìƒ‰ ì—”ì§„ì´ ì½ì§€ ëª»í•˜ì—¬ SEOê°€ ì¢‹ì§€ ì•ŠìŠµë‹ˆë‹¤.</li>\n</ul>\n<p>í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ê²Œ ë˜ë©´, ë¸Œë¼ìš°ì €ê°€ í˜„ì¬ ê²½ë¡œë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë²„ì— GET ìš”ì²­ì„ ë³´ë‚´ê²Œ ë©ë‹ˆë‹¤. #ì€ GET ìš”ì²­ì„ ë³´ë‚´ì§€ ëª»í•˜ë„ë¡í•˜ëŠ” ë° ì‚¬ìš©ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ë¡œ ì¸í•´ ë‘ ë¼ìš°í„° ì‚¬ì´ì—ëŠ” í° ì°¨ì´ê°€ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ë”°ë¡œ ì„œë²„ê°€ ì¡´ì¬í•˜ê³ , SEO ìµœì í™”ê°€ í•„ìš”í•œ ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸ì—ëŠ” BrowserRouterë¥¼, ê°œì¸ì ìœ¼ë¡œ ê°„ë‹¨í•˜ê²Œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•  ê²½ìš°ì—ëŠ” HashRouterë¥¼ ì‚¬ìš©í•˜ë©´ ì í•©í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#react-router\">react-router</a></li>\n<li><a href=\"#browserrotuer\">BrowserRotuer</a></li>\n<li><a href=\"#hashrouter\">HashRouter</a></li>\n</ul>\n</div>","frontmatter":{"date":"2022.05.14","title":"BrowserRouterì™€ HashRouter, ë­ê°€ ë‹¤ë¥¼ê¹Œ? (feat. React Router)","categories":"Dev","emoji":"ğŸšª"},"fields":{"slug":"/25-browserrouter-hashrouter/"}},"prev":{"id":"298baa9e-5793-52a3-bbef-07648aa5c161","html":"<p>ì´ë²ˆ ê¸€ì—ì„œëŠ” BrowserRouterë¥¼ êµ¬í˜„í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>\n<p>Â </p>\n<h2 id=\"1-route-íƒ€ì…-ì •ì˜\" style=\"position:relative;\"><a href=\"#1-route-%ED%83%80%EC%9E%85-%EC%A0%95%EC%9D%98\" aria-label=\"1 route íƒ€ì… ì •ì˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Route íƒ€ì… ì •ì˜</h2>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">Route</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  page<span class=\"token operator\">:</span> <span class=\"token keyword\">typeof</span> Component<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì´ëŠ” HashRouterì™€ ë™ì¼í•©ë‹ˆë‹¤.</p>\n<p>Â </p>\n<h2 id=\"2-router-êµ¬ì¡°\" style=\"position:relative;\"><a href=\"#2-router-%EA%B5%AC%EC%A1%B0\" aria-label=\"2 router êµ¬ì¡° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Router êµ¬ì¡°</h2>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Router</span> <span class=\"token punctuation\">{</span>\n  $app<span class=\"token operator\">:</span> HTMLElement<span class=\"token punctuation\">;</span>\n  routes<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">[</span>key<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token keyword\">typeof</span> Component<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  fallback<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>          <span class=\"token comment\">// ìƒì„±ì</span>\n\n  <span class=\"token function\">initEvent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>            <span class=\"token comment\">// hashê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œì˜ ì´ë²¤íŠ¸ init</span>\n  \n  <span class=\"token function\">onRouteChangeHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span> <span class=\"token comment\">// hashê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œì˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬</span>\n\n  <span class=\"token function\">hasRoute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>             <span class=\"token comment\">// ì˜¬ë°”ë¥¸ ë¼ìš°íŠ¸ì¸ì§€ ê²€ì¦</span>\n\n  <span class=\"token function\">getRoute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>             <span class=\"token comment\">// í•´ë‹¹ ë¼ìš°íŠ¸ ê°€ì ¸ì˜¤ê¸°</span>\n\n  <span class=\"token function\">renderPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>           <span class=\"token comment\">// í˜ì´ì§€ ë Œë”ë§</span>\n\n  <span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>                 <span class=\"token comment\">// ë¼ìš°í„° push</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ë¼ìš°í„° êµ¬ì¡° ë˜í•œ HashRouterì˜ ê²½ìš°ì™€ ë˜‘ê°™ì´ ì¡ì•„ì£¼ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤. ë‹¤ë§Œ ì´ë²ˆì—ëŠ” <code class=\"language-text\">onHashChangeHandler</code>ê°€ ì•„ë‹Œ <code class=\"language-text\">onRouterChangeHandler</code>ë¡œ ë„¤ì´ë°í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.</p>\n<p>Â </p>\n<h2 id=\"3-class-ì´ˆê¸°í™”\" style=\"position:relative;\"><a href=\"#3-class-%EC%B4%88%EA%B8%B0%ED%99%94\" aria-label=\"3 class ì´ˆê¸°í™” permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Class ì´ˆê¸°í™”</h2>\n<p>ë‹¹ì—°íˆ ìƒìƒì ë‚´ë¶€ ì½”ë“œë„ ë™ì¼í•˜ê² ì£ ?</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  $app<span class=\"token punctuation\">,</span>\n  routes<span class=\"token punctuation\">,</span>\n  fallback <span class=\"token operator\">=</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  $app<span class=\"token operator\">:</span> HTMLElement<span class=\"token punctuation\">;</span>\n  routes<span class=\"token operator\">:</span> Route<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  fallback<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$app <span class=\"token operator\">=</span> $app<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fallback <span class=\"token operator\">=</span> fallback<span class=\"token punctuation\">;</span>\n\n  routes<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>route<span class=\"token operator\">:</span> Route<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>routes<span class=\"token punctuation\">[</span>route<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> route<span class=\"token punctuation\">.</span>page<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">initEvent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ìµœìƒë‹¨ ì—˜ë¦¬ë¨¼íŠ¸ ê°ì²´, fallback url, ë¼ìš°íŠ¸ë“¤ì„ ì´ˆê¸°í™”í•´ì£¼ê³ , <code class=\"language-text\">initEvent</code>ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.</p>\n<p>Â </p>\n<h2 id=\"4-hashê°€-ë³€ê²½ë -ë•Œì˜-ì´ë²¤íŠ¸-ì²˜ë¦¬\" style=\"position:relative;\"><a href=\"#4-hash%EA%B0%80-%EB%B3%80%EA%B2%BD%EB%90%A0-%EB%95%8C%EC%9D%98-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%B2%98%EB%A6%AC\" aria-label=\"4 hashê°€ ë³€ê²½ë  ë•Œì˜ ì´ë²¤íŠ¸ ì²˜ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. hashê°€ ë³€ê²½ë  ë•Œì˜ ì´ë²¤íŠ¸ ì²˜ë¦¬</h2>\n<p>ì´ì œë¶€í„° HashRouterì™€ ë‹¤ë¥¸ ë¡œì§ì´ ë“±ì¥í•˜ê²Œ ë©ë‹ˆë‹¤. HashRouterì˜ ê²½ìš° Hashê°€ ë³€ê²½ë  ë•Œ ì´ë²¤íŠ¸ ì²˜ë¦¬ë¥¼ í•´ì£¼ì—ˆì§€ë§Œ, BrowserRouterì˜ ê²½ìš° history APIë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>\n<p><code class=\"language-text\">initEvent</code>ì—ì„œ window ê°ì²´ì˜ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆì— í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•´ì¤ì‹œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token function\">initEvent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">\"moveRoutes\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">moveRoutesHandler</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> EventListener\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">moveRoutesHandler</span><span class=\"token punctuation\">(</span>event<span class=\"token operator\">:</span> CustomEvent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>detail<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">;</span>\n  history<span class=\"token punctuation\">.</span><span class=\"token function\">pushState</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>detail<span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">renderPage</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì—¬ê¸°ì„œ ì˜ë¬¸ì´ ë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. document ê°ì²´ì˜ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆì— <code class=\"language-text\">moveRoutes</code>ë¼ëŠ” ì´ë²¤íŠ¸ê°€ ìˆì—ˆë‚˜? ì‹¶ì„ í…ë°ìš”. ë§ìŠµë‹ˆë‹¤. document ê°ì²´ì—ì„œëŠ” historyì˜ ë³€ê²½ì‚¬í•­ì„ ì•Œì•„ì±Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>\n<p>ë”°ë¼ì„œ ì§ì ‘ ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ë¥¼ ì‘ì„±í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.</p>\n<p>Â </p>\n<h2 id=\"5-customeventemitter\" style=\"position:relative;\"><a href=\"#5-customeventemitter\" aria-label=\"5 customeventemitter permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. customEventEmitter</h2>\n<p><code class=\"language-text\">/src/utils/helpers.ts</code></p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">customEventEmitter</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>eventType<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> detail<span class=\"token operator\">?</span><span class=\"token operator\">:</span> object<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">dispatchEvent</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">new</span> <span class=\"token class-name\">CustomEvent</span><span class=\"token punctuation\">(</span>eventType<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n      detail<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">CustomEvent</code>ë¥¼ dispatchí•  ìˆ˜ ìˆëŠ” í—¬í¼ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ì¤ì‹œë‹¤.</p>\n<p>Â </p>\n<h2 id=\"6-í•´ë‹¹í•˜ëŠ”-í˜ì´ì§€-ë Œë”ë§\" style=\"position:relative;\"><a href=\"#6-%ED%95%B4%EB%8B%B9%ED%95%98%EB%8A%94-%ED%8E%98%EC%9D%B4%EC%A7%80-%EB%A0%8C%EB%8D%94%EB%A7%81\" aria-label=\"6 í•´ë‹¹í•˜ëŠ” í˜ì´ì§€ ë Œë”ë§ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. í•´ë‹¹í•˜ëŠ” í˜ì´ì§€ ë Œë”ë§</h2>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token function\">hasRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">typeof</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>routes<span class=\"token punctuation\">[</span>path<span class=\"token punctuation\">]</span> <span class=\"token operator\">!==</span> <span class=\"token string\">\"undefined\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">getRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>routes<span class=\"token punctuation\">[</span>path<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">renderPage</span><span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> route<span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">/* ë™ì  ë¼ìš°íŒ… ì²˜ë¦¬ */</span>\n  <span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\w{1,}$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ë™ì  ë¼ìš°íŒ…ìœ¼ë¡œ ì „ë‹¬ë˜ëŠ” :id ëŠ” ëª¨ë‘ [ë¬¸ìì—´ + ìˆ«ì] ì¡°í•©ìœ¼ë¡œ ê°„ì£¼</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">hasRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    route <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ì£¼ì†Œê°€ ì—†ëŠ” ê²½ìš°ë¥¼ ë™ì  ë¼ìš°íŒ…ìœ¼ë¡œ ê°„ì£¼í•˜ê³  ì´ë¥¼ :id ë¡œ ì¹˜í™˜</span>\n    route <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">,</span> <span class=\"token string\">\":id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ê·¸ ì™¸ ì…ë ¥ë˜ì§€ ì•Šì€ ëª¨ë“  ì£¼ì†Œì— ëŒ€í•´ì„œëŠ” fallback ì‹¤í–‰</span>\n    route <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRoute</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fallback<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">new</span> <span class=\"token class-name\">route</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$app<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">push</span><span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">customEventEmitter</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"moveRoutes\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token operator\">...</span>history<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">,</span>\n    path<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ë‹¤ë¥¸ ë¡œì§ì€ HashRouterì™€ ëª¨ë‘ ë™ì¼í•˜ì§€ë§Œ, ë¼ìš°íŠ¸ë¥¼ pushí•  ê²½ìš°ì—ëŠ” ë” ì´ìƒ windowì˜ hash ê°’ì„ ë°”ê¾¸ëŠ” ê²Œ ì•„ë‹Œ, <code class=\"language-text\">customEventEmitter</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒˆë¡œìš´ í˜ì´ì§€ê°€ ë Œë”ë§ ë  ìˆ˜ ìˆë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤.</p>\n<p>Â </p>\n<h2 id=\"7-ë¼ìš°í„°-export\" style=\"position:relative;\"><a href=\"#7-%EB%9D%BC%EC%9A%B0%ED%84%B0-export\" aria-label=\"7 ë¼ìš°í„° export permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7. ë¼ìš°í„° export</h2>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">let</span> router<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function-variable function\">push</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">initRouter</span><span class=\"token punctuation\">(</span>options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  $app<span class=\"token operator\">:</span> HTMLElement<span class=\"token punctuation\">;</span>\n  routes<span class=\"token operator\">:</span> Route<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> routerObj <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Router</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  router <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">push</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> routerObj<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">customEventEmitter</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">\"moveRoutes\"</span><span class=\"token punctuation\">,</span>\n    history<span class=\"token punctuation\">.</span>state <span class=\"token operator\">??</span> <span class=\"token punctuation\">{</span>\n      path<span class=\"token operator\">:</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">initRouter</code>ì—ì„œë„ ë‹¨ìˆœíˆ <code class=\"language-text\">onRouterChangeHandler</code>ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²Œ ì•„ë‹Œ, <code class=\"language-text\">customEventEmitter</code>ë¥¼ í˜¸ì¶œí•˜ì—¬ ë£¨íŠ¸ í˜ì´ì§€ê°€ ë Œë”ë§ ë  ìˆ˜ ìˆë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤.</p>\n<h2 id=\"ì „ì²´-ì½”ë“œ\" style=\"position:relative;\"><a href=\"#%EC%A0%84%EC%B2%B4-%EC%BD%94%EB%93%9C\" aria-label=\"ì „ì²´ ì½”ë“œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì „ì²´ ì½”ë“œ</h2>\n<p><code class=\"language-text\">/src/core/BrowserRouter.ts</code></p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> Component <span class=\"token keyword\">from</span> <span class=\"token string\">\"@/core/Component\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> customEventEmitter <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@/utils/helpers\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">Route</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  page<span class=\"token operator\">:</span> <span class=\"token keyword\">typeof</span> Component<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Router</span> <span class=\"token punctuation\">{</span>\n  $app<span class=\"token operator\">:</span> HTMLElement<span class=\"token punctuation\">;</span>\n  routes<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">[</span>key<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token keyword\">typeof</span> Component<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  fallback<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    $app<span class=\"token punctuation\">,</span>\n    routes<span class=\"token punctuation\">,</span>\n    fallback <span class=\"token operator\">=</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    $app<span class=\"token operator\">:</span> HTMLElement<span class=\"token punctuation\">;</span>\n    routes<span class=\"token operator\">:</span> Route<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    fallback<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$app <span class=\"token operator\">=</span> $app<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fallback <span class=\"token operator\">=</span> fallback<span class=\"token punctuation\">;</span>\n\n    routes<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>route<span class=\"token operator\">:</span> Route<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>routes<span class=\"token punctuation\">[</span>route<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> route<span class=\"token punctuation\">.</span>page<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">initEvent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">initEvent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    document<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">\"moveRoutes\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">onRouteChangeHandler</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> EventListener\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">onRouteChangeHandler</span><span class=\"token punctuation\">(</span>event<span class=\"token operator\">:</span> CustomEvent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>detail<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">;</span>\n    history<span class=\"token punctuation\">.</span><span class=\"token function\">pushState</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>detail<span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">renderPage</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">hasRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">typeof</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>routes<span class=\"token punctuation\">[</span>path<span class=\"token punctuation\">]</span> <span class=\"token operator\">!==</span> <span class=\"token string\">\"undefined\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">getRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>routes<span class=\"token punctuation\">[</span>path<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">renderPage</span><span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> route<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">/* ë™ì  ë¼ìš°íŒ… ì²˜ë¦¬ */</span>\n    <span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\w{1,}$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ë™ì  ë¼ìš°íŒ…ìœ¼ë¡œ ì „ë‹¬ë˜ëŠ” :id ëŠ” ëª¨ë‘ [ë¬¸ìì—´ + ìˆ«ì] ì¡°í•©ìœ¼ë¡œ ê°„ì£¼</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">hasRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      route <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// ì£¼ì†Œê°€ ì—†ëŠ” ê²½ìš°ë¥¼ ë™ì  ë¼ìš°íŒ…ìœ¼ë¡œ ê°„ì£¼í•˜ê³  ì´ë¥¼ :id ë¡œ ì¹˜í™˜</span>\n      route <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRoute</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">,</span> <span class=\"token string\">\":id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// ê·¸ ì™¸ ì…ë ¥ë˜ì§€ ì•Šì€ ëª¨ë“  ì£¼ì†Œì— ëŒ€í•´ì„œëŠ” fallback ì‹¤í–‰</span>\n      route <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRoute</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fallback<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">new</span> <span class=\"token class-name\">route</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$app<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">push</span><span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">customEventEmitter</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"moveRoutes\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token operator\">...</span>history<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">,</span>\n      path<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">let</span> router<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function-variable function\">push</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>path<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">initRouter</span><span class=\"token punctuation\">(</span>options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  $app<span class=\"token operator\">:</span> HTMLElement<span class=\"token punctuation\">;</span>\n  routes<span class=\"token operator\">:</span> Route<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> routerObj <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Router</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  router <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">push</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> routerObj<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">customEventEmitter</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">\"moveRoutes\"</span><span class=\"token punctuation\">,</span>\n    history<span class=\"token punctuation\">.</span>state <span class=\"token operator\">??</span> <span class=\"token punctuation\">{</span>\n      path<span class=\"token operator\">:</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#1-route-%ED%83%80%EC%9E%85-%EC%A0%95%EC%9D%98\">1. Route íƒ€ì… ì •ì˜</a></li>\n<li><a href=\"#2-router-%EA%B5%AC%EC%A1%B0\">2. Router êµ¬ì¡°</a></li>\n<li><a href=\"#3-class-%EC%B4%88%EA%B8%B0%ED%99%94\">3. Class ì´ˆê¸°í™”</a></li>\n<li><a href=\"#4-hash%EA%B0%80-%EB%B3%80%EA%B2%BD%EB%90%A0-%EB%95%8C%EC%9D%98-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%B2%98%EB%A6%AC\">4. hashê°€ ë³€ê²½ë  ë•Œì˜ ì´ë²¤íŠ¸ ì²˜ë¦¬</a></li>\n<li><a href=\"#5-customeventemitter\">5. customEventEmitter</a></li>\n<li><a href=\"#6-%ED%95%B4%EB%8B%B9%ED%95%98%EB%8A%94-%ED%8E%98%EC%9D%B4%EC%A7%80-%EB%A0%8C%EB%8D%94%EB%A7%81\">6. í•´ë‹¹í•˜ëŠ” í˜ì´ì§€ ë Œë”ë§</a></li>\n<li><a href=\"#7-%EB%9D%BC%EC%9A%B0%ED%84%B0-export\">7. ë¼ìš°í„° export</a></li>\n<li><a href=\"#%EC%A0%84%EC%B2%B4-%EC%BD%94%EB%93%9C\">ì „ì²´ ì½”ë“œ</a></li>\n</ul>\n</div>","frontmatter":{"date":"2022.05.16","title":"ë°”ë‹ë¼JS(TS)ë¡œ ë¦¬ì•¡íŠ¸ SPA êµ¬í˜„í•˜ê¸° | (4) í´ë˜ìŠ¤ë¡œ BrowserRouter êµ¬í˜„","categories":"Dev Reactë§Œë“¤ì–´ë³´ê¸°","emoji":"ğŸ¦"},"fields":{"slug":"/27-vanilla-spa-4/"}},"site":{"siteMetadata":{"siteUrl":"https://jeong-min.com","comments":{"utterances":{"repo":"danmin20/danmin-gatsby-blog"}}}}},"pageContext":{"slug":"/26-vanilla-spa-3/","nextSlug":"/25-browserrouter-hashrouter/","prevSlug":"/27-vanilla-spa-4/"}},"staticQueryHashes":["1321405810","3649515864"]}