{"componentChunkName":"component---src-templates-post-template-index-tsx","path":"/39-file-blob-url-arraybuffer/","result":{"data":{"cur":{"id":"48929e83-7b5b-5b7d-96a0-8a6070810d0e","html":"<blockquote>\n<p><del>침착맨 라이트노벨 제목 월드컵 편을 보고 재밌어서 써본 제목입니다</del></p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 74.44444444444443%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABQAB/8QAFQEBAQAAAAAAAAAAAAAAAAAAAQD/2gAMAwEAAhADEAAAAWB8pdgZP//EABoQAAMBAAMAAAAAAAAAAAAAAAECAwQAETL/2gAIAQEAAQUCbygade+aqkuzBs66DMf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAcEAACAgIDAAAAAAAAAAAAAAABEQACEiEQQWH/2gAIAQEABj8CKlSLa7Z4xBKU9cxtuf/EABsQAQACAwEBAAAAAAAAAAAAAAEAIRFBYTGB/9oACAEBAAE/IU67iW0bb0hWGBhpuVTNR9xB/QPJ/9oADAMBAAIAAwAAABCc3//EABURAQEAAAAAAAAAAAAAAAAAACEQ/9oACAEDAQE/EBn/xAAWEQEBAQAAAAAAAAAAAAAAAAAAEVH/2gAIAQIBAT8QyI//xAAcEAEAAgMAAwAAAAAAAAAAAAABABEhMUFRcYH/2gAIAQEAAT8QBQFSJxrcpcCru849TCau+y6MxslmHu/Y3l3439j4OILiCif/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"0\"\n        title=\"0\"\n        src=\"/static/cdd7388ade9a9288320dd6e88843d287/066f9/0.jpg\"\n        srcset=\"/static/cdd7388ade9a9288320dd6e88843d287/4ec73/0.jpg 180w,\n/static/cdd7388ade9a9288320dd6e88843d287/158ba/0.jpg 360w,\n/static/cdd7388ade9a9288320dd6e88843d287/066f9/0.jpg 400w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p> </p>\n<p>파일을 다루는 일이 생길 때마다 구글링을 하게 되는 것 같다. <del>나만 그런 거 아니겠지?</del></p>\n<p><img src=\"/87600b5ea0a55b36b55ab65b6aa0cf21/1.gif\" alt=\"\"></p>\n<p>여튼 그래서 들고와 본 주제!</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC80lEQVQoz01S3U8cVRyd/0EfjEZCTHxTTGuaNPSBFxMJMTGRvvSl9cFY06QvtBrigwli1ARYhLKw4DaVfpGURlDXJQrR+MHXLrDCyu5s52tn78y9M3Pv3Jm7dz+BZM1dadLzfs7v/M450r/ZbD6f01SVEOwKOK7rAgDsp7AsCwAASiXTNA1DV1WlIOcPD7MHBxkpl8sZur67uzc4+OnnQ8PJlV82NrcIIRBCpw2EEIQQtlVKpVKxaOia8qSQz+WykizLrufNz999/rkXOl5+pef8uf53ev/ZzwY08DwPY4w97HltSw6C0BYKpqHrqqLIkmYYQJdvXr3SfeGti+/1T35yeXniZuLRvWqtjjH2T0EIIRh7rosQEnxT8BUJWJacO7jxwaUvhr/Ky/L0Z9e37wwpe3+E5Zrv+5TSIKBBEFBKfd/HGLuug6ANgOBLENpyXt78+68woKxcWU0mIzfez+9tHB23KrzOeTUUCJ7he46DbBsAYEqlkmkBj9KK42DqV2xI4vHvUqlMq9Wq145r1eNatcl5lTEeBKHw7/uugxwHWhaQXNdVVZuFDV5u2LZnGJDzZrN50miecN4gmBIS8nKjXG4wVmPlGob2kz+T+fS6ZQMpkVhK/pxYW1vNZDKE+AW5oOvQ96uVyhFjdRoEwnQY+oQSTD0cAE3Z/+n+ZuIRdKA0OjI8OfH12Ojw48cPOeeU0sNDBaGwUm2ysMZYhZVZICTEzyJzghGCyEGWVZKSyR920tuxmfF7d79Np7c0TTEMU1GsMKy3Wi0IPQgRY+y0MVGXeNhu70XSNHVl5cfYzPjc7MTMdOR2PLq4+CCVyjSbrY317b6+dwcGPuact3sWRYuliL2apqlL8Xg0Fvtmbm5yOjo2G5uYjo4vLMxHxkY++vDaG11nOztfvdDdU5BlKkIWW4UiZjGyoqFJv//2q2kWd9Lb0anI1K1IZOzLVGpj6fvll17seP21M11db/a+3be8tGgB0N6nbf9/tqgbuvofptWpN/lDgmwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2\"\n        title=\"2\"\n        src=\"/static/8fbe653cb4e64f42cc4cc77c828fc445/0b533/2.png\"\n        srcset=\"/static/8fbe653cb4e64f42cc4cc77c828fc445/e9ff0/2.png 180w,\n/static/8fbe653cb4e64f42cc4cc77c828fc445/f21e7/2.png 360w,\n/static/8fbe653cb4e64f42cc4cc77c828fc445/0b533/2.png 500w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p> </p>\n<h2 id=\"blob-file-그리고-url\" style=\"position:relative;\"><a href=\"#blob-file-%EA%B7%B8%EB%A6%AC%EA%B3%A0-url\" aria-label=\"blob file 그리고 url permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Blob, File, 그리고 URL</h2>\n<p>File, Blob, 그리고 URL은 웹 애플리케이션에서 파일과 데이터를 표현하고 다루는 데 사용되는 개념들이다.</p>\n<h3 id=\"blob\" style=\"position:relative;\"><a href=\"#blob\" aria-label=\"blob permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Blob</h3>\n<p>Blob은 일련의 데이터를 나타내는 객체다. Blob은 Binary Large Object의 약자로, 텍스트나 이미지, 오디오, 비디오 등과 같은 다양한 종류의 데이터를 처리할 수 있다. File 객체는 Blob 객체의 하위 클래스로 볼 수 있다.</p>\n<h3 id=\"file\" style=\"position:relative;\"><a href=\"#file\" aria-label=\"file permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>File</h3>\n<p>File은 사용자의 로컬 파일 시스템에서 선택한 파일을 나타내는 객체다. 일반적으로 파일 업로드나 파일 조작을 위해 사용된다. File 객체는 Blob 객체를 상속하며, 파일의 이름, 크기, 타입 등의 추가적인 정보를 가지고 있다.</p>\n<h3 id=\"url\" style=\"position:relative;\"><a href=\"#url\" aria-label=\"url permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>URL</h3>\n<p>URL은 웹 리소스의 주소를 나타내는 문자열이다. URL은 <code class=\"language-text\">createObjectURL()</code>을 사용하여 Blob 또는 File 객체를 URL로 변환할 수 있다. 변환된 URL은 해당 Blob 또는 File 객체를 가리키는 유효한 주소로 사용될 수 있다.</p>\n<h3 id=\"arraybuffer\" style=\"position:relative;\"><a href=\"#arraybuffer\" aria-label=\"arraybuffer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ArrayBuffer</h3>\n<p>ArrayBuffer는 일련의 바이너리 데이터를 나타내는 고정 크기 버퍼다. ArrayBuffer는 일반적으로 바이너리 데이터를 처리하고 다루는 데 사용된다. 주로 TypedArray 및 DataView와 함께 사용되며, 데이터를 다양한 형식으로 읽고 쓸 수 있는 메모리 버퍼로 동작한다.</p>\n<p> </p>\n<p>문제는 이 넷들을 서로 변환해야 하는 일이 생긴다는 것..!</p>\n<p> </p>\n<h2 id=\"file-blob-url-arraybuffer-간-변환-방법\" style=\"position:relative;\"><a href=\"#file-blob-url-arraybuffer-%EA%B0%84-%EB%B3%80%ED%99%98-%EB%B0%A9%EB%B2%95\" aria-label=\"file blob url arraybuffer 간 변환 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>File, Blob, URL, ArrayBuffer 간 변환 방법</h2>\n<h3 id=\"1-file--blob\" style=\"position:relative;\"><a href=\"#1-file--blob\" aria-label=\"1 file  blob permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. File 👉 Blob</h3>\n<p>이 경우엔 별도의 과정이 필요없다. File 객체가 Blob 객체를 상속하기 때문에 바로 Blob으로 사용할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// File to Blob</span>\n<span class=\"token keyword\">const</span> file<span class=\"token operator\">:</span> File <span class=\"token operator\">=</span> <span class=\"token comment\">/* 로컬 파일 선택 등을 통해 얻은 File 객체 */</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> blob<span class=\"token operator\">:</span> Blob <span class=\"token operator\">=</span> file<span class=\"token punctuation\">;</span></code></pre></div>\n<p> </p>\n<h3 id=\"2-blob--file\" style=\"position:relative;\"><a href=\"#2-blob--file\" aria-label=\"2 blob  file permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Blob 👉 File</h3>\n<p><code class=\"language-text\">new File()</code>을 사용하여 Blob 객체를 감싸면 된다. File 생성자의 첫 번째 매개변수로 Blob 객체 또는 Blob 배열을 전달하고, 파일 이름과 MIME 타입을 지정한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// Blob to File</span>\n<span class=\"token keyword\">const</span> blob<span class=\"token operator\">:</span> Blob <span class=\"token operator\">=</span> <span class=\"token comment\">/* 데이터 등을 통해 얻은 Blob 객체 */</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> fileName<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token string\">'example.txt'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> fileType<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token string\">'text/plain'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> convertedFile<span class=\"token operator\">:</span> File <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">File</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>blob<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> fileName<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> fileType <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p> </p>\n<h3 id=\"3-fileblob--url\" style=\"position:relative;\"><a href=\"#3-fileblob--url\" aria-label=\"3 fileblob  url permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. File/Blob 👉 URL</h3>\n<p><code class=\"language-text\">URL.createObjectURL()</code>을 사용하면 된다. 이 메서드는 Blob 또는 File 객체를 매개변수로 받아서 해당 객체를 가리키는 URL을 생성한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// File/Blob to URL</span>\n<span class=\"token keyword\">const</span> blob<span class=\"token operator\">:</span> Blob <span class=\"token operator\">=</span> <span class=\"token comment\">/* 데이터 등을 통해 얻은 Blob 객체 */</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> url<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token constant\">URL</span><span class=\"token punctuation\">.</span><span class=\"token function\">createObjectURL</span><span class=\"token punctuation\">(</span>blob<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p> </p>\n<h3 id=\"4-url--blob\" style=\"position:relative;\"><a href=\"#4-url--blob\" aria-label=\"4 url  blob permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. URL 👉 Blob</h3>\n<p><code class=\"language-text\">fetch()</code>를 사용하여 URL로부터 데이터를 가져온 다음, <code class=\"language-text\">response.blob()</code>을 호출하여 Blob 객체로 변환하면 된다. 이를 통해 URL로부터 파일의 데이터를 비동기적으로 가져올 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// URL to Blob</span>\n<span class=\"token keyword\">const</span> url<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token comment\">/* URL */</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> blob <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">blob</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p> </p>\n<h3 id=\"5-arraybuffer--blob\" style=\"position:relative;\"><a href=\"#5-arraybuffer--blob\" aria-label=\"5 arraybuffer  blob permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. ArrayBuffer 👉 Blob</h3>\n<p>ArrayBuffer를 사용하여 데이터를 생성한 후, Blob 객체로 변환할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// ArrayBuffer to Blob</span>\n<span class=\"token keyword\">const</span> arrayBuffer<span class=\"token operator\">:</span> ArrayBuffer <span class=\"token operator\">=</span> <span class=\"token comment\">/* 데이터 등을 통해 얻은 ArrayBuffer */</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> blob <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Blob</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>arrayBuffer<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p> </p>\n<h3 id=\"6-fileblob--arraybuffer\" style=\"position:relative;\"><a href=\"#6-fileblob--arraybuffer\" aria-label=\"6 fileblob  arraybuffer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. File/Blob 👉 ArrayBuffer</h3>\n<p>Blob 또는 Blob을 ArrayBuffer로 변환하기 위해서는 FileReader를 사용하여 비동기적으로 데이터를 읽어와야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// File/Blob to ArrayBuffer</span>\n<span class=\"token keyword\">const</span> blob<span class=\"token operator\">:</span> Blob <span class=\"token operator\">=</span> <span class=\"token comment\">/* 데이터 등을 통해 얻은 Blob 객체 */</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> fileReader <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FileReader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nfileReader<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> arrayBuffer <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>result<span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// ArrayBuffer를 사용한 데이터 처리 로직</span>\n  <span class=\"token comment\">// 이미지 데이터의 픽셀 값을 읽거나, 오디오 데이터를 재생하거나, 파일 형식을 파싱하는 등..</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nfileReader<span class=\"token punctuation\">.</span><span class=\"token function\">readAsArrayBuffer</span><span class=\"token punctuation\">(</span>blob<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p> </p>\n<h3 id=\"7-url--arraybuffer\" style=\"position:relative;\"><a href=\"#7-url--arraybuffer\" aria-label=\"7 url  arraybuffer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7. URL 👉 ArrayBuffer</h3>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// URL to ArrayBuffer</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">urlToBuffer</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>response<span class=\"token punctuation\">.</span>ok<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Network response was not ok'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">const</span> arrayBuffer <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">arrayBuffer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> arrayBuffer<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 에러 처리</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Error:'</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> url<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token comment\">/* URL */</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> arrayBuffer <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">urlToBuffer</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>arrayBuffer<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ArrayBuffer를 사용한 데이터 처리 로직</span>\n  <span class=\"token comment\">// 이미지 데이터의 픽셀 값을 읽거나, 오디오 데이터를 재생하거나, 파일 형식을 파싱하는 등..</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이미지 업로드 미리보기 구현은 2탄에서 작성해보도록 하겠다!</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/webp;base64,UklGRpYAAABXRUJQVlA4IIoAAAAwBACdASoUAA4APtFUo0uoJKMhsAgBABoJbACdMoMYAElhr5ZwPHVWyoIA+GADlNb+W0R+u1RU3jhigB2+yppMRFx7wh16VffOQQr64NHiO3OK9oD+3m1gBXpE92zgMeyDuCShzJlr3813JPxvgPbdAvVomSddvR7HZP44yhR9lDmd0xsggXwAAAA='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"3\"\n        title=\"3\"\n        src=\"/static/e7cad1153c53ba62d4898aec04c24e95/e88ff/3.webp\"\n        srcset=\"/static/e7cad1153c53ba62d4898aec04c24e95/59d6e/3.webp 180w,\n/static/e7cad1153c53ba62d4898aec04c24e95/a3012/3.webp 360w,\n/static/e7cad1153c53ba62d4898aec04c24e95/e88ff/3.webp 600w\"\n        sizes=\"(max-width: 600px) 100vw, 600px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#blob-file-%EA%B7%B8%EB%A6%AC%EA%B3%A0-url\">Blob, File, 그리고 URL</a></p>\n<ul>\n<li><a href=\"#blob\">Blob</a></li>\n<li><a href=\"#file\">File</a></li>\n<li><a href=\"#url\">URL</a></li>\n<li><a href=\"#arraybuffer\">ArrayBuffer</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#file-blob-url-arraybuffer-%EA%B0%84-%EB%B3%80%ED%99%98-%EB%B0%A9%EB%B2%95\">File, Blob, URL, ArrayBuffer 간 변환 방법</a></p>\n<ul>\n<li><a href=\"#1-file--blob\">1. File 👉 Blob</a></li>\n<li><a href=\"#2-blob--file\">2. Blob 👉 File</a></li>\n<li><a href=\"#3-fileblob--url\">3. File/Blob 👉 URL</a></li>\n<li><a href=\"#4-url--blob\">4. URL 👉 Blob</a></li>\n<li><a href=\"#5-arraybuffer--blob\">5. ArrayBuffer 👉 Blob</a></li>\n<li><a href=\"#6-fileblob--arraybuffer\">6. File/Blob 👉 ArrayBuffer</a></li>\n<li><a href=\"#7-url--arraybuffer\">7. URL 👉 ArrayBuffer</a></li>\n</ul>\n</li>\n</ul>\n</div>","excerpt":"침착맨 라이트노벨 제목 월드컵 편을 보고 재밌어서 써본 제목입니다    파일을 다루는 일이 생길 때마다 구글링을 하게 되는 것 같다. 나만 그런 거 아니겠지?  여튼 그래서 들고와 본 주제!    Blob, File, 그리고 URL File, Blob, 그리고 URL은 웹 애플리케이션에서 파일과 데이터를 표현하고 다루는 데 사용되는 개념들이다. Blob Blob은 일련의 데이터를 나타내는 객체다. Blob은 Binary Large Object의 약자로, 텍스트나 이미지, 오디오, 비디오 등과 같은 다양한 종류의 데이터를 처리할 수 있다. File 객체는 Blob 객체의 하위 클래스로 볼 수 있다. File File은 사용자의 로컬 파일 시스템에서 선택한 파일을 나타내는 객체다. 일반적으로 파일 업로드나 파일 조작을 위해 사용된다. File 객체는 Blob 객체를 상속하며, 파일의 이름, 크기, 타입 등의 추가적인 정보를 가지고 있다. URL URL은 웹 리소스의 주소를 나타내는 문…","frontmatter":{"date":"2023.06.18","title":"<Blob File URL ArrayBuffer> 그들의 사각관계?! ~이미지 업로드 미리보기를 구현하고 싶습니다~ : 1탄","categories":"Dev","emoji":"⚠️"},"fields":{"slug":"/39-file-blob-url-arraybuffer/"}},"next":{"id":"2340f145-a8d1-5c91-b0aa-7c33364e0def","html":"<p>현재 IT 동아리를 운영 중에 있는 나.</p>\n<blockquote>\n<p><a href=\"https://sipe.team/\">SIPE</a> 많관부탁드립니다 😉😉</p>\n</blockquote>\n<p>구글폼으로 서류 원서를 접수받고, 서류 결과 메일을 보내야하는 상황에 다다르는데..</p>\n<p> </p>\n<h3 id=\"이거-한-사람-한-사람-메일을-다-따로-보내야-하는-건가\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EA%B1%B0-%ED%95%9C-%EC%82%AC%EB%9E%8C-%ED%95%9C-%EC%82%AC%EB%9E%8C-%EB%A9%94%EC%9D%BC%EC%9D%84-%EB%8B%A4-%EB%94%B0%EB%A1%9C-%EB%B3%B4%EB%82%B4%EC%95%BC-%ED%95%98%EB%8A%94-%EA%B1%B4%EA%B0%80\" aria-label=\"이거 한 사람 한 사람 메일을 다 따로 보내야 하는 건가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이거, 한 사람 한 사람 메일을 다 따로 보내야 하는 건가?</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 512px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/webp;base64,UklGRpAAAABXRUJQVlA4IIQAAABQAwCdASoUAA8APtFUo0uoJKMhsAgBABoJZACdAAMWUWyKYADOMXc1psWfBjmHvXYkNBSKvF15O1kD0zhwsyPO8JZ2/gjyV6TyrbmnaTMXuXYgDCYstXtzmCvu7/8lw0YSjgvhh8iXCnYO146JXr1SwXTaocWQf8BTeHt6HdbMorQTgAA='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"0\"\n        title=\"0\"\n        src=\"/static/a64e459ec59b589c3341207be15e52f1/bd5dd/0.webp\"\n        srcset=\"/static/a64e459ec59b589c3341207be15e52f1/59d6e/0.webp 180w,\n/static/a64e459ec59b589c3341207be15e52f1/a3012/0.webp 360w,\n/static/a64e459ec59b589c3341207be15e52f1/bd5dd/0.webp 512w\"\n        sizes=\"(max-width: 512px) 100vw, 512px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p> </p>\n<p>하지만 개발자로서 그런 노가다를 하는 것은 용납할 수 없는 일.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 410px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 91.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEy0lEQVQ4yyXS22+TBRjH8fcPMMYbFQ8XRKMIUYQYTgXGgLXdgfXt+759D21Xt7G2a3dou7brTuzAaOnadd0KyjZGGEYOakAUiIBsbAgowwMxHoKaGGI8BOWgXhjFi69xXHxvPxfP7xH6567RN/cJvXNXSV/9gr6PPqOkPki8PUqoK0FLTzc9h16n9Z0zBHeP4k3upK63Hz0ap6q2imhXjN6B7axe/QKveSsQ5F19dF2YZcfcpzSfOkhR0zK8nrXsTdXSH7WhG6VIL3uQZTuSWIHDbkOVpPlcLgNvvY+O7naWLX+WPX4bwpPSQhY1l+M5tI/W0RAH+1ZwbaKK6wfr+e6NAB9P+gl5NeyKgu7U0Iz7qbqKZqg0NAYJhRspKdvIUL0d4QlxAY+oS3nGb+VYzmCuIPP98Xb+vFjgxzM7+fvyMLOTrSgOGcNw4nQaqJoDhyqjGQ4ikRArTat5YvFzDNWUIzy28UkeND3FixXPMzNsZzYv8cO7ndydyfHTmR38eDrJzXMpIn4nisOYBzVdxaEp9LfVEm9twbSpGOGBBxDdpQilTWWs8hQT2Obg4ojE+SE7N95p58+ZIW5OZfn82HauH+8h6FewySKKZkeSRRy6yoFsA6OZKKlUnAcffpQl5U8jaDtWIfWbCO7czOyIxNxkkFvn0tydznJ7OsOdmUFuz6SZHN6KpdKMLIuIog1RkXn71TDXDsc5ORqmZquHF9YtQ3CPmnCPmXDlV/J6soSv3ojz+0yOO1OZefS3qQwfHIhxejxGpU3EaRjomoqlrJxDuSZunOxhdjJOazxMfSCIsNlnojywgfVuE51xg1tTA9yeynBnOnsfnM7y8+kkBzIBbJKC06nPD7JFtNMRqebWdJq5wwlCTUEaQ00IQ7k0+VyGsT0FGiNBTow08O+HBW6eHeDX9wf4+WyaP2aztDW5EGUF3VBRFAlJlqn2qPxyboALExF6ayrZH9ER8oWdDOaTTOwrsN5aQqDKzL0rI9y7lOefS8P8dTHLmzkflZKIU9cwdB1NdbBFlEiEq/njQo4v39rGRKPIey0SwnBhgGw+SW1XjEXr1rDwpeXUtdSQ7q5mPBtkW9xJpb+GzV4vm3QFu64iSSIVlXZGk0HuXSnw7dFujoZsnE+oCLt2Z6jriFGWiLO0zMpTi5dQqhnoXj8rijew3lrGWk1Dq/MS7+5mZXExpVYL5sotnBpv5d/Lw3xzrId82MmeJgdCtLcNS6iZykSCFbrKy9U1JOJRdhUKbNy8if379mEuKWEwk+HE8eO43G7cNbWEE1GuHOmcP83Xb/fh9dVidzgQHK0xrOEwtrYEG+pqSabTrNlYTCQaxaY6SKXTrNhQRHpggPGxMXxNjZgNF68OJrl+tIt/Lo9w+bUEsmLHaTgRSsJhrOFmxP9BXx3bUymKrBbaOtrRqtxYzGbWFRXR1dnFxN69eKqrMTzVvDK4nRsn+uCT3RzJN2CTZNwuF8K2VBhzqBlbIk55PIbd72Pl6lVYdJXG7m4Un48iXaW0PoDi92IpLaGivBxHnYd0KsF4LkEsEqA+UI/rf/DEZDuWUARbaxyxvQ1zY4CHHl+AyWlgjcWwtkQQO9qwdXawpSGAIkvIsoSkyPgCgfnfVDUDw7jff2Z0TO5dEJuEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"1\"\n        title=\"1\"\n        src=\"/static/3024d1b09a5294f611c9c1f0d5f6611e/d68e4/1.png\"\n        srcset=\"/static/3024d1b09a5294f611c9c1f0d5f6611e/e9ff0/1.png 180w,\n/static/3024d1b09a5294f611c9c1f0d5f6611e/f21e7/1.png 360w,\n/static/3024d1b09a5294f611c9c1f0d5f6611e/d68e4/1.png 410w\"\n        sizes=\"(max-width: 410px) 100vw, 410px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>결국 <a href=\"https://developers.google.com/apps-script/reference/mail/mail-app\">구글에서 제공하는 API</a>를 발견해내고야 말았다. 링크를 들어가보면 메일 말고도 다양한 API를 제공하는 것을 볼 수 있다.</p>\n<p> </p>\n<h3 id=\"1-구글폼-상단의-code-classlanguage-textview-in-sheetscode를-클릭하면-응답을-스프레드시트로-확인할-수-있다\" style=\"position:relative;\"><a href=\"#1-%EA%B5%AC%EA%B8%80%ED%8F%BC-%EC%83%81%EB%8B%A8%EC%9D%98-code-classlanguage-textview-in-sheetscode%EB%A5%BC-%ED%81%B4%EB%A6%AD%ED%95%98%EB%A9%B4-%EC%9D%91%EB%8B%B5%EC%9D%84-%EC%8A%A4%ED%94%84%EB%A0%88%EB%93%9C%EC%8B%9C%ED%8A%B8%EB%A1%9C-%ED%99%95%EC%9D%B8%ED%95%A0-%EC%88%98-%EC%9E%88%EB%8B%A4\" aria-label=\"1 구글폼 상단의 code classlanguage textview in sheetscode를 클릭하면 응답을 스프레드시트로 확인할 수 있다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 구글폼 상단의 <code class=\"language-text\">View in Sheets</code>를 클릭하면 응답을 스프레드시트로 확인할 수 있다.</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 15.555555555555555%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAjklEQVQI14WM2wqDMBQE/f9PtPGlUot4qbl4khiTKbGFPnZgYBeWbShQSiGXTM4fa08pMS8LbndMdmLYnvRrj940uwiVa19+VprVv9ijEFIgnpFwRnwKSBTMbtFirrP72l9acVjv8MkTvtYsh2eRhWaSiXEcUV1H295QSmGM4R+dHpndweoK/sicZ+JhB96AYOg+9g8yzgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2\"\n        title=\"2\"\n        src=\"/static/385a8628299e6604eca1e491069c8431/37523/2.png\"\n        srcset=\"/static/385a8628299e6604eca1e491069c8431/e9ff0/2.png 180w,\n/static/385a8628299e6604eca1e491069c8431/f21e7/2.png 360w,\n/static/385a8628299e6604eca1e491069c8431/37523/2.png 720w,\n/static/385a8628299e6604eca1e491069c8431/302a4/2.png 1080w,\n/static/385a8628299e6604eca1e491069c8431/07a9c/2.png 1440w,\n/static/385a8628299e6604eca1e491069c8431/169e3/2.png 1682w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p> </p>\n<h3 id=\"2-스프레드시트-메뉴의-code-classlanguage-textextensions--apps-scriptcode를-클릭하자\" style=\"position:relative;\"><a href=\"#2-%EC%8A%A4%ED%94%84%EB%A0%88%EB%93%9C%EC%8B%9C%ED%8A%B8-%EB%A9%94%EB%89%B4%EC%9D%98-code-classlanguage-textextensions--apps-scriptcode%EB%A5%BC-%ED%81%B4%EB%A6%AD%ED%95%98%EC%9E%90\" aria-label=\"2 스프레드시트 메뉴의 code classlanguage textextensions  apps scriptcode를 클릭하자 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 스프레드시트 메뉴의 <code class=\"language-text\">Extensions > Apps Script</code>를 클릭하자.</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 45.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABj0lEQVQoz42Sy27aQBSGjcSOd+AVQezYIiHMZcdbVKpQk+BGKqhZNOsKJQtULm7AdhMbGzD2GHz7Irtp0yht1CN9mpn//Gd0NGek8f1XJqtvqMs75ksVy3ZyHqwNBz/AE0c2zh7L3rFzfYJTxDGMfxPGCVGcEuYkSKu9w9Iw+a49o9073OnW81n/wXqtsXdd4iQhSVOSJCWL3d5Df9himDtMx0cKRJgnEv4dznbLar3G8zyiKOYUhoRP+CJ4US9tbJvLy48MBgNGo08oioKiDBmPR5ydfeDq6jO2vcETAb4QZH1lPDWIpusMh0Our79wcXGOZFkWpVIJSZL+SrFY5N37c25ubplMJsznc2azGdPpFNM0abVaua9cLv+sycS3LnyLQqHwWj8cDvT7fWS5RbfXpdt9TbvdRpZlOp0OjUaDarVKvV6nUqlQq9Vyrdls0uv1kNI0ReAR4vK/4bouURRhGAa2bb/ISdk3CHSNk6ETHo+5MZver/XPfRzH+L6Pqqo4jpO/5WKxyKcvhMh9j0RzPMxchSBmAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"3\"\n        title=\"3\"\n        src=\"/static/3f58058c6f3fabdb892d0c243cb0ac04/37523/3.png\"\n        srcset=\"/static/3f58058c6f3fabdb892d0c243cb0ac04/e9ff0/3.png 180w,\n/static/3f58058c6f3fabdb892d0c243cb0ac04/f21e7/3.png 360w,\n/static/3f58058c6f3fabdb892d0c243cb0ac04/37523/3.png 720w,\n/static/3f58058c6f3fabdb892d0c243cb0ac04/302a4/3.png 1080w,\n/static/3f58058c6f3fabdb892d0c243cb0ac04/07a9c/3.png 1440w,\n/static/3f58058c6f3fabdb892d0c243cb0ac04/56caf/3.png 1712w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p> </p>\n<h3 id=\"3-코드를-작성하자\" style=\"position:relative;\"><a href=\"#3-%EC%BD%94%EB%93%9C%EB%A5%BC-%EC%9E%91%EC%84%B1%ED%95%98%EC%9E%90\" aria-label=\"3 코드를 작성하자 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 코드를 작성하자!</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">SendMail</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 현재 활성화된 스프레드시트 가져오기</span>\n    <span class=\"token keyword\">const</span> activeSS <span class=\"token operator\">=</span> SpreadsheetApp<span class=\"token punctuation\">.</span><span class=\"token function\">getActiveSpreadsheet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// 현재 선택된 시트 가져오기</span>\n    <span class=\"token keyword\">const</span> activeSheet <span class=\"token operator\">=</span> activeSS<span class=\"token punctuation\">.</span><span class=\"token function\">getActiveSheet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> index <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span> index <span class=\"token operator\">&lt;</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span> index<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> name <span class=\"token operator\">=</span> activeSheet<span class=\"token punctuation\">.</span><span class=\"token function\">getRange</span><span class=\"token punctuation\">(</span><span class=\"token string\">'H'</span> <span class=\"token operator\">+</span> index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 이름</span>\n      <span class=\"token keyword\">const</span> email <span class=\"token operator\">=</span> activeSheet<span class=\"token punctuation\">.</span><span class=\"token function\">getRange</span><span class=\"token punctuation\">(</span><span class=\"token string\">'F'</span> <span class=\"token operator\">+</span> index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 이메일</span>\n      <span class=\"token keyword\">const</span> pass <span class=\"token operator\">=</span> activeSheet<span class=\"token punctuation\">.</span><span class=\"token function\">getRange</span><span class=\"token punctuation\">(</span><span class=\"token string\">'A'</span> <span class=\"token operator\">+</span> index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 합격여부</span>\n      <span class=\"token keyword\">const</span> date <span class=\"token operator\">=</span> activeSheet<span class=\"token punctuation\">.</span><span class=\"token function\">getRange</span><span class=\"token punctuation\">(</span><span class=\"token string\">'G'</span> <span class=\"token operator\">+</span> index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 면접일자</span>\n\n      <span class=\"token keyword\">const</span> subject <span class=\"token operator\">=</span> <span class=\"token string\">'[SIPE] 1기 서류 결과를 안내드립니다.'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 메일 제목</span>\n      <span class=\"token keyword\">let</span> body<span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>email <span class=\"token operator\">!==</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>pass <span class=\"token operator\">===</span> <span class=\"token string\">'합격'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token comment\">// 합격자</span>\n          body <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token comment\">// 불합격자</span>\n          body <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        MailApp<span class=\"token punctuation\">.</span><span class=\"token function\">sendEmail</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'SIPE'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">to</span><span class=\"token operator\">:</span> email<span class=\"token punctuation\">,</span>\n          subject<span class=\"token punctuation\">,</span>\n          body<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> email<span class=\"token punctuation\">,</span> pass<span class=\"token punctuation\">,</span> <span class=\"token string\">'메일 전송 완료'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'F'</span> <span class=\"token operator\">+</span> index <span class=\"token operator\">+</span> <span class=\"token string\">'에 메일 주소 없음. 발송 중단 처리'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 셀에 있는 내용을 다 발송하여 루프 중단</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'발송 실패 - '</span> <span class=\"token operator\">+</span> err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 468px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.22222222222223%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABrUlEQVQoz12Q3U8TQRTF91/zwcRnEwkNSD+g4h9EhH6aEAJiW9u0lgdjfDcFDAUrCFJN2xUJLdGG3ZnZ2f7MzLbEeJOTO+fcmXvPXCcMQ7QOMXkymdisw4j/j5lu7pk3EfQUUc1RKrCHQGs837fZXAiCAKUUUkqbDY90jef590NMcxMzY05/4Frh7s7jR6/P7z9jZkNarX3a7WOazT0ODz8hhWDgunzufOH84hut/QPaxyecnn21b4ajEY6ZPIswnPBvmJpxIIRASXWvy+nZmDM/uLkZoqY/cEyPj60D1tYzbOQKEbJ5yzO5AuvZPNl8kUyuGPFMjmzhJZl8kbUXG1xcdm1zzxf4QuIYkisUmYstEE8t8yS2QCr9jMdz8yRXnxNbSrC0kubp8gqxeJLFRJLFeIJUepUHDx/x7v2HaGWejy8Ujg4ntI5O2dx5w065watyne1SnUrtLbXdKtXXNSqbJSpbZaq7VUqlBtulJpXaHrV6g777k0CH1p11KKSke+Vx5koufykGI02nJxj7oLu3yPMRonONf3RF+P2WoavpXcPYi/apgqiZkMriL52RNJ/K3DuRAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"4\"\n        title=\"4\"\n        src=\"/static/967af870d7a23e35b8828e5022f5ffca/90372/4.png\"\n        srcset=\"/static/967af870d7a23e35b8828e5022f5ffca/e9ff0/4.png 180w,\n/static/967af870d7a23e35b8828e5022f5ffca/f21e7/4.png 360w,\n/static/967af870d7a23e35b8828e5022f5ffca/90372/4.png 468w\"\n        sizes=\"(max-width: 468px) 100vw, 468px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>이제 상단의 Run만 누르면 메일이 발송되는데, 정말 배포도 아닌 코드 실행이 이렇게 긴장되는 건 처음이었다. 이렇게 많은 수의 사람들에게 동시에 메일을 보내는 것도 처음인데다, 누군가에게는 불합격 소식을 전할 수밖에 없었기에 너무 죄송스러운 마음이 들기도 했다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 457px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.22222222222223%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABAAF/8QAFAEBAAAAAAAAAAAAAAAAAAAAA//aAAwDAQACEAMQAAABUFohXLqU/wD/xAAYEAACAwAAAAAAAAAAAAAAAAAAAwQyM//aAAgBAQABBQJ1G5EikrI//8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQMBAT8BZ//EABURAQEAAAAAAAAAAAAAAAAAAAIQ/9oACAECAQE/ATP/xAAaEAACAgMAAAAAAAAAAAAAAAAAAgEQMWGB/9oACAEBAAY/ApGxqui1/8QAHBAAAQQDAQAAAAAAAAAAAAAAAQAQESExQXGx/9oACAEBAAE/Ia9kOSRpmTn1QEA23//aAAwDAQACAAMAAAAQAx//xAAVEQEBAAAAAAAAAAAAAAAAAAAQMf/aAAgBAwEBPxCD/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAh/9oACAECAQE/EAq//8QAGxABAAMBAAMAAAAAAAAAAAAAAQARIXExgZH/2gAIAQEAAT8QflA1q+wLGLRNN0GW1isVZDj9pKqJdc5D1P/Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"5\"\n        title=\"5\"\n        src=\"/static/a60973962f01372670c7fb80995c6a68/78c04/5.jpg\"\n        srcset=\"/static/a60973962f01372670c7fb80995c6a68/4ec73/5.jpg 180w,\n/static/a60973962f01372670c7fb80995c6a68/158ba/5.jpg 360w,\n/static/a60973962f01372670c7fb80995c6a68/78c04/5.jpg 457w\"\n        sizes=\"(max-width: 457px) 100vw, 457px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p> </p>\n<p>여튼 무사히 한 고비를 넘겼고, 이제 시작인 우리 SIPE 팀.. 성공적인 하반기가 될 수 있길 기도해본다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 427px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 116.1111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAXABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAIEBQP/xAAWAQEBAQAAAAAAAAAAAAAAAAACAQD/2gAMAwEAAhADEAAAAc6UNM3EXV1vuBWw7//EABsQAAEFAQEAAAAAAAAAAAAAAAIAAQMSIREU/9oACAEBAAEFAr1cgIY+qm6UXkdMKAtZf//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/AQhP/8QAFREBAQAAAAAAAAAAAAAAAAAAEEH/2gAIAQIBAT8BKf/EABwQAAEEAwEAAAAAAAAAAAAAAAEAAhAhERJBgf/aAAgBAQAGPwJNJnUtVnHkVyP/xAAdEAEAAgICAwAAAAAAAAAAAAABABEhMUFhUXGB/9oACAEBAAE/Ifhps7mqdKIm2yJ7j5YNruK9zK3K+EwIa8sqzNNE/9oADAMBAAIAAwAAABAk+IL/xAAZEQEAAgMAAAAAAAAAAAAAAAABABARITH/2gAIAQMBAT8QRNzDOa//xAAXEQEBAQEAAAAAAAAAAAAAAAARAAEx/9oACAECAQE/EE0yGeLOX//EAB0QAQEBAQACAwEAAAAAAAAAAAERIQBBUTFhoXH/2gAIAQEAAT8QIJU7E0fs5OWMVsJ+djl35nNCJTaS+M89tSEJUUxPXUmiIK/YnIwB5dw2aL65KbT+d//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"6\"\n        title=\"6\"\n        src=\"/static/75f1d8aae665f37408cf08f1fe0dec11/141dd/6.jpg\"\n        srcset=\"/static/75f1d8aae665f37408cf08f1fe0dec11/4ec73/6.jpg 180w,\n/static/75f1d8aae665f37408cf08f1fe0dec11/158ba/6.jpg 360w,\n/static/75f1d8aae665f37408cf08f1fe0dec11/141dd/6.jpg 427w\"\n        sizes=\"(max-width: 427px) 100vw, 427px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EC%9D%B4%EA%B1%B0-%ED%95%9C-%EC%82%AC%EB%9E%8C-%ED%95%9C-%EC%82%AC%EB%9E%8C-%EB%A9%94%EC%9D%BC%EC%9D%84-%EB%8B%A4-%EB%94%B0%EB%A1%9C-%EB%B3%B4%EB%82%B4%EC%95%BC-%ED%95%98%EB%8A%94-%EA%B1%B4%EA%B0%80\">이거, 한 사람 한 사람 메일을 다 따로 보내야 하는 건가?</a></li>\n<li><a href=\"#1-%EA%B5%AC%EA%B8%80%ED%8F%BC-%EC%83%81%EB%8B%A8%EC%9D%98-view-in-sheets%EB%A5%BC-%ED%81%B4%EB%A6%AD%ED%95%98%EB%A9%B4-%EC%9D%91%EB%8B%B5%EC%9D%84-%EC%8A%A4%ED%94%84%EB%A0%88%EB%93%9C%EC%8B%9C%ED%8A%B8%EB%A1%9C-%ED%99%95%EC%9D%B8%ED%95%A0-%EC%88%98-%EC%9E%88%EB%8B%A4\">1. 구글폼 상단의 <code class=\"language-text\">View in Sheets</code>를 클릭하면 응답을 스프레드시트로 확인할 수 있다.</a></li>\n<li><a href=\"#2-%EC%8A%A4%ED%94%84%EB%A0%88%EB%93%9C%EC%8B%9C%ED%8A%B8-%EB%A9%94%EB%89%B4%EC%9D%98-extensions--apps-script%EB%A5%BC-%ED%81%B4%EB%A6%AD%ED%95%98%EC%9E%90\">2. 스프레드시트 메뉴의 <code class=\"language-text\">Extensions > Apps Script</code>를 클릭하자.</a></li>\n<li><a href=\"#3-%EC%BD%94%EB%93%9C%EB%A5%BC-%EC%9E%91%EC%84%B1%ED%95%98%EC%9E%90\">3. 코드를 작성하자!</a></li>\n</ul>\n</div>","frontmatter":{"date":"2023.06.11","title":"구글 스프레드시트 메일 자동화: Apps Script","categories":"Dev","emoji":"💌"},"fields":{"slug":"/38-apps-script/"}},"prev":{"id":"a108a3e5-4358-5a70-8ae6-60c162b34590","html":"<p><a href=\"https://www.jeong-min.com/39-file-blob-url-arraybuffer/\">1탄의 내용</a>을 참고하여 이미지 업로드 미리보기를 구현해보자. 놀랍게도 그 방법은 한두 개가 아니다!</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 240px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 99.44444444444443%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAEDBP/EABYBAQEBAAAAAAAAAAAAAAAAAAIDAP/aAAwDAQACEAMQAAAB411x5VIWk7ZBH//EABsQAAICAwEAAAAAAAAAAAAAAAECABADEyEy/9oACAEBAAEFAumMhWk95aDmbWFf/8QAFxEBAQEBAAAAAAAAAAAAAAAAARAiMf/aAAgBAwEBPwEMw5P/xAAWEQEBAQAAAAAAAAAAAAAAAAABECH/2gAIAQIBAT8BXYk//8QAGhABAAMAAwAAAAAAAAAAAAAAAQAQEQJRYf/aAAgBAQAGPwLCeUTjgtB1MK//xAAbEAACAgMBAAAAAAAAAAAAAAABEQAhEEFRgf/aAAgBAQABPyEvG2I3cKHR0omAx1Bw3Sir2Fsm3G77P//aAAwDAQACAAMAAAAQlD99/8QAGREAAwADAAAAAAAAAAAAAAAAAAEhEBEx/9oACAEDAQE/EN/FKoM8f//EABgRAQEBAQEAAAAAAAAAAAAAAAEAESEx/9oACAECAQE/EMPVsS9Iv//EAB0QAQEAAwACAwAAAAAAAAAAAAERACExQYFRkfD/2gAIAQEAAT8QHkHsnDGKU1Um8QuCTIEA4XH52Uliuj6L7wLdyM3gSNfj2yLIfFd/jBJXUrn/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"0\"\n        title=\"0\"\n        src=\"/static/1b74953db6b0c33855dc983bbbe71956/09b79/0.jpg\"\n        srcset=\"/static/1b74953db6b0c33855dc983bbbe71956/4ec73/0.jpg 180w,\n/static/1b74953db6b0c33855dc983bbbe71956/09b79/0.jpg 240w\"\n        sizes=\"(max-width: 240px) 100vw, 240px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p> </p>\n<h2 id=\"1-urlcreateobjecturl\" style=\"position:relative;\"><a href=\"#1-urlcreateobjecturl\" aria-label=\"1 urlcreateobjecturl permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. URL.createObjectURL</h2>\n<blockquote>\n<p>참고 자료: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL\">MDN web docs: URL.createObjectURL()</a></p>\n</blockquote>\n<p><code class=\"language-text\">URL.createObjectURL</code> 메서드를 사용하여 선택한 이미지 파일을 Blob 또는 File 객체로 변환하고, 그 객체를 URL로 변환하여 미리보기 이미지로 사용할 수 있다. 이 방법은 메모리 사용량이 적고 효율적이다. 하지만 URL은 사용이 완료되면 <code class=\"language-text\">URL.revokeObjectURL</code>을 호출하여 메모리 해제를 해주어야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> ImageUploadPreview<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">FC</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>previewImage<span class=\"token punctuation\">,</span> setPreviewImage<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useState</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">handleImageChange</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>event<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span>ChangeEvent<span class=\"token operator\">&lt;</span>HTMLInputElement<span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> file <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>files<span class=\"token operator\">?.</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> imageUrl <span class=\"token operator\">=</span> <span class=\"token constant\">URL</span><span class=\"token punctuation\">.</span><span class=\"token function\">createObjectURL</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">setPreviewImage</span><span class=\"token punctuation\">(</span>imageUrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>file<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">accept</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>image/*<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>handleImageChange<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>previewImage <span class=\"token operator\">&amp;&amp;</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>previewImage<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Preview<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> width<span class=\"token operator\">:</span> <span class=\"token string\">'200px'</span><span class=\"token punctuation\">,</span> height<span class=\"token operator\">:</span> <span class=\"token string\">'200px'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>장점</strong></p>\n<ul>\n<li>간단하고 직관적인 방법으로 이미지를 미리보기할 수 있다.</li>\n<li>추가적인 데이터 변환이나 처리 없이 바로 URL을 생성하여 사용할 수 있다.</li>\n<li>메모리 관리에 대한 부담이 적다.</li>\n</ul>\n<p><strong>단점</strong></p>\n<ul>\n<li>생성된 URL은 페이지 세션이나 브라우저 세션 동안 유지되며, 페이지를 벗어나도 자동으로 해제되지 않는다.</li>\n<li>큰 이미지 파일을 다룰 경우 메모리 사용량이 늘어날 수 있다.</li>\n</ul>\n<p> </p>\n<h2 id=\"2-filereaderreadasdataurl\" style=\"position:relative;\"><a href=\"#2-filereaderreadasdataurl\" aria-label=\"2 filereaderreadasdataurl permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. FileReader.readAsDataURL</h2>\n<blockquote>\n<p>참고 자료: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL\">MDN web docs: FileReader.readAsDataURL()</a></p>\n</blockquote>\n<p>FileReader 객체의 <code class=\"language-text\">readAsDataURL</code> 메서드를 사용하여 이미지 파일을 Base64 인코딩된 데이터 URL로 읽어올 수 있다. 이 방법은 동기적으로 작동하며, 파일의 전체 내용을 포함한 데이터 URL을 생성한다. 큰 파일의 경우 메모리 사용량이 높을 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> ImageUploadPreview<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">FC</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>previewImage<span class=\"token punctuation\">,</span> setPreviewImage<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useState</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">handleImageChange</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>event<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span>ChangeEvent<span class=\"token operator\">&lt;</span>HTMLInputElement<span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> file <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>files<span class=\"token operator\">?.</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> reader <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FileReader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      reader<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onloadend</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> imageUrl <span class=\"token operator\">=</span> reader<span class=\"token punctuation\">.</span>result <span class=\"token keyword\">as</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">setPreviewImage</span><span class=\"token punctuation\">(</span>imageUrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n      reader<span class=\"token punctuation\">.</span><span class=\"token function\">readAsDataURL</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>file<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">accept</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>image/*<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>handleImageChange<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>previewImage <span class=\"token operator\">&amp;&amp;</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>previewImage<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Preview<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> width<span class=\"token operator\">:</span> <span class=\"token string\">'200px'</span><span class=\"token punctuation\">,</span> height<span class=\"token operator\">:</span> <span class=\"token string\">'200px'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>장점</strong></p>\n<ul>\n<li>간단하게 이미지를 Base64 데이터 URL로 변환하여 미리보기할 수 있다.</li>\n<li>Blob URL보다는 메모리 사용량이 적다.</li>\n</ul>\n<p><strong>단점</strong></p>\n<ul>\n<li>이미지가 큰 경우 Base64 데이터의 크기가 커질 수 있어 성능에 영향을 줄 수 있다.</li>\n<li>데이터 URL은 Base64 인코딩된 문자열이므로 이미지 파일의 용량이 더욱 커질 수 있다.</li>\n</ul>\n<p> </p>\n<h2 id=\"3-filereaderreadasarraybuffer\" style=\"position:relative;\"><a href=\"#3-filereaderreadasarraybuffer\" aria-label=\"3 filereaderreadasarraybuffer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. FileReader.readAsArrayBuffer</h2>\n<blockquote>\n<p>참고 자료: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsArrayBuffer\">MDN web docs: FileReader.readAsArrayBuffer()</a></p>\n</blockquote>\n<p>FileReader 객체의 <code class=\"language-text\">readAsArrayBuffer</code> 메서드를 사용하여 이미지 파일을 ArrayBuffer로 읽어올 수 있다. 이후, Uint8Array를 활용하여 ArrayBuffer를 다루고, 이미지 파일의 일부만을 사용하여 미리보기를 생성할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> ImageUploadPreview<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">FC</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>previewImage<span class=\"token punctuation\">,</span> setPreviewImage<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useState</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">handleImageChange</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>event<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span>ChangeEvent<span class=\"token operator\">&lt;</span>HTMLInputElement<span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> file <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>files<span class=\"token operator\">?.</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> reader <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FileReader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      reader<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onloadend</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> arrayBuffer <span class=\"token operator\">=</span> reader<span class=\"token punctuation\">.</span>result <span class=\"token keyword\">as</span> ArrayBuffer<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> blob <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Blob</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>arrayBuffer<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> file<span class=\"token punctuation\">.</span>type <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> imageUrl <span class=\"token operator\">=</span> <span class=\"token constant\">URL</span><span class=\"token punctuation\">.</span><span class=\"token function\">createObjectURL</span><span class=\"token punctuation\">(</span>blob<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">setPreviewImage</span><span class=\"token punctuation\">(</span>imageUrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n      reader<span class=\"token punctuation\">.</span><span class=\"token function\">readAsArrayBuffer</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>file<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">accept</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>image/*<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>handleImageChange<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>previewImage <span class=\"token operator\">&amp;&amp;</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>previewImage<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Preview<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> width<span class=\"token operator\">:</span> <span class=\"token string\">'200px'</span><span class=\"token punctuation\">,</span> height<span class=\"token operator\">:</span> <span class=\"token string\">'200px'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p><strong>장점</strong></p>\n<ul>\n<li>이미지 파일의 ArrayBuffer 데이터를 직접 다룰 수 있어 추가적인 처리가 가능하다. (이미지 크기 조절, 특정 데이터 추출 등)</li>\n</ul>\n<p><strong>단점</strong></p>\n<ul>\n<li>별도의 처리가 필요하며, ArrayBuffer를 활용한 추가적인 작업이 필요하다.</li>\n<li>큰 이미지 파일을 다룰 경우 메모리 사용량이 늘어날 수 있다.</li>\n</ul>\n<p> </p>\n<h2 id=\"4-canvas\" style=\"position:relative;\"><a href=\"#4-canvas\" aria-label=\"4 canvas permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. Canvas</h2>\n<blockquote>\n<p>참고 자료: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/File/Using_files_from_web_applications\">MDN web docs: Using files from web applications</a></p>\n</blockquote>\n<p>선택한 이미지 파일을 <code class=\"language-text\">HTMLCanvasElement에</code> 그려서 미리보기를 생성할 수 있다. canvas 요소에 선택한 이미지를 그리고, canvas에서 이미지 데이터를 가져와서 미리보기로 사용할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> ImageUploadPreview<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">FC</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>previewImage<span class=\"token punctuation\">,</span> setPreviewImage<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useState</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> canvasRef <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useRef</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>HTMLCanvasElement<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">handleImageChange</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>event<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span>ChangeEvent<span class=\"token operator\">&lt;</span>HTMLInputElement<span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> file <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>files<span class=\"token operator\">?.</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> reader <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FileReader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      reader<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onloadend</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> image <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Image</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        image<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">const</span> canvas <span class=\"token operator\">=</span> canvasRef<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>canvas<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">const</span> context <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n              context<span class=\"token punctuation\">.</span><span class=\"token function\">clearRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n              context<span class=\"token punctuation\">.</span><span class=\"token function\">drawImage</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n              <span class=\"token keyword\">const</span> imageUrl <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">toDataURL</span><span class=\"token punctuation\">(</span><span class=\"token string\">'image/png'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n              <span class=\"token function\">setPreviewImage</span><span class=\"token punctuation\">(</span>imageUrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n        image<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> reader<span class=\"token punctuation\">.</span>result <span class=\"token keyword\">as</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n      reader<span class=\"token punctuation\">.</span><span class=\"token function\">readAsDataURL</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> canvas <span class=\"token operator\">=</span> canvasRef<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>canvas<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      canvas<span class=\"token punctuation\">.</span>width <span class=\"token operator\">=</span> <span class=\"token number\">200</span><span class=\"token punctuation\">;</span>\n      canvas<span class=\"token punctuation\">.</span>height <span class=\"token operator\">=</span> <span class=\"token number\">200</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>file<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">accept</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>image/*<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">onChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>handleImageChange<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>canvas</span> <span class=\"token attr-name\">ref</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>canvasRef<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> display<span class=\"token operator\">:</span> <span class=\"token string\">'none'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>previewImage <span class=\"token operator\">&amp;&amp;</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>previewImage<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Preview<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> width<span class=\"token operator\">:</span> <span class=\"token string\">'200px'</span><span class=\"token punctuation\">,</span> height<span class=\"token operator\">:</span> <span class=\"token string\">'200px'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>장점</strong></p>\n<ul>\n<li>이미지를 렌더링하고 조작하는 유연한 방법이다.</li>\n<li>이미지 크기 조절, 필터 적용, 이미지 편집 등 다양한 작업이 가능하다.</li>\n</ul>\n<p><strong>단점</strong></p>\n<ul>\n<li>브라우저에서 Canvas를 다루는 작업은 CPU 리소스를 많이 사용할 수 있다.</li>\n<li>Canvas를 사용하는 추가적인 작업이 필요하다.</li>\n</ul>\n<p> </p>\n<h2 id=\"5-외부-라이브러리\" style=\"position:relative;\"><a href=\"#5-%EC%99%B8%EB%B6%80-%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC\" aria-label=\"5 외부 라이브러리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. 외부 라이브러리</h2>\n<blockquote>\n<p>참고 자료: <a href=\"https://react-dropzone.js.org/\">react-dropzone</a></p>\n</blockquote>\n<p>이미지 업로드 미리보기를 구현하는 데 도움이 되는 많은 라이브러리들이 있다. <code class=\"language-text\">react-dropzone</code>을 한번 사용해보도록 하겠다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useDropzone <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-dropzone'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> ImageUploadPreview<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">FC</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>previewImage<span class=\"token punctuation\">,</span> setPreviewImage<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useState</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">onDrop</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>acceptedFiles<span class=\"token operator\">:</span> File<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>acceptedFiles<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> file <span class=\"token operator\">=</span> acceptedFiles<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">const</span> imageUrl <span class=\"token operator\">=</span> <span class=\"token constant\">URL</span><span class=\"token punctuation\">.</span><span class=\"token function\">createObjectURL</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">setPreviewImage</span><span class=\"token punctuation\">(</span>imageUrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> getRootProps<span class=\"token punctuation\">,</span> getInputProps<span class=\"token punctuation\">,</span> isDragActive <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useDropzone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> onDrop <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token spread\"><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token function\">getRootProps</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> border<span class=\"token operator\">:</span> <span class=\"token string\">'2px dashed gray'</span><span class=\"token punctuation\">,</span> padding<span class=\"token operator\">:</span> <span class=\"token string\">'20px'</span><span class=\"token punctuation\">,</span> textAlign<span class=\"token operator\">:</span> <span class=\"token string\">'center'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token spread\"><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token function\">getInputProps</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>isDragActive <span class=\"token operator\">?</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Drop the image here...</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span> <span class=\"token operator\">:</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Drag and drop an image here, or click to select an image</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token punctuation\">{</span>previewImage <span class=\"token operator\">&amp;&amp;</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>previewImage<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Preview<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> width<span class=\"token operator\">:</span> <span class=\"token string\">'200px'</span><span class=\"token punctuation\">,</span> height<span class=\"token operator\">:</span> <span class=\"token string\">'200px'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> ImageUploadPreview<span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>장점</strong></p>\n<ul>\n<li>드래그 앤 드롭 기능이 쉽게 구현되어 있어 사용자 경험이 향상된다.</li>\n<li>미리보기 이미지 외에도 파일 업로드와 관련된 다양한 기능을 제공한다.</li>\n</ul>\n<p><strong>단점</strong></p>\n<ul>\n<li>추가적인 라이브러리를 사용해야 하므로 프로젝트의 의존성이 늘어날 수 있다.</li>\n<li>커스터마이징이 제한될 수 있다.</li>\n</ul>\n<p> </p>\n<p>구현해야 하는 서비서의 목적과 기능 요구사항을 고려하여 적절한 방법을 선택하도록 하자!</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/webp;base64,UklGRo4AAABXRUJQVlA4IIIAAAAQBACdASoUAAsAPtFUo0uoJKMhsAgBABoJQBdgBEPeg5KoVISPepAngAD+5s7EiXHDQeKL5J8nNHA+AIZ8encxhzlIdt6YIYPw1yXF/JX+uPClEGzVQ/cGsONZ7+Y8uLlDYPfTR/3u8/8GbQ6r6QGqsco/0pP7vH9tior8MuTUFkAA'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"1\"\n        title=\"1\"\n        src=\"/static/ef9d886c4289d7d5f78dd1667e128c33/bc514/1.webp\"\n        srcset=\"/static/ef9d886c4289d7d5f78dd1667e128c33/59d6e/1.webp 180w,\n/static/ef9d886c4289d7d5f78dd1667e128c33/a3012/1.webp 360w,\n/static/ef9d886c4289d7d5f78dd1667e128c33/bc514/1.webp 720w,\n/static/ef9d886c4289d7d5f78dd1667e128c33/a5d4d/1.webp 1000w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#1-urlcreateobjecturl\">1. URL.createObjectURL</a></li>\n<li><a href=\"#2-filereaderreadasdataurl\">2. FileReader.readAsDataURL</a></li>\n<li><a href=\"#3-filereaderreadasarraybuffer\">3. FileReader.readAsArrayBuffer</a></li>\n<li><a href=\"#4-canvas\">4. Canvas</a></li>\n<li><a href=\"#5-%EC%99%B8%EB%B6%80-%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC\">5. 외부 라이브러리</a></li>\n</ul>\n</div>","frontmatter":{"date":"2023.06.19","title":"<Blob File URL ArrayBuffer> 그들의 사각관계?! ~이미지 업로드 미리보기를 구현하고 싶습니다~ : 2탄","categories":"Dev","emoji":"👀"},"fields":{"slug":"/40-image-upload-preview/"}},"site":{"siteMetadata":{"siteUrl":"https://jeong-min.com","comments":{"utterances":{"repo":"danmin20/danmin-gatsby-blog"}}}}},"pageContext":{"slug":"/39-file-blob-url-arraybuffer/","nextSlug":"/38-apps-script/","prevSlug":"/40-image-upload-preview/"}},"staticQueryHashes":["1321405810","3649515864"]}