{"componentChunkName":"component---src-templates-post-template-index-tsx","path":"/32-hosts/","result":{"data":{"cur":{"id":"77804b99-d5ad-5513-ad73-7b56aebac5cd","html":"<h2 id=\"hosts-파일이란\" style=\"position:relative;\"><a href=\"#hosts-%ED%8C%8C%EC%9D%BC%EC%9D%B4%EB%9E%80\" aria-label=\"hosts 파일이란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>hosts 파일이란?</h2>\n<p>hosts 파일은 운영체제가 호스트 이름을 IP 주소에 매핑할 때 사용하는 파일이다.</p>\n<p>우리가 주소창에 url을 입력하면 DNS를 통해서 해당 도메인의 실제 IP 주소로 접속하게 되는데, 이 때 DNS를 통하지 않고 원하는 IP 주소로 접속하고자 할 때 hosts 파일을 수정하는 방법을 이용할 수 있다.</p>\n<p>개발을 하다보면 로컬 환경에서 도메인 테스트를 해야 하는 경우가 생긴다. 이 때 원하는 도메인을 로컬 IP 주소를 바라보게끔 hosts를 수정할 수 있다.</p>\n<p> </p>\n<h2 id=\"sudo-vi-etchosts\" style=\"position:relative;\"><a href=\"#sudo-vi-etchosts\" aria-label=\"sudo vi etchosts permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>sudo vi /etc/hosts</h2>\n<blockquote>\n<p>vscode를 사용한다면 <code class=\"language-text\">code /etc/hosts</code>를 입력해도 된다.</p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 76.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAABNElEQVQ4y+2OvUoDQRSFz53RuJkNmrTmCRSMpe9iYWe1gqUpfAMrCyUIGvLDgglkjRiMnb2FFnaiVoJvoM4mOZKwCUswQsTCwgPfzMDM/eaAJBhyngxzJL+mwxw/OOl+heQqyXTfhYfrWxT3DjcaxQIr9cp7K7iyrWbbXgSXtnXWtn65bv3yqT05KtnScdUGtXPbqDVHBLXmW7Xo82C/4N3d3AOOcaBn9FY6k2F2Mds1rmEymaQxDpWeI2bXCFcRAmqtqZQQQJxOtOfRj2tcJBIJz3EcplKpjla6ByCGjM5KqQEiEicUEYpIXmuNYbzYb72xBt/RfxsOG4oIMFj+hX9aGEbS7hTYaHYnLtyeotUkduPCdQAvAJ4APE/JI4BXAJuRa5AFEVkSkdwPWQaQwVjkF8Anfu0zgN2c2wUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"0\"\n        title=\"0\"\n        src=\"/static/1083b9d9df31ecd1f0c259bf6df77769/37523/0.png\"\n        srcset=\"/static/1083b9d9df31ecd1f0c259bf6df77769/e9ff0/0.png 180w,\n/static/1083b9d9df31ecd1f0c259bf6df77769/f21e7/0.png 360w,\n/static/1083b9d9df31ecd1f0c259bf6df77769/37523/0.png 720w,\n/static/1083b9d9df31ecd1f0c259bf6df77769/302a4/0.png 1080w,\n/static/1083b9d9df31ecd1f0c259bf6df77769/4352a/0.png 1364w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n터미널에서 위 명령어를 입력하고 비밀번호를 입력하자. 그러면 아래와 같은 파일이 뜰 것이다. 나는 이미 수정된 내용이 있다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 76.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAABuElEQVQ4y62Sv24TQRDGv13fef/dnu2TvGcJuw4gEd6Hgo7qkChJwUtQoCDACQoWAkvYSQpegoaCgia4QqKAmnC+86BdnRtQwFay0qf9tLvz08zsgIjw6/P3lGi5S0QXq77w7hYR3Sairmfh/OwH3r+a3X13uE8vJuPz+ZvTcvb2uJxNT8r59LQ8Gk/Kg2cvy+f74/LoYBLO/N1a8+nJz8nha3ry+Gnx8cMnYOf6DvJBfp8xTgBqALSlqmbfg1/WWgghCiEEKaUqpdSKMbaNlowxYozttVotIMsyaK0LpVQARlG0ajwlSUJSStJak7U2eGOMD15ntwKwXGfIGAPSNIWUsvDBWuvKWrvyQR7QnAXf6XSC/y9wNBp5aOEfcs6r5tGm/fsbOBwOfR+LPM8pTdPLAweDAYwxhXPOl3Z5oHMufEqWZeFTrqDka6GHvuR+v790zlW9Xq+WUtZxHNfNbP5LZQN8GIBSJohj8cCPSbfbDeMSx3EYkSiKthnwRwFoTIIoiu9orb8aY74IIRZa60W73V4A2ERnAL4BuBeAzepwzm9wznf/FGNsE90E0Askzi2AyFt2BcJvfmU8X84fS7oAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"1\"\n        title=\"1\"\n        src=\"/static/ed99d8fe9c1ebb5e17feec803e553fbb/37523/1.png\"\n        srcset=\"/static/ed99d8fe9c1ebb5e17feec803e553fbb/e9ff0/1.png 180w,\n/static/ed99d8fe9c1ebb5e17feec803e553fbb/f21e7/1.png 360w,\n/static/ed99d8fe9c1ebb5e17feec803e553fbb/37523/1.png 720w,\n/static/ed99d8fe9c1ebb5e17feec803e553fbb/302a4/1.png 1080w,\n/static/ed99d8fe9c1ebb5e17feec803e553fbb/4352a/1.png 1364w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ol>\n<li><code class=\"language-text\">i</code> 입력</li>\n<li>hosts 파일 수정</li>\n<li><code class=\"language-text\">^C</code> 입력</li>\n<li><code class=\"language-text\">:wq</code> (저장 후 종료) 입력</li>\n</ol>\n<p> </p>\n<h2 id=\"요즘은-이런-거-해주는-앱도-있더라\" style=\"position:relative;\"><a href=\"#%EC%9A%94%EC%A6%98%EC%9D%80-%EC%9D%B4%EB%9F%B0-%EA%B1%B0-%ED%95%B4%EC%A3%BC%EB%8A%94-%EC%95%B1%EB%8F%84-%EC%9E%88%EB%8D%94%EB%9D%BC\" aria-label=\"요즘은 이런 거 해주는 앱도 있더라 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>요즘은 이런 거 해주는 앱도 있더라</h2>\n<p><a href=\"https://github.com/2ndalpha/gasmask\">Gasmask</a>와 같은 앱을 사용하는 것도 좋은 방법이다. 기존 hosts 파일을 직접 건드리지 않고 설정할 수 있다는 것과 hosts 파일을 여러 개 만들 수도 있다는 것이 가장 큰 장점인 것 같다.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#hosts-%ED%8C%8C%EC%9D%BC%EC%9D%B4%EB%9E%80\">hosts 파일이란?</a></li>\n<li><a href=\"#sudo-vi-etchosts\">sudo vi /etc/hosts</a></li>\n<li><a href=\"#%EC%9A%94%EC%A6%98%EC%9D%80-%EC%9D%B4%EB%9F%B0-%EA%B1%B0-%ED%95%B4%EC%A3%BC%EB%8A%94-%EC%95%B1%EB%8F%84-%EC%9E%88%EB%8D%94%EB%9D%BC\">요즘은 이런 거 해주는 앱도 있더라</a></li>\n</ul>\n</div>","excerpt":"hosts 파일이란? hosts 파일은 운영체제가 호스트 이름을 IP 주소에 매핑할 때 사용하는 파일이다. 우리가 주소창에 url을 입력하면 DNS를 통해서 해당 도메인의 실제 IP 주소로 접속하게 되는데, 이 때 DNS를 통하지 않고 원하는 IP 주소로 접속하고자 할 때 hosts 파일을 수정하는 방법을 이용할 수 있다. 개발을 하다보면 로컬 환경에서 도메인 테스트를 해야 하는 경우가 생긴다. 이 때 원하는 도메인을 로컬 IP 주소를 바라보게끔 hosts를 수정할 수 있다.   sudo vi /etc/hosts vscode를 사용한다면 를 입력해도 된다. \n터미널에서 위 명령어를 입력하고 비밀번호를 입력하자. 그러면 아래와 같은 파일이 뜰 것이다. 나는 이미 수정된 내용이 있다.   입력 hosts 파일 수정  입력  (저장 후 종료) 입력   요즘은 이런 거 해주는 앱도 있더라 Gasmask와 같은 앱을 사용하는 것도 좋은 방법이다. 기존 hosts 파일을 직접 건드리지 않고 …","frontmatter":{"date":"2023.05.23","title":"hosts 파일을 수정해서 local domain을 변경해보자!","categories":"Dev","emoji":"👾"},"fields":{"slug":"/32-hosts/"}},"next":{"id":"92a8f131-c8d3-5bb5-b33d-91243a0c9ee4","html":"<blockquote>\n<p><del>제목을 ‘form생form사’로 하고 싶었으나 처참히 실패</del></p>\n</blockquote>\n<p>폼과 관련된 서버 통신 작업을 할 때, 보통은 이미지를 업로드하는 api와 폼데이터를 전송하는 api를 함께 사용해 서버로 데이터를 전송하곤 했다. 그러던 어느 날, 파일은 파일대로 json data는 json 대로 넣어서 하나의 api를 사용해 같이 전송해달라는 서버 개발자의 요청을 받게 되었는데…</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 76.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADcUlEQVQoz1XReUyTdxzH8QeeR53ZkZj9Y5b4x9B4AdK00KeAFOzxUFpBpGhvFAERUdmhbnIYDulh26flkE0xi8Z4hKESSQwMjIss86yA3SoVWp7fc/TCOTFeRPRZikSzz/+vvJPvF3K5XH6/n6ZpgiAACQJ0aNjtGrp77cbdwTvDfwao0MhfrlO9bcd+beoeOD0+/ohhAgAAcm6Q2+3+4ENMxHGhdjsu1FhSVGZukX193cmycqdMaYlXWTkFprXf/6TxjP1NUzQgox6iadrj8YyOjtI0c7H/jLKRs9XC1VlRnQ1VmZLzG+I1Np7awtMe5Rvs6ZuOrDrfd+JJ5Okk4Y9iAADDMH7fZPPpb5WWeL1doLOhOiuqsfAKm7hak0BZl1LuzNEY+VuaOSorp/p4yaSPoGgKABDFASZw6/7QrmZlqjpOUcXJPcDJr0/YYZVkbOQt+AL6cukSKgCevZhu6apTmblKY2LTqb00yZAkgEiSjB6AIh8Mu5cvWwlBEG7Hp19OURTZ09WrUxX1dF95PfNq0HV59zG51pZc5EzdYk7q/+NKJDQ1X743cvvcQGfnpY6Os60PiJFHYc/PV401v+w42W9s662taJXnNazW2HkGXFDkSCu0JOAXasLM1PsyEQpGcFuVuizuux9F+/Zn6vYkqmoTNh5eIzkYp6hdWdC4TocLDA6BHkcNuEBt5+5rL/D7/dDcwwBJUcNDN3pMDbYyRfXOLFOF/EgxZi6RtVTmtlXkduzKL21I1zr5ejuqx1EdnmI4KvSOP3yPo6ODQSYY6bvZV9KRrmlL2mZO376HX25ASw0C4zdZpUa+Fk+dK6dp7cmV7diEb+IjBkR0z5+EO7sGpfvlxa2rsw/Ey2u4attadHdeXr2opD1Rj6duc3CUzavqjjsjweBHTBDk4zB5otv7CfZmsYxByyqy9yYW4ytyDioWikKfy9wbqjYX1q9TVOeuUDsWiae7+33zGACSoakx78TXysdQJotg72JEs59i3q82nf9sw/UYMRsjZRHR0yWy3xcIx+DMZ5Dg3U4jAX3IToWpngEvIp6BMRYR/YNIX8dIWUjMxopfIBk+RPQvnM1CUjZW+nZRziwkZAsPUf/Dl397iEhexWIskhWEJS9h6SwinYGxt7DkDZwZgNPuw0nnYIxdKPRCaCT/B+Y/SQL9STcUBT4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"1\"\n        title=\"1\"\n        src=\"/static/40337f3dcb36d8e42e8b036726e5ff96/6af66/1.png\"\n        srcset=\"/static/40337f3dcb36d8e42e8b036726e5ff96/e9ff0/1.png 180w,\n/static/40337f3dcb36d8e42e8b036726e5ff96/f21e7/1.png 360w,\n/static/40337f3dcb36d8e42e8b036726e5ff96/6af66/1.png 640w\"\n        sizes=\"(max-width: 640px) 100vw, 640px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p> </p>\n<h2 id=\"formdata란\" style=\"position:relative;\"><a href=\"#formdata%EB%9E%80\" aria-label=\"formdata란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>FormData란?</h2>\n<p>FormData는 HTML 폼 데이터로, 폼을 쉽게 보내도록 도와주는 객체다. 네트워크 메서드의 바디에 FormData 객체를 넣으면, HTTP 메시지는 인코딩되고 <code class=\"language-text\">Content-Type</code> 속성은 <code class=\"language-text\">multipart/form-data</code>로 지정된 후 전송된다.</p>\n<p> </p>\n<h2 id=\"어떻게-동시에-따로-보내야-하지\" style=\"position:relative;\"><a href=\"#%EC%96%B4%EB%96%BB%EA%B2%8C-%EB%8F%99%EC%8B%9C%EC%97%90-%EB%94%B0%EB%A1%9C-%EB%B3%B4%EB%82%B4%EC%95%BC-%ED%95%98%EC%A7%80\" aria-label=\"어떻게 동시에 따로 보내야 하지 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>어떻게 동시에, 따로 보내야 하지?</h2>\n<p>그냥 다짜고짜 파일과 함께 보냈더니, <code class=\"language-text\">415 (Unsupported Media Type)</code> 에러가 발생했다. 그래서 file은 multipart/form-data, 그 외의 데이터는 application/json 형식으로 따로 보내기 위해 Blob을 사용해주었다.</p>\n<blockquote>\n<p>Blob(Binary Large Object)은 이미지, 사운드, 비디오와 같은 멀티미디어 데이터를 다룰 때 사용된다.</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> methods<span class=\"token punctuation\">.</span><span class=\"token function\">getValues</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// react-hook-form</span>\n\n<span class=\"token keyword\">const</span> formData <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FormData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nformData<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span>\n   <span class=\"token string\">'data'</span><span class=\"token punctuation\">,</span>\n   <span class=\"token keyword\">new</span> <span class=\"token class-name\">Blob</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> <span class=\"token string\">'application/json'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nObject<span class=\"token punctuation\">.</span><span class=\"token function\">entries</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n   <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">.</span>type <span class=\"token operator\">===</span> <span class=\"token string\">'file'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// value: {type: string, value: File}</span>\n      formData<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n   <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>위와 같이 코드를 수정한 후 데이터를 전송하니, data 내부에는 json 데이터가, 파일은 각각의 <code class=\"language-text\">key, value</code> 형태로 잘 들어가는 것을 확인할 수 있었다.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#formdata%EB%9E%80\">FormData란?</a></li>\n<li><a href=\"#%EC%96%B4%EB%96%BB%EA%B2%8C-%EB%8F%99%EC%8B%9C%EC%97%90-%EB%94%B0%EB%A1%9C-%EB%B3%B4%EB%82%B4%EC%95%BC-%ED%95%98%EC%A7%80\">어떻게 동시에, 따로 보내야 하지?</a></li>\n</ul>\n</div>","frontmatter":{"date":"2023.05.17","title":"file과 json data를 formData에 같이? 따로! 넣어보자","categories":"Dev","emoji":"📂"},"fields":{"slug":"/31-formdata/"}},"prev":{"id":"9289753f-0142-5900-bfc9-01e47d851e74","html":"<p><del>삐까뻔쩍 나도 한번 잘살아보자🎵</del></p>\n<p>웹사이트를 만들다 보면 피할 수 없는 그것… 바로</p>\n<h3 id=\"모달-창-만들기\" style=\"position:relative;\"><a href=\"#%EB%AA%A8%EB%8B%AC-%EC%B0%BD-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"모달 창 만들기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>모달 창 만들기..!</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 564px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 73.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADnklEQVQozwGTA2z8APDlrO/gqfDkrM/CjrCkcuXYn+repuHWntXKlMvBicS6hL60gbiufMO6hufdp+TapdvQn9LHmNnOn6WUbQDd0JjLtKK4rqm3pI3NwIzj1p/l2KPd0ZzWy5S9soPJv4jEuoW8soDPxpLm3Kbg1aHVyprQxZbQxpjOw5QAQTs2oZl9zb2kzL2Y6t6n4tWg39Kd4NOd1ciSk4xqraZ4vrR/xruH29Gc4tej28+f0caYzcOSzcGTy8CRAEI6N6OYbt7TmN/SmtrNmOHXotzSm7itfndtTT82JIZvTJR+VGtfQLWqfeDTo9TImc7Ek8vBkMq/kMa7jACckV/Pw47p3ari05/ApG6nj2B3bUssKRofHRRQQCiQaT6EYDcsHQ9wZ0vPw5PMwZLKwY/HvY3HvI7Bt4cAxbeI2cma3s6e49SjxbGBbk0pZkgoV0AoHxsVPzEghF84flk0VUAnh3pXsqR4x72Nx72MxLmKwriJvrODAK6gdaaXbbCfc8e3isi6ioJoQoFZM2FDJxYSDTowIINeNmRHKB0ZEF5TN6GUa8O3icO4isC1hr+0hruwgQCSgl6KelWIeFOIeFSejmWij2NoSSlNNR4ZEwxXTzeMdk1oVTUjIRdUTTSekWrDtonAs4W7sIG7sIK4rYAAc2NFcWFBb19BfW5NgHBPi3xUa1Y2TDAXSjgiiHpWgnNOVUwzSUMuYlo/qJtxv7KFu66BuKt+uq+CqJtxAHBiRmVVPGhZPG5fQYFyT5SEXZKCXVNCKmNSN5qKYoV1UnRoRYp/WWZcQKyedLmrf7eoe7anfLesgJSHYABzZUhqXEJdTjZkVjprWzx8a0aci2Cai2J+b0x2Z0dlVzx5aEFpXTp2akeqmmyyo3W0pXq0pXq0p3x+cEsAdmdKcmRIXVA3T0EpdG5diYh8jIl6n5mFfHJcgHdhhX5qgXtve3Rlj4p7lI5+m5R+rZ1zs6Z6qZpvd2pHAHNkRnVmSHttT2paO19kZG2CmWNxgaSjoIh2VYtvRqOLZJWUkaSinp6foJCRkqinpKaXbrWofJSFXIN4VgB7bE2JeVeVhmJhVztMRTQ/PDAwLSJQSThWSzREOyZrYUOFe1tqZlNjWUKFeFehmHuom2+xpHeCck2akW4AiXpZno9qc2dKUks1NzMhHhsNIR4QIiATHx0RIR8SKikaYFg7b2ZFQDggcWA7npBjrqF1pphuempHo5hxzofJbQIePucAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"0\"\n        title=\"0\"\n        src=\"/static/2da786aa5428f937352a10f7c6b49ce9/ba4d9/0.png\"\n        srcset=\"/static/2da786aa5428f937352a10f7c6b49ce9/e9ff0/0.png 180w,\n/static/2da786aa5428f937352a10f7c6b49ce9/f21e7/0.png 360w,\n/static/2da786aa5428f937352a10f7c6b49ce9/ba4d9/0.png 564w\"\n        sizes=\"(max-width: 564px) 100vw, 564px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>드롭다운이 아닌 일반적인 모달의 경우 화면 전체를 채우게끔 구현을 해야 하는데, 이 때 사용할 수 있는 몇 가지 팁을 정리해보려 한다.</p>\n<p>현재 내 블로그에 있는 <code class=\"language-text\">Buy Me A Coffee</code> 컴포넌트를 예시로 들어보도록 하겠다.</p>\n<p> </p>\n<h2 id=\"일단은-모달을-만들어보자\" style=\"position:relative;\"><a href=\"#%EC%9D%BC%EB%8B%A8%EC%9D%80-%EB%AA%A8%EB%8B%AC%EC%9D%84-%EB%A7%8C%EB%93%A4%EC%96%B4%EB%B3%B4%EC%9E%90\" aria-label=\"일단은 모달을 만들어보자 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>일단은 모달을 만들어보자</h2>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> BuyMeACoffee<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">FC</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isModalOpened<span class=\"token punctuation\">,</span> setIsModalOpened<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\n      <span class=\"token comment\">// 버튼을 클릭하면 모달이 열림</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setIsModalOpened</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Text<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">{</span><span class=\"token string\">'BuyMeACoffee'</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>char<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n            <span class=\"token operator\">&lt;</span>p key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>index<span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>char<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Text<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Button<span class=\"token operator\">></span>\n\n      <span class=\"token punctuation\">{</span>isModalOpened <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Modal<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Title<span class=\"token operator\">></span>Buy Me <span class=\"token constant\">A</span> Coffee ☕️<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Title<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Modal<span class=\"token operator\">></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>버튼을 클릭하면, 다음 사진처럼 모달이 열리게 된다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 94.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABYlAAAWJQFJUiTwAAAD7klEQVQ4y62UXW8UVRzGJ3qnN0Z3+QJ+EdIL4oXZhBsVE0NMFOiCpZXSJhCJAQ3UAkZBjIkSjQG9AE1jCAW2tNvdGtluy0K7rbSd2fedbXd3ZnZmzpnXcx5ztoClwTuf5JecefvNf+b8z5FGLlx6QUtc3Vn769fdjeW52PrfuZirKjFal2NmYSmmZW/H7LlbMZpLxMj9O7GOYPZmzJq71cXOJWKdh3d3N2fHd17+pO9F6dNTp14lK/MloubR2lhHpVKB1m7DMk2Yhg5dycOUF6CvPkBHfghXUF0BKS3BLi6hs3If7nIWxsK9yrnTJ1+Tjh87FllvttY4B1zPC3XdYO22xizLZoRQRhyX2dRhhmkx0yLMswnzQ86o4zLXDxixSQjPQ2AT5cBHfTukeDweoZSu6bqGYrHIavUaJ4RwAM/FMnReqZS5qqq8XC7xWr3GbicmMHF3Urk/n41Khw8fFkKZcw7f91kQBGCMQRw/C4NIKwT8IEDg+/A8T5xic3PzSCanlUzmXlTq7++PEEJkbIZhS7bL9GoWv938DrbjbLkn7F5kjCm9vfHNCp8IgyDoVigIw3CrG4HnIH9nFLfOvoHiwp9Q5QVQ4j52hbBtWxkeHo52/6HjOHKn00G5XGaqqkJtNLDRbHalmy9gCFwDbmsJev4yHk1ewPH338WNb/fDKI4x1wtAKVWOfDwQlfbt2xfxPE+u1+vI5XIsM5vB7GwG2WwWhUIBpVIJtboKtbqGcuZHrP3xFlKjr+CzAz3I3DiHZv5r5vtPhP1Rqa+vL0IpkRnjaKw3ma4bWF2VUSiU0G63UK1WQR0XDtHQUO5hefwLjJ1/E+Ofv45y+iQsvcSCEKCUKIODg1Fp7973ImHI5MXFB/jl6vdsbOwarl+/gqtXfkCxWILrul2xYXTQNmy4ZgOXzn2F8Z9OYf73d1DNfcnErFBiKYNHjkSlPXvejnAOeWYmibNnT7BvLp7HxYujGBk5gUcrq90Wsm1bVADbtuC4FLl0GolrP6O0mH/aGYQQ5ejRIdE2A//ZNiJiYoT0KWJJiYpMDQGxtgmPRqVDhw5FHEpl6jhotlpM13X4vicaDM/PZm9u6dVtwnhvxHG9NdcyYG7UmeN53DB0bhgG13Wda5rGgyDgjDHON018W54VHowfjDiuu0osC+31jUBsEISQkFLaRYx93+8iwjnfTvBYKHeFH36wPxqEfk2tNbG8oMDzxay2IT7dFFuYaULTNDSbTViW9XQ5bg+lVB0aGtoh9fT0vJRIJPrT6dRoeiZ1OplMnkmlps9MT/9LKpXqIsZTU1PPMDk5KZ4ZnZiYGNi1a9fLkgiA/wWRfwCg//41oW23zgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"1\"\n        title=\"1\"\n        src=\"/static/c756c6779d66a4d4f0c26b2f5f612be8/37523/1.png\"\n        srcset=\"/static/c756c6779d66a4d4f0c26b2f5f612be8/e9ff0/1.png 180w,\n/static/c756c6779d66a4d4f0c26b2f5f612be8/f21e7/1.png 360w,\n/static/c756c6779d66a4d4f0c26b2f5f612be8/37523/1.png 720w,\n/static/c756c6779d66a4d4f0c26b2f5f612be8/302a4/1.png 1080w,\n/static/c756c6779d66a4d4f0c26b2f5f612be8/07a9c/1.png 1440w,\n/static/c756c6779d66a4d4f0c26b2f5f612be8/89557/1.png 1928w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>자.. 그렇다면 닫히는 건 어떻게 해야 할까? 보통 모달은 모달 바깥을 클릭하면 닫히곤 한다.</p>\n<p> </p>\n<h2 id=\"모달-밖을-클릭하면-모달이-닫히게-하고-싶어\" style=\"position:relative;\"><a href=\"#%EB%AA%A8%EB%8B%AC-%EB%B0%96%EC%9D%84-%ED%81%B4%EB%A6%AD%ED%95%98%EB%A9%B4-%EB%AA%A8%EB%8B%AC%EC%9D%B4-%EB%8B%AB%ED%9E%88%EA%B2%8C-%ED%95%98%EA%B3%A0-%EC%8B%B6%EC%96%B4\" aria-label=\"모달 밖을 클릭하면 모달이 닫히게 하고 싶어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>모달 밖을 클릭하면 모달이 닫히게 하고 싶어!</h2>\n<p>여기에는 두 가지 방법이 있다.</p>\n<h3 id=\"1-ref-사용하기\" style=\"position:relative;\"><a href=\"#1-ref-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"1 ref 사용하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. ref 사용하기</h3>\n<p>ref를 사용해서 클릭 이벤트가 컴포넌트 내부에서 발생한 것이 아니라면 close를 해주는 방법이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> BuyMeACoffee<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">FC</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isModalOpened<span class=\"token punctuation\">,</span> setIsModalOpened<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> modalRef <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useRef</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>HTMLDivElement<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">closeModal</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>e<span class=\"token operator\">:</span> MouseEvent<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isModalOpened <span class=\"token operator\">&amp;&amp;</span> modalRef<span class=\"token punctuation\">.</span>current <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>modalRef<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>target <span class=\"token keyword\">as</span> Node<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// 이벤트가 발생한 노드가 모달 컴포넌트 내부에 존재하지 않는다면 close</span>\n        <span class=\"token function\">setIsModalOpened</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// 이벤트 리스너를 document 전체에 붙여줌</span>\n    document<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mousedown'</span><span class=\"token punctuation\">,</span> closeModal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      document<span class=\"token punctuation\">.</span><span class=\"token function\">removeEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mousedown'</span><span class=\"token punctuation\">,</span> closeModal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>isModalOpened<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setIsModalOpened</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Text<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">{</span><span class=\"token string\">'BuyMeACoffee'</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>char<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n            <span class=\"token operator\">&lt;</span>p key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>index<span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>char<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Text<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Button<span class=\"token operator\">></span>\n\n      <span class=\"token punctuation\">{</span>isModalOpened <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Modal ref<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>modalRef<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Title<span class=\"token operator\">></span>Buy Me <span class=\"token constant\">A</span> Coffee ☕️<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Title<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Modal<span class=\"token operator\">></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p> </p>\n<h3 id=\"2-wrapper를-추가하기\" style=\"position:relative;\"><a href=\"#2-wrapper%EB%A5%BC-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\" aria-label=\"2 wrapper를 추가하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Wrapper를 추가하기</h3>\n<p>모달을 감싸면서 화면 전체를 덮는 Wrapper를 추가하여 onClick 이벤트를 걸어주는 방법이다.</p>\n<p>나는 어차피 모달 뒤에 배경을 넣어주고 싶었기에 Wrapper(ModalBackground)를 만든 후 이벤트를 걸어주었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> BuyMeACoffee<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">FC</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isModalOpened<span class=\"token punctuation\">,</span> setIsModalOpened<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setIsModalOpened</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Text<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">{</span><span class=\"token string\">'BuyMeACoffee'</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>char<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n            <span class=\"token operator\">&lt;</span>p key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>index<span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>char<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Text<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Button<span class=\"token operator\">></span>\n\n      <span class=\"token punctuation\">{</span>isModalOpened <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>ModalBackground onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setIsModalOpened</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Modal<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Title<span class=\"token operator\">></span>Buy Me <span class=\"token constant\">A</span> Coffee ☕️<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Title<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Modal<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>ModalBackground<span class=\"token operator\">></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 94.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABYlAAAWJQFJUiTwAAAD80lEQVQ4y62S22/bZBjGLbiDO0h2wf/A/zD1ohdIRNolGhOTENWaHkdP0tAktEHLKOUwoJNAgBCwckGnIY2xdsl6ChSaQ9tlabemdtOmjZM6tmPH3+f48PlBdg+0HZc80qPPfv3599nv+3DXPh99RondPL3z189nyqvpSOXxUqQhChFa4iP6xkpESU1GjPREhC7FImTxfkTznfw9Uk9PBDaWYhHt4YMzUvLe6W8vdz7LvXv16gtkLbNJxByquxUUi0Uosoy6rkOvqVCFHHQ+CzW/DI1/iIbv7TWQzRUYhRVoa4torKZQy/5dHBm68iL3zqVLoYpUXfc8oGFZrqrWmCwrrF43GCGUEbPBDGqyml5nep0wyyDMdj1GzQZr2A4jBnFhWXAMIlzo6DzFRaPREKV0XVUVFAoFtlPa8QghHoD/tF5TvWJxyxNF0dva2vR2SjtsMhZH/MGUsJhJhbmuri4fyHueB9u2meM4cF0G//6kfSkOYDsuHNuGZVl+iaVSaUxPzwjJ5EKY6+7uDhFCeOyJ4Yj+he2V1e0U7kx8DYPSI3vc4CFjTGhtje594QHQcRzmuq6/+huOsuFYJlZiH2Pyk1dRyP6BykYOlJj7LAbDMISBgYFw0EPTNHlN1/0Js1KpBN/VahUHcMdlcBoaTCkLOfsNVmKf4fKbr+O30ShqhTvMshxQSoWety+GuZaWlpBlWbwPWVpaYplMBgsLC0hn0uB5HoXCBkpiGeXtdWwlf4Bw9xxmh1/CYGszknevQ8p9xWz7ANgd5jo6OoOh+IMQxQrTNB1P1vLI53nUajWoqgrDINBVCUp5DU/iN3Dr2iu4N/QyCrODqKubzHEBSonQ29sb5s6ffyPkOC6fyy1jbOw7dvv2Lxgfv4mxse+xvs77JwdQ3zXdRD75K66/P4j7P32IzK1z2F6+EXSbEkPo7ekJc2fPvhZizOPn5+cwMnKFjY5+ii+/GMFHw+9hdfVxED/TNP1IQZGr2C5kkZ3/E1PjP2Lr0aPDZBBChL6+/uOx8bynhnuYvxNFUE2BQ40TwL4w197eHkyZUIpypcJkWQ5+7ynyQS4ZO3aItx/SQ2BHWzRkNhrrlqFD3xWZXjc8RVE8SZK8arXqieWyJ8uy57qu5+2RgrQf0XFgW7TNB+YNrQ5JrDjUNF1N01xd1129Xg9WwzBcy7Jcs9Fwbdv2yUft7AP5ANjy1oWw49g7FVHG49yGP35UKhXsSlIQbj86iqJAkqQg8Lu7u0HgT7aEUir29/ef4pqamp6LxWLdicTccCIxNzQzM/PB3NzcoWdnZwP714lEIlinp6cPPTU15b8zHI/HLzY3Nz/P+QLwv9jXPzbV/K8gjiJvAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2\"\n        title=\"2\"\n        src=\"/static/7be90b70f3fb1bdc8154471546035e49/37523/2.png\"\n        srcset=\"/static/7be90b70f3fb1bdc8154471546035e49/e9ff0/2.png 180w,\n/static/7be90b70f3fb1bdc8154471546035e49/f21e7/2.png 360w,\n/static/7be90b70f3fb1bdc8154471546035e49/37523/2.png 720w,\n/static/7be90b70f3fb1bdc8154471546035e49/302a4/2.png 1080w,\n/static/7be90b70f3fb1bdc8154471546035e49/07a9c/2.png 1440w,\n/static/7be90b70f3fb1bdc8154471546035e49/89557/2.png 1928w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>그런데 문제가 있다. Background에 흐림효과를 넣어준 것을 볼 수 있는데, 최상단에 fixed 되어있는 헤더와 테마전환 버튼이 가려지지 않고 있다.</p>\n<p>이는 모달 컴포넌트 자체가 더 안쪽 뎁스에 존재하기 때문에 발생하는 것으로, z-index를 아무리 높게 주어도 해결되지 않는다.</p>\n<p> </p>\n<h2 id=\"모달을-최상단에-두고-싶어\" style=\"position:relative;\"><a href=\"#%EB%AA%A8%EB%8B%AC%EC%9D%84-%EC%B5%9C%EC%83%81%EB%8B%A8%EC%97%90-%EB%91%90%EA%B3%A0-%EC%8B%B6%EC%96%B4\" aria-label=\"모달을 최상단에 두고 싶어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>모달을 최상단에 두고 싶어!</h2>\n<p>이를 위해 <a href=\"https://ko.legacy.reactjs.org/docs/portals.html\"><code class=\"language-text\">ReactDom</code>이 제공하는 방법</a>이 있다. createPortal을 사용하면 상단의 돔 노드로 렌더링할 수 있다.</p>\n<blockquote>\n<p>참고: 포탈을 사용해서 상위의 DOM 트리에 두었다 할지라도,    포탈은 여전히 React 트리에 존재하기 때문에 기존과 동일하게 context 기능과 이벤트 버블링이 동작한다.</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> BuyMeACoffee<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">FC</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isModalOpened<span class=\"token punctuation\">,</span> setIsModalOpened<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setIsModalOpened</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Text<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">{</span><span class=\"token string\">'BuyMeACoffee'</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>char<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n            <span class=\"token operator\">&lt;</span>p key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>index<span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>char<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Text<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Button<span class=\"token operator\">></span>\n\n      <span class=\"token punctuation\">{</span>isModalOpened <span class=\"token operator\">&amp;&amp;</span>\n        <span class=\"token function\">createPortal</span><span class=\"token punctuation\">(</span>\n          <span class=\"token operator\">&lt;</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>ModalBackground onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setIsModalOpened</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Modal<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Title<span class=\"token operator\">></span>Buy Me <span class=\"token constant\">A</span> Coffee ☕️<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Title<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Modal<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>ModalBackground<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n          document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>위와 같이 수정하면, 기대했던 대로 CSS가 적용되는 모습을 볼 수 있다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 93.88888888888887%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABYlAAAWJQFJUiTwAAADyUlEQVQ4y5VUS4scVRTufyHowo2/QXAh4rJRcGGBOrhxoS0G0eAYFy7E4ANXWYggWUggOhjiYkIMzAzpwY5RZxKnX9PvV7pruruqq7qe99b71v3k1sxkegQXHviocy+nvjrnO+dUbnF/82l7/9fXSfMPKdCnErMUiTsLKTYVKVJHUlArSlHtrpQc7krxYVHyD3eloLIj+eVtyTvYksJ6UYpaJXH/mnJ/88mc0ateiGY9hJqMqSxjMhrB1HVQ14Wz1GAP6iDDOuxeFXa/iqBfgT9uIpDbiKZduIMqnNYDkPZDLGp/vZmbL7RCGDMAiHw/YLbjMst2GCGUUeox6oeM+CGzXMoc6rMkCFkKMA6Il1iSgqVhHIOl0NXFG7mlrhfCIMB8PmeKonBN03iSxBzACfgJjs+UOFyZz7iInc9mXJnPeavdZr+V7kHTtLWcbdsFzjkopYxQyimlYCzLGOL+DGl25yUAoZ6IByEEYRjyTqebbmz8jMVisZYzTTMjxHEJmXNKhtO0TshiqmDn4TacMMKKiZAsYLlc/jfhaobCkjhGu3gFt795Ed2/7yIJCJI4zMLSlKeiKl3X13KWZRXSNIVlWUxVVa7rOhRVzUpazTSNCeyjBzjau4rhn9dx49uvcevqV/DNHvc9koq45SmhYB+NRqw/GPDJZAJZljN9VgmT0IHRvQNt71Mc/vgC3n/lOVz78i1MdiRu68OsZF1Tz0qWZZmNx4+4qiqoVqvY39/HdDpFEAQIggihZ0Dt7aJ64z3sff8sNj97Bv29X+BbUx6EccrT9LyGqqqyiSxzRVHR6XRQq9WFJiIIc0XBbHqEIGZob13Bd5c/wU9fvIra9efRL33IPc/LStZ1bS1HKSlQ6uPy5x+xixff4R+vX8D6+tu4dOkDjB6Nswwty4LrulgsNBzsXsOdjR+wdfMm6r/fgjoocp7GqVBGP9MwhSyP2XDY56PREINBD8PRAEEQZhoKjUXjojBEFIdwDQuNe9uYNQ4ej81xhsuzLnueL9aN+0GA/2M8ZSuE+pmGruMwSginnocoihDHcYYkSbLszm8NF8N3PPDHY7BCaBgF8SVXkZnnWNxxCbdtm5umyQ3DyJ4sFfF8Zb/BV00sxWqG7wrC8eCI2ZbLoygS+yw6x8WeCgifEJL5KySrYI9XT9f1rORGtY+FooMQF4ZhwDRNOI6TQfhifMSwCwkERKP+jeznUCqVniqXyy9PpqN8p9vON5vNfKfTybfb7Xyr2cy3Wq3s3O12841GI1+pVDKUy+VzqFQqLxWLxSf+ASSMU7vFuSuAAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"3\"\n        title=\"3\"\n        src=\"/static/c310a1629cbdcead8dd77573f7ca1d4b/37523/3.png\"\n        srcset=\"/static/c310a1629cbdcead8dd77573f7ca1d4b/e9ff0/3.png 180w,\n/static/c310a1629cbdcead8dd77573f7ca1d4b/f21e7/3.png 360w,\n/static/c310a1629cbdcead8dd77573f7ca1d4b/37523/3.png 720w,\n/static/c310a1629cbdcead8dd77573f7ca1d4b/302a4/3.png 1080w,\n/static/c310a1629cbdcead8dd77573f7ca1d4b/07a9c/3.png 1440w,\n/static/c310a1629cbdcead8dd77573f7ca1d4b/161ec/3.png 1840w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>그런데 여전히 문제가 있다. 사진으로는 확인이 어렵지만, 실제로 저 코드에서는 배경 뒤의 화면을 스크롤할 수 있다.</p>\n<p> </p>\n<h2 id=\"모달의-백그라운드에서-스크롤을-막고-싶어\" style=\"position:relative;\"><a href=\"#%EB%AA%A8%EB%8B%AC%EC%9D%98-%EB%B0%B1%EA%B7%B8%EB%9D%BC%EC%9A%B4%EB%93%9C%EC%97%90%EC%84%9C-%EC%8A%A4%ED%81%AC%EB%A1%A4%EC%9D%84-%EB%A7%89%EA%B3%A0-%EC%8B%B6%EC%96%B4\" aria-label=\"모달의 백그라운드에서 스크롤을 막고 싶어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>모달의 백그라운드에서 스크롤을 막고 싶어!</h2>\n<p>이는 아주 간단하다. 최상단 요소에 css 한 줄만 추가해주면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.scroll-locked</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">overflow</span><span class=\"token punctuation\">:</span> hidden<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위의 className을 모달이 열리고 닫힐 때 추가/삭제 해주도록 하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> BuyMeACoffee<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">FC</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isModalOpened<span class=\"token punctuation\">,</span> setIsModalOpened<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> html <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'html'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">openModal</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setIsModalOpened</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    html<span class=\"token operator\">?.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">'scroll-locked'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">closeModal</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setIsModalOpened</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    html<span class=\"token operator\">?.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">'scroll-locked'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>openModal<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Text<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">{</span><span class=\"token string\">'BuyMeACoffee'</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>char<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n            <span class=\"token operator\">&lt;</span>p key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>index<span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>char<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Text<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Button<span class=\"token operator\">></span>\n\n      <span class=\"token punctuation\">{</span>isModalOpened <span class=\"token operator\">&amp;&amp;</span>\n        <span class=\"token function\">createPortal</span><span class=\"token punctuation\">(</span>\n          <span class=\"token operator\">&lt;</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>ModalBackground onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>closeModal<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Modal<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Title<span class=\"token operator\">></span>Buy Me <span class=\"token constant\">A</span> Coffee ☕️<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Title<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>Modal<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token constant\">S</span><span class=\"token punctuation\">.</span>ModalBackground<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n          document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<blockquote>\n<p>Gatsby에서는 document에 바로 접근할 경우 SSR로 인해 빌드 에러가 발생한다. 따라서 다음과 같은 코드로 작성해주었다.</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>html<span class=\"token punctuation\">,</span> setHtml<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">useState</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>HTMLHtmlElement <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setHtml</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'html'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이제 원하는 대로 동작하는 모달을 완성했다!</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 420px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 99.44444444444443%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMEAv/EABYBAQEBAAAAAAAAAAAAAAAAAAECA//aAAwDAQACEAMQAAABvaeTK4uFzvgJmA//xAAeEAABBAEFAAAAAAAAAAAAAAADAQISMwQAESEiMf/aAAgBAQABBQIadU4Uu8zOhqbnLkW5HorDW//EABgRAAIDAAAAAAAAAAAAAAAAAAABEBJC/9oACAEDAQE/AbIZqP/EABgRAQEAAwAAAAAAAAAAAAAAAAEAAhBB/9oACAECAQE/AXFYua//xAAbEAABBQEBAAAAAAAAAAAAAAAAARAhMXECEf/aAAgBAQAGPwKW0i1L8x0Oj//EABwQAAICAgMAAAAAAAAAAAAAAAABETEhURCBof/aAAgBAQABPyFqgq6EoqCBndjCx0DjLMBXPUKCvge4/9oADAMBAAIAAwAAABCrHz3/xAAZEQEAAwEBAAAAAAAAAAAAAAABABExIYH/2gAIAQMBAT8QrKIi3kceR1n/xAAZEQEBAQADAAAAAAAAAAAAAAABACExQYH/2gAIAQIBAT8QUVhht39jgv/EAB4QAQADAAICAwAAAAAAAAAAAAEAESExUUGBYaGx/9oACAEBAAE/ELvG3p0SahLqw7gvAhdQNWXn2C8V5qGrRw4xmwFxTAK4/YS2i7q/UdfLZ9TsPuz/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"4\"\n        title=\"4\"\n        src=\"/static/d5c8985344c8c80a360eb540e696b456/65f94/4.jpg\"\n        srcset=\"/static/d5c8985344c8c80a360eb540e696b456/4ec73/4.jpg 180w,\n/static/d5c8985344c8c80a360eb540e696b456/158ba/4.jpg 360w,\n/static/d5c8985344c8c80a360eb540e696b456/65f94/4.jpg 420w\"\n        sizes=\"(max-width: 420px) 100vw, 420px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<ul>\n<li><a href=\"#%EB%AA%A8%EB%8B%AC-%EC%B0%BD-%EB%A7%8C%EB%93%A4%EA%B8%B0\">모달 창 만들기..!</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%9D%BC%EB%8B%A8%EC%9D%80-%EB%AA%A8%EB%8B%AC%EC%9D%84-%EB%A7%8C%EB%93%A4%EC%96%B4%EB%B3%B4%EC%9E%90\">일단은 모달을 만들어보자</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%AA%A8%EB%8B%AC-%EB%B0%96%EC%9D%84-%ED%81%B4%EB%A6%AD%ED%95%98%EB%A9%B4-%EB%AA%A8%EB%8B%AC%EC%9D%B4-%EB%8B%AB%ED%9E%88%EA%B2%8C-%ED%95%98%EA%B3%A0-%EC%8B%B6%EC%96%B4\">모달 밖을 클릭하면 모달이 닫히게 하고 싶어!</a></p>\n<ul>\n<li><a href=\"#1-ref-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\">1. ref 사용하기</a></li>\n<li><a href=\"#2-wrapper%EB%A5%BC-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\">2. Wrapper를 추가하기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%AA%A8%EB%8B%AC%EC%9D%84-%EC%B5%9C%EC%83%81%EB%8B%A8%EC%97%90-%EB%91%90%EA%B3%A0-%EC%8B%B6%EC%96%B4\">모달을 최상단에 두고 싶어!</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%AA%A8%EB%8B%AC%EC%9D%98-%EB%B0%B1%EA%B7%B8%EB%9D%BC%EC%9A%B4%EB%93%9C%EC%97%90%EC%84%9C-%EC%8A%A4%ED%81%AC%EB%A1%A4%EC%9D%84-%EB%A7%89%EA%B3%A0-%EC%8B%B6%EC%96%B4\">모달의 백그라운드에서 스크롤을 막고 싶어!</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"2023.05.26","title":"React에서 모달 한번 잘 만들어보자 (feat. createPortal & ref)","categories":"Dev","emoji":"🪟"},"fields":{"slug":"/33-modal/"}},"site":{"siteMetadata":{"siteUrl":"https://jeong-min.com","comments":{"utterances":{"repo":"danmin20/danmin-gatsby-blog"}}}}},"pageContext":{"slug":"/32-hosts/","nextSlug":"/31-formdata/","prevSlug":"/33-modal/"}},"staticQueryHashes":["1321405810","3649515864"]}